(function () {
    "function" != typeof window.BX && (
        /**
         * Babel external helpers
         * (c) 2018 Babel
         * @license MIT
         */
        !function (e) { var t, n = e.babelHelpers = {}; function r(e) { return "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? n.typeof = r = function (e) { return typeof e } : n.typeof = r = function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, r(e) } function i(e) { var t, r; function i(t, r) { try { var s = e[t](r), a = s.value, u = a instanceof n.AwaitValue; Promise.resolve(u ? a.wrapped : a).then((function (e) { u ? i("next", e) : o(s.done ? "return" : "normal", e) }), (function (e) { i("throw", e) })) } catch (e) { o("throw", e) } } function o(e, n) { switch (e) { case "return": t.resolve({ value: n, done: !0 }); break; case "throw": t.reject(n); break; default: t.resolve({ value: n, done: !1 }) }(t = t.next) ? i(t.key, t.arg) : r = null } this._invoke = function (e, n) { return new Promise((function (o, s) { var a = { key: e, arg: n, resolve: o, reject: s, next: null }; r ? r = r.next = a : (t = r = a, i(e, n)) })) }, "function" != typeof e.return && (this.return = void 0) } function o(e, t, n, r, i, o, s) { try { var a = e[o](s), u = a.value } catch (e) { return void n(e) } a.done ? t(u) : Promise.resolve(u).then(r, i) } function s(e, t) { for (var n = 0; n < t.length; n++) { var r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r) } } function a() { return n.extends = a = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, a.apply(this, arguments) } function u(e) { return n.getPrototypeOf = u = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) }, u(e) } function l(e, t) { return n.setPrototypeOf = l = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e }, l(e, t) } function c() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], (function () { }))), !0 } catch (e) { return !1 } } function f(e, t, r) { return c() ? n.construct = f = Reflect.construct : n.construct = f = function (e, t, r) { var i = [null]; i.push.apply(i, t); var o = new (Function.bind.apply(e, i)); return r && n.setPrototypeOf(o, r.prototype), o }, f.apply(null, arguments) } function p(e) { var t = "function" == typeof Map ? new Map : void 0; return n.wrapNativeSuper = p = function (e) { if (null === e || !n.isNativeFunction(e)) return e; if ("function" != typeof e) throw new TypeError("Super expression must either be null or a function"); if (void 0 !== t) { if (t.has(e)) return t.get(e); t.set(e, r) } function r() { return n.construct(e, arguments, n.getPrototypeOf(this).constructor) } return r.prototype = Object.create(e.prototype, { constructor: { value: r, enumerable: !1, writable: !0, configurable: !0 } }), n.setPrototypeOf(r, e) }, p(e) } function h(e, t, r) { return "undefined" != typeof Reflect && Reflect.get ? n.get = h = Reflect.get : n.get = h = function (e, t, r) { var i = n.superPropBase(e, t); if (i) { var o = Object.getOwnPropertyDescriptor(i, t); return o.get ? o.get.call(r) : o.value } }, h(e, t, r || e) } function d(e, t, r, i) { return (d = "undefined" != typeof Reflect && Reflect.set ? Reflect.set : function (e, t, r, i) { var o, s = n.superPropBase(e, t); if (s) { if ((o = Object.getOwnPropertyDescriptor(s, t)).set) return o.set.call(i, r), !0; if (!o.writable) return !1 } if (o = Object.getOwnPropertyDescriptor(i, t)) { if (!o.writable) return !1; o.value = r, Object.defineProperty(i, t, o) } else n.defineProperty(i, t, r); return !0 })(e, t, r, i) } n.typeof = r, n.jsx = function (e, n, r, i) { t || (t = "function" == typeof Symbol && Symbol.for && Symbol.for("react.element") || 60103); var o = e && e.defaultProps, s = arguments.length - 3; if (n || 0 === s || (n = { children: void 0 }), n && o) for (var a in o) void 0 === n[a] && (n[a] = o[a]); else n || (n = o || {}); if (1 === s) n.children = i; else if (s > 1) { for (var u = new Array(s), l = 0; l < s; l++)u[l] = arguments[l + 3]; n.children = u } return { $$typeof: t, type: e, key: void 0 === r ? null : "" + r, ref: null, props: n, _owner: null } }, n.asyncIterator = function (e) { var t; if ("function" == typeof Symbol) { if (Symbol.asyncIterator && null != (t = e[Symbol.asyncIterator])) return t.call(e); if (Symbol.iterator && null != (t = e[Symbol.iterator])) return t.call(e) } throw new TypeError("Object is not async iterable") }, n.AwaitValue = function (e) { this.wrapped = e }, "function" == typeof Symbol && Symbol.asyncIterator && (i.prototype[Symbol.asyncIterator] = function () { return this }), i.prototype.next = function (e) { return this._invoke("next", e) }, i.prototype.throw = function (e) { return this._invoke("throw", e) }, i.prototype.return = function (e) { return this._invoke("return", e) }, n.AsyncGenerator = i, n.wrapAsyncGenerator = function (e) { return function () { return new n.AsyncGenerator(e.apply(this, arguments)) } }, n.awaitAsyncGenerator = function (e) { return new n.AwaitValue(e) }, n.asyncGeneratorDelegate = function (e, t) { var n = {}, r = !1; function i(n, i) { return r = !0, i = new Promise((function (t) { t(e[n](i)) })), { done: !1, value: t(i) } } return "function" == typeof Symbol && Symbol.iterator && (n[Symbol.iterator] = function () { return this }), n.next = function (e) { return r ? (r = !1, e) : i("next", e) }, "function" == typeof e.throw && (n.throw = function (e) { if (r) throw r = !1, e; return i("throw", e) }), "function" == typeof e.return && (n.return = function (e) { return i("return", e) }), n }, n.asyncToGenerator = function (e) { return function () { var t = this, n = arguments; return new Promise((function (r, i) { var s = e.apply(t, n); function a(e) { o(s, r, i, a, u, "next", e) } function u(e) { o(s, r, i, a, u, "throw", e) } a(void 0) })) } }, n.classCallCheck = function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }, n.createClass = function (e, t, n) { return t && s(e.prototype, t), n && s(e, n), e }, n.defineEnumerableProperties = function (e, t) { for (var n in t) { (o = t[n]).configurable = o.enumerable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, n, o) } if (Object.getOwnPropertySymbols) for (var r = Object.getOwnPropertySymbols(t), i = 0; i < r.length; i++) { var o, s = r[i]; (o = t[s]).configurable = o.enumerable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, s, o) } return e }, n.defaults = function (e, t) { for (var n = Object.getOwnPropertyNames(t), r = 0; r < n.length; r++) { var i = n[r], o = Object.getOwnPropertyDescriptor(t, i); o && o.configurable && void 0 === e[i] && Object.defineProperty(e, i, o) } return e }, n.defineProperty = function (e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e }, n.extends = a, n.objectSpread = function (e) { for (var t = 1; t < arguments.length; t++) { var r = null != arguments[t] ? arguments[t] : {}, i = Object.keys(r); "function" == typeof Object.getOwnPropertySymbols && (i = i.concat(Object.getOwnPropertySymbols(r).filter((function (e) { return Object.getOwnPropertyDescriptor(r, e).enumerable })))), i.forEach((function (t) { n.defineProperty(e, t, r[t]) })) } return e }, n.inherits = function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && n.setPrototypeOf(e, t) }, n.inheritsLoose = function (e, t) { e.prototype = Object.create(t.prototype), e.prototype.constructor = e, e.__proto__ = t }, n.getPrototypeOf = u, n.setPrototypeOf = l, n.construct = f, n.isNativeFunction = function (e) { return -1 !== Function.toString.call(e).indexOf("[native code]") }, n.wrapNativeSuper = p, n.instanceof = function (e, t) { return null != t && "undefined" != typeof Symbol && t[Symbol.hasInstance] ? t[Symbol.hasInstance](e) : e instanceof t }, n.interopRequireDefault = function (e) { return e && e.__esModule ? e : { default: e } }, n.interopRequireWildcard = function (e) { if (e && e.__esModule) return e; var t = {}; if (null != e) for (var n in e) if (Object.prototype.hasOwnProperty.call(e, n)) { var r = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(e, n) : {}; r.get || r.set ? Object.defineProperty(t, n, r) : t[n] = e[n] } return t.default = e, t }, n.newArrowCheck = function (e, t) { if (e !== t) throw new TypeError("Cannot instantiate an arrow function") }, n.objectDestructuringEmpty = function (e) { if (null == e) throw new TypeError("Cannot destructure undefined") }, n.objectWithoutPropertiesLoose = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }, n.objectWithoutProperties = function (e, t) { if (null == e) return {}; var r, i, o = n.objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var s = Object.getOwnPropertySymbols(e); for (i = 0; i < s.length; i++)r = s[i], t.indexOf(r) >= 0 || Object.prototype.propertyIsEnumerable.call(e, r) && (o[r] = e[r]) } return o }, n.assertThisInitialized = function (e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }, n.possibleConstructorReturn = function (e, t) { return !t || "object" != typeof t && "function" != typeof t ? n.assertThisInitialized(e) : t }, n.superPropBase = function (e, t) { for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = n.getPrototypeOf(e));); return e }, n.get = h, n.set = function (e, t, n, r, i) { if (!d(e, t, n, r || e) && i) throw new Error("failed to set property"); return n }, n.taggedTemplateLiteral = function (e, t) { return t || (t = e.slice(0)), Object.freeze(Object.defineProperties(e, { raw: { value: Object.freeze(t) } })) }, n.taggedTemplateLiteralLoose = function (e, t) { return t || (t = e.slice(0)), e.raw = t, e }, n.temporalRef = function (e, t) { if (e === n.temporalUndefined) throw new ReferenceError(t + " is not defined - temporal dead zone"); return e }, n.readOnlyError = function (e) { throw new Error('"' + e + '" is read-only') }, n.classNameTDZError = function (e) { throw new Error('Class "' + e + '" cannot be referenced in computed property keys.') }, n.temporalUndefined = {}, n.slicedToArray = function (e, t) { return n.arrayWithHoles(e) || n.iterableToArrayLimit(e, t) || n.nonIterableRest() }, n.slicedToArrayLoose = function (e, t) { return n.arrayWithHoles(e) || n.iterableToArrayLimitLoose(e, t) || n.nonIterableRest() }, n.toArray = function (e) { return n.arrayWithHoles(e) || n.iterableToArray(e) || n.nonIterableRest() }, n.toConsumableArray = function (e) { return n.arrayWithoutHoles(e) || n.iterableToArray(e) || n.nonIterableSpread() }, n.arrayWithoutHoles = function (e) { if (Array.isArray(e)) { for (var t = 0, n = new Array(e.length); t < e.length; t++)n[t] = e[t]; return n } }, n.arrayWithHoles = function (e) { if (Array.isArray(e)) return e }, n.iterableToArray = function (e) { if (Symbol.iterator in Object(e) || "[object Arguments]" === Object.prototype.toString.call(e)) return Array.from(e) }, n.iterableToArrayLimit = function (e, t) { var n = [], r = !0, i = !1, o = void 0; try { for (var s, a = e[Symbol.iterator](); !(r = (s = a.next()).done) && (n.push(s.value), !t || n.length !== t); r = !0); } catch (e) { i = !0, o = e } finally { try { r || null == a.return || a.return() } finally { if (i) throw o } } return n }, n.iterableToArrayLimitLoose = function (e, t) { for (var n, r = [], i = e[Symbol.iterator](); !(n = i.next()).done && (r.push(n.value), !t || r.length !== t);); return r }, n.nonIterableSpread = function () { throw new TypeError("Invalid attempt to spread non-iterable instance") }, n.nonIterableRest = function () { throw new TypeError("Invalid attempt to destructure non-iterable instance") }, n.skipFirstGeneratorNext = function (e) { return function () { var t = e.apply(this, arguments); return t.next(), t } }, n.toPropertyKey = function (e) { return "symbol" == typeof e ? e : String(e) }, n.initializerWarningHelper = function (e, t) { throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and set to use loose mode. To use proposal-class-properties in spec mode with decorators, wait for the next major version of decorators in stage 2.") }, n.initializerDefineProperty = function (e, t, n, r) { n && Object.defineProperty(e, t, { enumerable: n.enumerable, configurable: n.configurable, writable: n.writable, value: n.initializer ? n.initializer.call(r) : void 0 }) }, n.applyDecoratedDescriptor = function (e, t, n, r, i) { var o = {}; return Object.keys(r).forEach((function (e) { o[e] = r[e] })), o.enumerable = !!o.enumerable, o.configurable = !!o.configurable, ("value" in o || o.initializer) && (o.writable = !0), o = n.slice().reverse().reduce((function (n, r) { return r(e, t, n) || n }), o), i && void 0 !== o.initializer && (o.value = o.initializer ? o.initializer.call(i) : void 0, o.initializer = void 0), void 0 === o.initializer && (Object.defineProperty(e, t, o), o = null), o }; var y = 0; n.classPrivateFieldLooseKey = function (e) { return "__private_" + y++ + "_" + e }, n.classPrivateFieldLooseBase = function (e, t) { if (!Object.prototype.hasOwnProperty.call(e, t)) throw new TypeError("attempted to use private field on non-instance"); return e }, n.classPrivateFieldGet = function (e, t) { if (!t.has(e)) throw new TypeError("attempted to get private field on non-instance"); return t.get(e).value }, n.classPrivateFieldSet = function (e, t, n) { if (!t.has(e)) throw new TypeError("attempted to set private field on non-instance"); var r = t.get(e); if (!r.writable) throw new TypeError("attempted to set read only private field"); return r.value = n, n } }("undefined" == typeof global ? window : global), function (e) { "use strict"; var t, n = Object.prototype, r = n.hasOwnProperty, i = "function" == typeof Symbol ? Symbol : {}, o = i.iterator || "@@iterator", s = i.asyncIterator || "@@asyncIterator", a = i.toStringTag || "@@toStringTag", u = e.regeneratorRuntime = {}; function l(e, t, n, r) { var i = t && t.prototype instanceof m ? t : m, o = Object.create(i.prototype), s = new X(r || []); return o._invoke = function (e, t, n) { var r = f; return function (i, o) { if (r === h) throw new Error("Generator is already running"); if (r === d) { if ("throw" === i) throw o; return k() } for (n.method = i, n.arg = o; ;) { var s = n.delegate; if (s) { var a = T(s, n); if (a) { if (a === y) continue; return a } } if ("next" === n.method) n.sent = n._sent = n.arg; else if ("throw" === n.method) { if (r === f) throw r = d, n.arg; n.dispatchException(n.arg) } else "return" === n.method && n.abrupt("return", n.arg); r = h; var u = c(e, t, n); if ("normal" === u.type) { if (r = n.done ? d : p, u.arg === y) continue; return { value: u.arg, done: n.done } } "throw" === u.type && (r = d, n.method = "throw", n.arg = u.arg) } } }(e, n, s), o } function c(e, t, n) { try { return { type: "normal", arg: e.call(t, n) } } catch (e) { return { type: "throw", arg: e } } } u.wrap = l; var f = "suspendedStart", p = "suspendedYield", h = "executing", d = "completed", y = {}; function m() { } function g() { } function v() { } var b = {}; b[o] = function () { return this }; var w = Object.getPrototypeOf, x = w && w(w(A([]))); x && x !== n && r.call(x, o) && (b = x); var S = v.prototype = m.prototype = Object.create(b); function E(e) { ["next", "throw", "return"].forEach((function (t) { e[t] = function (e) { return this._invoke(t, e) } })) } function B(e) { function t(n, i, o, s) { var a = c(e[n], e, i); if ("throw" !== a.type) { var u = a.arg, l = u.value; return l && "object" == typeof l && r.call(l, "__await") ? Promise.resolve(l.__await).then((function (e) { t("next", e, o, s) }), (function (e) { t("throw", e, o, s) })) : Promise.resolve(l).then((function (e) { u.value = e, o(u) }), s) } s(a.arg) } var n; this._invoke = function (e, r) { function i() { return new Promise((function (n, i) { t(e, r, n, i) })) } return n = n ? n.then(i, i) : i() } } function T(e, n) { var r = e.iterator[n.method]; if (r === t) { if (n.delegate = null, "throw" === n.method) { if (e.iterator.return && (n.method = "return", n.arg = t, T(e, n), "throw" === n.method)) return y; n.method = "throw", n.arg = new TypeError("The iterator does not provide a 'throw' method") } return y } var i = c(r, e.iterator, n.arg); if ("throw" === i.type) return n.method = "throw", n.arg = i.arg, n.delegate = null, y; var o = i.arg; return o ? o.done ? (n[e.resultName] = o.value, n.next = e.nextLoc, "return" !== n.method && (n.method = "next", n.arg = t), n.delegate = null, y) : o : (n.method = "throw", n.arg = new TypeError("iterator result is not an object"), n.delegate = null, y) } function j(e) { var t = { tryLoc: e[0] }; 1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), this.tryEntries.push(t) } function O(e) { var t = e.completion || {}; t.type = "normal", delete t.arg, e.completion = t } function X(e) { this.tryEntries = [{ tryLoc: "root" }], e.forEach(j, this), this.reset(!0) } function A(e) { if (e) { var n = e[o]; if (n) return n.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var i = -1, s = function n() { for (; ++i < e.length;)if (r.call(e, i)) return n.value = e[i], n.done = !1, n; return n.value = t, n.done = !0, n }; return s.next = s } } return { next: k } } function k() { return { value: t, done: !0 } } g.prototype = S.constructor = v, v.constructor = g, v[a] = g.displayName = "GeneratorFunction", u.isGeneratorFunction = function (e) { var t = "function" == typeof e && e.constructor; return !!t && (t === g || "GeneratorFunction" === (t.displayName || t.name)) }, u.mark = function (e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, v) : (e.__proto__ = v, a in e || (e[a] = "GeneratorFunction")), e.prototype = Object.create(S), e }, u.awrap = function (e) { return { __await: e } }, E(B.prototype), B.prototype[s] = function () { return this }, u.AsyncIterator = B, u.async = function (e, t, n, r) { var i = new B(l(e, t, n, r)); return u.isGeneratorFunction(t) ? i : i.next().then((function (e) { return e.done ? e.value : i.next() })) }, E(S), S[a] = "Generator", S[o] = function () { return this }, S.toString = function () { return "[object Generator]" }, u.keys = function (e) { var t = []; for (var n in e) t.push(n); return t.reverse(), function n() { for (; t.length;) { var r = t.pop(); if (r in e) return n.value = r, n.done = !1, n } return n.done = !0, n } }, u.values = A, X.prototype = { constructor: X, reset: function (e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(O), !e) for (var n in this) "t" === n.charAt(0) && r.call(this, n) && !isNaN(+n.slice(1)) && (this[n] = t) }, stop: function () { this.done = !0; var e = this.tryEntries[0].completion; if ("throw" === e.type) throw e.arg; return this.rval }, dispatchException: function (e) { if (this.done) throw e; var n = this; function i(r, i) { return a.type = "throw", a.arg = e, n.next = r, i && (n.method = "next", n.arg = t), !!i } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var s = this.tryEntries[o], a = s.completion; if ("root" === s.tryLoc) return i("end"); if (s.tryLoc <= this.prev) { var u = r.call(s, "catchLoc"), l = r.call(s, "finallyLoc"); if (u && l) { if (this.prev < s.catchLoc) return i(s.catchLoc, !0); if (this.prev < s.finallyLoc) return i(s.finallyLoc) } else if (u) { if (this.prev < s.catchLoc) return i(s.catchLoc, !0) } else { if (!l) throw new Error("try statement without catch or finally"); if (this.prev < s.finallyLoc) return i(s.finallyLoc) } } } }, abrupt: function (e, t) { for (var n = this.tryEntries.length - 1; n >= 0; --n) { var i = this.tryEntries[n]; if (i.tryLoc <= this.prev && r.call(i, "finallyLoc") && this.prev < i.finallyLoc) { var o = i; break } } o && ("break" === e || "continue" === e) && o.tryLoc <= t && t <= o.finallyLoc && (o = null); var s = o ? o.completion : {}; return s.type = e, s.arg = t, o ? (this.method = "next", this.next = o.finallyLoc, y) : this.complete(s) }, complete: function (e, t) { if ("throw" === e.type) throw e.arg; return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg, this.method = "return", this.next = "end") : "normal" === e.type && t && (this.next = t), y }, finish: function (e) { for (var t = this.tryEntries.length - 1; t >= 0; --t) { var n = this.tryEntries[t]; if (n.finallyLoc === e) return this.complete(n.completion, n.afterLoc), O(n), y } }, catch: function (e) { for (var t = this.tryEntries.length - 1; t >= 0; --t) { var n = this.tryEntries[t]; if (n.tryLoc === e) { var r = n.completion; if ("throw" === r.type) { var i = r.arg; O(n) } return i } } throw new Error("illegal catch attempt") }, delegateYield: function (e, n, r) { return this.delegate = { iterator: A(e), resultName: n, nextLoc: r }, "next" === this.method && (this.arg = t), y } } }(function () { return this }() || Function("return this")()), function (e) { "use strict"; var t = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {}; function n(e, t) { return e(t = { exports: {} }, t.exports), t.exports } var r, i, o = function (e) { return e && e.Math == Math && e }, s = o("object" == typeof globalThis && globalThis) || o("object" == typeof window && window) || o("object" == typeof self && self) || o("object" == typeof t && t) || function () { return this }() || Function("return this")(), a = function (e) { try { return !!e() } catch (e) { return !0 } }, u = !a((function () { return 7 != Object.defineProperty({}, 1, { get: function () { return 7 } })[1] })), l = Function.prototype.call, c = l.bind ? l.bind(l) : function () { return l.apply(l, arguments) }, f = {}.propertyIsEnumerable, p = Object.getOwnPropertyDescriptor, h = { f: p && !f.call({ 1: 2 }, 1) ? function (e) { var t = p(this, e); return !!t && t.enumerable } : f }, d = function (e, t) { return { enumerable: !(1 & e), configurable: !(2 & e), writable: !(4 & e), value: t } }, y = Function.prototype, m = y.bind, g = y.call, v = m && m.bind(g), b = m ? function (e) { return e && v(g, e) } : function (e) { return e && function () { return g.apply(e, arguments) } }, w = b({}.toString), x = b("".slice), S = function (e) { return x(w(e), 8, -1) }, E = s.Object, B = b("".split), T = a((function () { return !E("z").propertyIsEnumerable(0) })) ? function (e) { return "String" == S(e) ? B(e, "") : E(e) } : E, j = s.TypeError, O = function (e) { if (null == e) throw j("Can't call method on " + e); return e }, X = function (e) { return T(O(e)) }, A = function (e) { return "function" == typeof e }, k = function (e) { return "object" == typeof e ? null !== e : A(e) }, N = function (e) { return A(e) ? e : void 0 }, C = function (e, t) { return arguments.length < 2 ? N(s[e]) : s[e] && s[e][t] }, P = b({}.isPrototypeOf), _ = C("navigator", "userAgent") || "", I = s.process, L = s.Deno, M = I && I.versions || L && L.version, D = M && M.v8; D && (i = (r = D.split("."))[0] > 0 && r[0] < 4 ? 1 : +(r[0] + r[1])), !i && _ && (!(r = _.match(/Edge\/(\d+)/)) || r[1] >= 74) && (r = _.match(/Chrome\/(\d+)/)) && (i = +r[1]); var F = i, R = !!Object.getOwnPropertySymbols && !a((function () { var e = Symbol(); return !String(e) || !(Object(e) instanceof Symbol) || !Symbol.sham && F && F < 41 })), H = R && !Symbol.sham && "symbol" == typeof Symbol.iterator, z = s.Object, W = H ? function (e) { return "symbol" == typeof e } : function (e) { var t = C("Symbol"); return A(t) && P(t.prototype, z(e)) }, G = s.String, U = function (e) { try { return G(e) } catch (e) { return "Object" } }, $ = s.TypeError, V = function (e) { if (A(e)) return e; throw $(U(e) + " is not a function") }, Y = function (e, t) { var n = e[t]; return null == n ? void 0 : V(n) }, q = s.TypeError, J = Object.defineProperty, Z = function (e, t) { try { J(s, e, { value: t, configurable: !0, writable: !0 }) } catch (n) { s[e] = t } return t }, K = "__core-js_shared__", Q = s[K] || Z(K, {}), ee = n((function (e) { (e.exports = function (e, t) { return Q[e] || (Q[e] = void 0 !== t ? t : {}) })("versions", []).push({ version: "3.19.2", mode: "global", copyright: "(c) 2021 Denis Pushkarev (zloirock.ru)" }) })), te = s.Object, ne = function (e) { return te(O(e)) }, re = b({}.hasOwnProperty), ie = Object.hasOwn || function (e, t) { return re(ne(e), t) }, oe = 0, se = Math.random(), ae = b(1..toString), ue = function (e) { return "Symbol(" + (void 0 === e ? "" : e) + ")_" + ae(++oe + se, 36) }, le = ee("wks"), ce = s.Symbol, fe = ce && ce.for, pe = H ? ce : ce && ce.withoutSetter || ue, he = function (e) { if (!ie(le, e) || !R && "string" != typeof le[e]) { var t = "Symbol." + e; R && ie(ce, e) ? le[e] = ce[e] : le[e] = H && fe ? fe(t) : pe(t) } return le[e] }, de = s.TypeError, ye = he("toPrimitive"), me = function (e, t) { if (!k(e) || W(e)) return e; var n, r = Y(e, ye); if (r) { if (void 0 === t && (t = "default"), n = c(r, e, t), !k(n) || W(n)) return n; throw de("Can't convert object to primitive value") } return void 0 === t && (t = "number"), function (e, t) { var n, r; if ("string" === t && A(n = e.toString) && !k(r = c(n, e))) return r; if (A(n = e.valueOf) && !k(r = c(n, e))) return r; if ("string" !== t && A(n = e.toString) && !k(r = c(n, e))) return r; throw q("Can't convert object to primitive value") }(e, t) }, ge = function (e) { var t = me(e, "string"); return W(t) ? t : t + "" }, ve = s.document, be = k(ve) && k(ve.createElement), we = function (e) { return be ? ve.createElement(e) : {} }, xe = !u && !a((function () { return 7 != Object.defineProperty(we("div"), "a", { get: function () { return 7 } }).a })), Se = Object.getOwnPropertyDescriptor, Ee = { f: u ? Se : function (e, t) { if (e = X(e), t = ge(t), xe) try { return Se(e, t) } catch (e) { } if (ie(e, t)) return d(!c(h.f, e, t), e[t]) } }, Be = s.String, Te = s.TypeError, je = function (e) { if (k(e)) return e; throw Te(Be(e) + " is not an object") }, Oe = s.TypeError, Xe = Object.defineProperty, Ae = { f: u ? Xe : function (e, t, n) { if (je(e), t = ge(t), je(n), xe) try { return Xe(e, t, n) } catch (e) { } if ("get" in n || "set" in n) throw Oe("Accessors not supported"); return "value" in n && (e[t] = n.value), e } }, ke = u ? function (e, t, n) { return Ae.f(e, t, d(1, n)) } : function (e, t, n) { return e[t] = n, e }, Ne = b(Function.toString); A(Q.inspectSource) || (Q.inspectSource = function (e) { return Ne(e) }); var Ce, Pe, _e, Ie = Q.inspectSource, Le = s.WeakMap, Me = A(Le) && /native code/.test(Ie(Le)), De = ee("keys"), Fe = function (e) { return De[e] || (De[e] = ue(e)) }, Re = {}, He = "Object already initialized", ze = s.TypeError, We = s.WeakMap; if (Me || Q.state) { var Ge = Q.state || (Q.state = new We), Ue = b(Ge.get), $e = b(Ge.has), Ve = b(Ge.set); Ce = function (e, t) { if ($e(Ge, e)) throw new ze(He); return t.facade = e, Ve(Ge, e, t), t }, Pe = function (e) { return Ue(Ge, e) || {} }, _e = function (e) { return $e(Ge, e) } } else { var Ye = Fe("state"); Re[Ye] = !0, Ce = function (e, t) { if (ie(e, Ye)) throw new ze(He); return t.facade = e, ke(e, Ye, t), t }, Pe = function (e) { return ie(e, Ye) ? e[Ye] : {} }, _e = function (e) { return ie(e, Ye) } } var qe, Je = { set: Ce, get: Pe, has: _e, enforce: function (e) { return _e(e) ? Pe(e) : Ce(e, {}) }, getterFor: function (e) { return function (t) { var n; if (!k(t) || (n = Pe(t)).type !== e) throw ze("Incompatible receiver, " + e + " required"); return n } } }, Ze = Function.prototype, Ke = u && Object.getOwnPropertyDescriptor, Qe = ie(Ze, "name"), et = { EXISTS: Qe, PROPER: Qe && "something" === function () { }.name, CONFIGURABLE: Qe && (!u || u && Ke(Ze, "name").configurable) }, tt = n((function (e) { var t = et.CONFIGURABLE, n = Je.get, r = Je.enforce, i = String(String).split("String"); (e.exports = function (e, n, o, a) { var u, l = !!a && !!a.unsafe, c = !!a && !!a.enumerable, f = !!a && !!a.noTargetGet, p = a && void 0 !== a.name ? a.name : n; A(o) && ("Symbol(" === String(p).slice(0, 7) && (p = "[" + String(p).replace(/^Symbol\(([^)]*)\)/, "$1") + "]"), (!ie(o, "name") || t && o.name !== p) && ke(o, "name", p), (u = r(o)).source || (u.source = i.join("string" == typeof p ? p : ""))), e !== s ? (l ? !f && e[n] && (c = !0) : delete e[n], c ? e[n] = o : ke(e, n, o)) : c ? e[n] = o : Z(n, o) })(Function.prototype, "toString", (function () { return A(this) && n(this).source || Ie(this) })) })), nt = Math.ceil, rt = Math.floor, it = function (e) { var t = +e; return t != t || 0 === t ? 0 : (t > 0 ? rt : nt)(t) }, ot = Math.max, st = Math.min, at = function (e, t) { var n = it(e); return n < 0 ? ot(n + t, 0) : st(n, t) }, ut = Math.min, lt = function (e) { return e > 0 ? ut(it(e), 9007199254740991) : 0 }, ct = function (e) { return lt(e.length) }, ft = function (e) { return function (t, n, r) { var i, o = X(t), s = ct(o), a = at(r, s); if (e && n != n) { for (; s > a;)if ((i = o[a++]) != i) return !0 } else for (; s > a; a++)if ((e || a in o) && o[a] === n) return e || a || 0; return !e && -1 } }, pt = { includes: ft(!0), indexOf: ft(!1) }.indexOf, ht = b([].push), dt = function (e, t) { var n, r = X(e), i = 0, o = []; for (n in r) !ie(Re, n) && ie(r, n) && ht(o, n); for (; t.length > i;)ie(r, n = t[i++]) && (~pt(o, n) || ht(o, n)); return o }, yt = ["constructor", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toString", "valueOf"], mt = yt.concat("length", "prototype"), gt = { f: Object.getOwnPropertyNames || function (e) { return dt(e, mt) } }, vt = { f: Object.getOwnPropertySymbols }, bt = b([].concat), wt = C("Reflect", "ownKeys") || function (e) { var t = gt.f(je(e)), n = vt.f; return n ? bt(t, n(e)) : t }, xt = function (e, t) { for (var n = wt(t), r = Ae.f, i = Ee.f, o = 0; o < n.length; o++) { var s = n[o]; ie(e, s) || r(e, s, i(t, s)) } }, St = /#|\.prototype\./, Et = function (e, t) { var n = Tt[Bt(e)]; return n == Ot || n != jt && (A(t) ? a(t) : !!t) }, Bt = Et.normalize = function (e) { return String(e).replace(St, ".").toLowerCase() }, Tt = Et.data = {}, jt = Et.NATIVE = "N", Ot = Et.POLYFILL = "P", Xt = Et, At = Ee.f, kt = function (e, t) { var n, r, i, o, a, u = e.target, l = e.global, c = e.stat; if (n = l ? s : c ? s[u] || Z(u, {}) : (s[u] || {}).prototype) for (r in t) { if (o = t[r], i = e.noTargetGet ? (a = At(n, r)) && a.value : n[r], !Xt(l ? r : u + (c ? "." : "#") + r, e.forced) && void 0 !== i) { if (typeof o == typeof i) continue; xt(o, i) } (e.sham || i && i.sham) && ke(o, "sham", !0), tt(n, r, o, e) } }, Nt = !a((function () { function e() { } return e.prototype.constructor = null, Object.getPrototypeOf(new e) !== e.prototype })), Ct = Fe("IE_PROTO"), Pt = s.Object, _t = Pt.prototype, It = Nt ? Pt.getPrototypeOf : function (e) { var t = ne(e); if (ie(t, Ct)) return t[Ct]; var n = t.constructor; return A(n) && t instanceof n ? n.prototype : t instanceof Pt ? _t : null }, Lt = s.String, Mt = s.TypeError, Dt = Object.setPrototypeOf || ("__proto__" in {} ? function () { var e, t = !1, n = {}; try { (e = b(Object.getOwnPropertyDescriptor(Object.prototype, "__proto__").set))(n, []), t = n instanceof Array } catch (e) { } return function (n, r) { return je(n), function (e) { if ("object" == typeof e || A(e)) return e; throw Mt("Can't set " + Lt(e) + " as a prototype") }(r), t ? e(n, r) : n.__proto__ = r, n } }() : void 0), Ft = Object.keys || function (e) { return dt(e, yt) }, Rt = u ? Object.defineProperties : function (e, t) { je(e); for (var n, r = X(t), i = Ft(t), o = i.length, s = 0; o > s;)Ae.f(e, n = i[s++], r[n]); return e }, Ht = C("document", "documentElement"), zt = Fe("IE_PROTO"), Wt = function () { }, Gt = function (e) { return "<script>" + e + "</" + "script>" }, Ut = function (e) { e.write(Gt("")), e.close(); var t = e.parentWindow.Object; return e = null, t }, $t = function () { try { qe = new ActiveXObject("htmlfile") } catch (e) { } var e, t; $t = "undefined" != typeof document ? document.domain && qe ? Ut(qe) : ((t = we("iframe")).style.display = "none", Ht.appendChild(t), t.src = String("javascript:"), (e = t.contentWindow.document).open(), e.write(Gt("document.F=Object")), e.close(), e.F) : Ut(qe); for (var n = yt.length; n--;)delete $t.prototype[yt[n]]; return $t() }; Re[zt] = !0; var Vt = Object.create || function (e, t) { var n; return null !== e ? (Wt.prototype = je(e), n = new Wt, Wt.prototype = null, n[zt] = e) : n = $t(), void 0 === t ? n : Rt(n, t) }, Yt = function (e, t, n) { var r = ge(t); r in e ? Ae.f(e, r, d(0, n)) : e[r] = n }, qt = s.Array, Jt = Math.max, Zt = function (e, t, n) { for (var r = ct(e), i = at(t, r), o = at(void 0 === n ? r : n, r), s = qt(Jt(o - i, 0)), a = 0; i < o; i++, a++)Yt(s, a, e[i]); return s.length = a, s }, Kt = b("".replace), Qt = b("".split), en = b([].join), tn = String(Error("zxcasd").stack), nn = /\n\s*at [^:]*:[^\n]*/, rn = nn.test(tn), on = /@[^\n]*\n/.test(tn) && !/zxcasd/.test(tn), sn = function (e, t) { if ("string" != typeof e) return e; if (rn) for (; t--;)e = Kt(e, nn, ""); else if (on) return en(Zt(Qt(e, "\n"), t), "\n"); return e }, an = function (e, t) { k(t) && "cause" in t && ke(e, "cause", t.cause) }, un = b(b.bind), ln = function (e, t) { return V(e), void 0 === t ? e : un ? un(e, t) : function () { return e.apply(t, arguments) } }, cn = {}, fn = he("iterator"), pn = Array.prototype, hn = function (e) { return void 0 !== e && (cn.Array === e || pn[fn] === e) }, dn = {}; dn[he("toStringTag")] = "z"; var yn = "[object z]" === String(dn), mn = he("toStringTag"), gn = s.Object, vn = "Arguments" == S(function () { return arguments }()), bn = yn ? S : function (e) { var t, n, r; return void 0 === e ? "Undefined" : null === e ? "Null" : "string" == typeof (n = function (e, t) { try { return e[t] } catch (e) { } }(t = gn(e), mn)) ? n : vn ? S(t) : "Object" == (r = S(t)) && A(t.callee) ? "Arguments" : r }, wn = he("iterator"), xn = function (e) { if (null != e) return Y(e, wn) || Y(e, "@@iterator") || cn[bn(e)] }, Sn = s.TypeError, En = function (e, t) { var n = arguments.length < 2 ? xn(e) : t; if (V(n)) return je(c(n, e)); throw Sn(U(e) + " is not iterable") }, Bn = function (e, t, n) { var r, i; je(e); try { if (!(r = Y(e, "return"))) { if ("throw" === t) throw n; return n } r = c(r, e) } catch (e) { i = !0, r = e } if ("throw" === t) throw n; if (i) throw r; return je(r), n }, Tn = s.TypeError, jn = function (e, t) { this.stopped = e, this.result = t }, On = jn.prototype, Xn = function (e, t, n) { var r, i, o, s, a, u, l, f = n && n.that, p = !(!n || !n.AS_ENTRIES), h = !(!n || !n.IS_ITERATOR), d = !(!n || !n.INTERRUPTED), y = ln(t, f), m = function (e) { return r && Bn(r, "normal", e), new jn(!0, e) }, g = function (e) { return p ? (je(e), d ? y(e[0], e[1], m) : y(e[0], e[1])) : d ? y(e, m) : y(e) }; if (h) r = e; else { if (!(i = xn(e))) throw Tn(U(e) + " is not iterable"); if (hn(i)) { for (o = 0, s = ct(e); s > o; o++)if ((a = g(e[o])) && P(On, a)) return a; return new jn(!1) } r = En(e, i) } for (u = r.next; !(l = c(u, r)).done;) { try { a = g(l.value) } catch (e) { Bn(r, "throw", e) } if ("object" == typeof a && a && P(On, a)) return a } return new jn(!1) }, An = s.String, kn = function (e) { if ("Symbol" === bn(e)) throw TypeError("Cannot convert a Symbol value to a string"); return An(e) }, Nn = function (e, t) { return void 0 === e ? arguments.length < 2 ? "" : t : kn(e) }, Cn = !a((function () { var e = Error("a"); return !("stack" in e) || (Object.defineProperty(e, "stack", d(1, 7)), 7 !== e.stack) })), Pn = he("toStringTag"), _n = s.Error, In = [].push, Ln = function (e, t) { var n, r = arguments.length > 2 ? arguments[2] : void 0, i = P(Mn, this); Dt ? n = Dt(new _n(void 0), i ? It(this) : Mn) : (n = i ? this : Vt(Mn), ke(n, Pn, "Error")), ke(n, "message", Nn(t, "")), Cn && ke(n, "stack", sn(n.stack, 1)), an(n, r); var o = []; return Xn(e, In, { that: o }), ke(n, "errors", o), n }; Dt ? Dt(Ln, _n) : xt(Ln, _n); var Mn = Ln.prototype = Vt(_n.prototype, { constructor: d(1, Ln), message: d(1, ""), name: d(1, "AggregateError") }); kt({ global: !0 }, { AggregateError: Ln }); var Dn = he("unscopables"), Fn = Array.prototype; null == Fn[Dn] && Ae.f(Fn, Dn, { configurable: !0, value: Vt(null) }); var Rn = function (e) { Fn[Dn][e] = !0 }; kt({ target: "Array", proto: !0 }, { at: function (e) { var t = ne(this), n = ct(t), r = it(e), i = r >= 0 ? r : n + r; return i < 0 || i >= n ? void 0 : t[i] } }), Rn("at"); var Hn = Array.isArray || function (e) { return "Array" == S(e) }, zn = b([].reverse), Wn = [1, 2]; kt({ target: "Array", proto: !0, forced: String(Wn) === String(Wn.reverse()) }, { reverse: function () { return Hn(this) && (this.length = this.length), zn(this) } }); var Gn = "undefined" != typeof ArrayBuffer && "undefined" != typeof DataView, Un = function (e, t, n) { for (var r in t) tt(e, r, t[r], n); return e }, $n = s.TypeError, Vn = function (e, t) { if (P(t, e)) return e; throw $n("Incorrect invocation") }, Yn = s.RangeError, qn = function (e) { if (void 0 === e) return 0; var t = it(e), n = lt(t); if (t !== n) throw Yn("Wrong length or index"); return n }, Jn = s.Array, Zn = Math.abs, Kn = Math.pow, Qn = Math.floor, er = Math.log, tr = Math.LN2, nr = function (e, t, n) { var r, i, o, s = Jn(n), a = 8 * n - t - 1, u = (1 << a) - 1, l = u >> 1, c = 23 === t ? Kn(2, -24) - Kn(2, -77) : 0, f = e < 0 || 0 === e && 1 / e < 0 ? 1 : 0, p = 0; for ((e = Zn(e)) != e || e === 1 / 0 ? (i = e != e ? 1 : 0, r = u) : (r = Qn(er(e) / tr), e * (o = Kn(2, -r)) < 1 && (r--, o *= 2), (e += r + l >= 1 ? c / o : c * Kn(2, 1 - l)) * o >= 2 && (r++, o /= 2), r + l >= u ? (i = 0, r = u) : r + l >= 1 ? (i = (e * o - 1) * Kn(2, t), r += l) : (i = e * Kn(2, l - 1) * Kn(2, t), r = 0)); t >= 8;)s[p++] = 255 & i, i /= 256, t -= 8; for (r = r << t | i, a += t; a > 0;)s[p++] = 255 & r, r /= 256, a -= 8; return s[--p] |= 128 * f, s }, rr = function (e, t) { var n, r = e.length, i = 8 * r - t - 1, o = (1 << i) - 1, s = o >> 1, a = i - 7, u = r - 1, l = e[u--], c = 127 & l; for (l >>= 7; a > 0;)c = 256 * c + e[u--], a -= 8; for (n = c & (1 << -a) - 1, c >>= -a, a += t; a > 0;)n = 256 * n + e[u--], a -= 8; if (0 === c) c = 1 - s; else { if (c === o) return n ? NaN : l ? -1 / 0 : 1 / 0; n += Kn(2, t), c -= s } return (l ? -1 : 1) * n * Kn(2, c - t) }, ir = Ae.f, or = he("toStringTag"), sr = function (e, t, n) { e && !ie(e = n ? e : e.prototype, or) && ir(e, or, { configurable: !0, value: t }) }, ar = gt.f, ur = Ae.f, lr = et.PROPER, cr = et.CONFIGURABLE, fr = Je.get, pr = Je.set, hr = "ArrayBuffer", dr = "DataView", yr = "Wrong index", mr = s.ArrayBuffer, gr = mr, vr = gr && gr.prototype, br = s.DataView, wr = br && br.prototype, xr = Object.prototype, Sr = s.Array, Er = s.RangeError, Br = b((function (e) { for (var t = ne(this), n = ct(t), r = arguments.length, i = at(r > 1 ? arguments[1] : void 0, n), o = r > 2 ? arguments[2] : void 0, s = void 0 === o ? n : at(o, n); s > i;)t[i++] = e; return t })), Tr = b([].reverse), jr = nr, Or = rr, Xr = function (e) { return [255 & e] }, Ar = function (e) { return [255 & e, e >> 8 & 255] }, kr = function (e) { return [255 & e, e >> 8 & 255, e >> 16 & 255, e >> 24 & 255] }, Nr = function (e) { return e[3] << 24 | e[2] << 16 | e[1] << 8 | e[0] }, Cr = function (e) { return jr(e, 23, 4) }, Pr = function (e) { return jr(e, 52, 8) }, _r = function (e, t) { ur(e.prototype, t, { get: function () { return fr(this)[t] } }) }, Ir = function (e, t, n, r) { var i = qn(n), o = fr(e); if (i + t > o.byteLength) throw Er(yr); var s = fr(o.buffer).bytes, a = i + o.byteOffset, u = Zt(s, a, a + t); return r ? u : Tr(u) }, Lr = function (e, t, n, r, i, o) { var s = qn(n), a = fr(e); if (s + t > a.byteLength) throw Er(yr); for (var u = fr(a.buffer).bytes, l = s + a.byteOffset, c = r(+i), f = 0; f < t; f++)u[l + f] = c[o ? f : t - f - 1] }; if (Gn) { var Mr = lr && mr.name !== hr; if (a((function () { mr(1) })) && a((function () { new mr(-1) })) && !a((function () { return new mr, new mr(1.5), new mr(NaN), Mr && !cr }))) Mr && cr && ke(mr, "name", hr); else { (gr = function (e) { return Vn(this, vr), new mr(qn(e)) }).prototype = vr; for (var Dr, Fr = ar(mr), Rr = 0; Fr.length > Rr;)(Dr = Fr[Rr++]) in gr || ke(gr, Dr, mr[Dr]); vr.constructor = gr } Dt && It(wr) !== xr && Dt(wr, xr); var Hr = new br(new gr(2)), zr = b(wr.setInt8); Hr.setInt8(0, 2147483648), Hr.setInt8(1, 2147483649), !Hr.getInt8(0) && Hr.getInt8(1) || Un(wr, { setInt8: function (e, t) { zr(this, e, t << 24 >> 24) }, setUint8: function (e, t) { zr(this, e, t << 24 >> 24) } }, { unsafe: !0 }) } else vr = (gr = function (e) { Vn(this, vr); var t = qn(e); pr(this, { bytes: Br(Sr(t), 0), byteLength: t }), u || (this.byteLength = t) }).prototype, wr = (br = function (e, t, n) { Vn(this, wr), Vn(e, vr); var r = fr(e).byteLength, i = it(t); if (i < 0 || i > r) throw Er("Wrong offset"); if (i + (n = void 0 === n ? r - i : lt(n)) > r) throw Er("Wrong length"); pr(this, { buffer: e, byteLength: n, byteOffset: i }), u || (this.buffer = e, this.byteLength = n, this.byteOffset = i) }).prototype, u && (_r(gr, "byteLength"), _r(br, "buffer"), _r(br, "byteLength"), _r(br, "byteOffset")), Un(wr, { getInt8: function (e) { return Ir(this, 1, e)[0] << 24 >> 24 }, getUint8: function (e) { return Ir(this, 1, e)[0] }, getInt16: function (e) { var t = Ir(this, 2, e, arguments.length > 1 ? arguments[1] : void 0); return (t[1] << 8 | t[0]) << 16 >> 16 }, getUint16: function (e) { var t = Ir(this, 2, e, arguments.length > 1 ? arguments[1] : void 0); return t[1] << 8 | t[0] }, getInt32: function (e) { return Nr(Ir(this, 4, e, arguments.length > 1 ? arguments[1] : void 0)) }, getUint32: function (e) { return Nr(Ir(this, 4, e, arguments.length > 1 ? arguments[1] : void 0)) >>> 0 }, getFloat32: function (e) { return Or(Ir(this, 4, e, arguments.length > 1 ? arguments[1] : void 0), 23) }, getFloat64: function (e) { return Or(Ir(this, 8, e, arguments.length > 1 ? arguments[1] : void 0), 52) }, setInt8: function (e, t) { Lr(this, 1, e, Xr, t) }, setUint8: function (e, t) { Lr(this, 1, e, Xr, t) }, setInt16: function (e, t) { Lr(this, 2, e, Ar, t, arguments.length > 2 ? arguments[2] : void 0) }, setUint16: function (e, t) { Lr(this, 2, e, Ar, t, arguments.length > 2 ? arguments[2] : void 0) }, setInt32: function (e, t) { Lr(this, 4, e, kr, t, arguments.length > 2 ? arguments[2] : void 0) }, setUint32: function (e, t) { Lr(this, 4, e, kr, t, arguments.length > 2 ? arguments[2] : void 0) }, setFloat32: function (e, t) { Lr(this, 4, e, Cr, t, arguments.length > 2 ? arguments[2] : void 0) }, setFloat64: function (e, t) { Lr(this, 8, e, Pr, t, arguments.length > 2 ? arguments[2] : void 0) } }); sr(gr, hr), sr(br, dr); var Wr = { ArrayBuffer: gr, DataView: br }, Gr = function () { }, Ur = [], $r = C("Reflect", "construct"), Vr = /^\s*(?:class|function)\b/, Yr = b(Vr.exec), qr = !Vr.exec(Gr), Jr = function (e) { if (!A(e)) return !1; try { return $r(Gr, Ur, e), !0 } catch (e) { return !1 } }, Zr = !$r || a((function () { var e; return Jr(Jr.call) || !Jr(Object) || !Jr((function () { e = !0 })) || e })) ? function (e) { if (!A(e)) return !1; switch (bn(e)) { case "AsyncFunction": case "GeneratorFunction": case "AsyncGeneratorFunction": return !1 }return qr || !!Yr(Vr, Ie(e)) } : Jr, Kr = s.TypeError, Qr = function (e) { if (Zr(e)) return e; throw Kr(U(e) + " is not a constructor") }, ei = he("species"), ti = function (e, t) { var n, r = je(e).constructor; return void 0 === r || null == (n = je(r)[ei]) ? t : Qr(n) }, ni = Wr.ArrayBuffer, ri = Wr.DataView, ii = ri.prototype, oi = b(ni.prototype.slice), si = b(ii.getUint8), ai = b(ii.setUint8), ui = a((function () { return !new ni(2).slice(1, void 0).byteLength })); kt({ target: "ArrayBuffer", proto: !0, unsafe: !0, forced: ui }, { slice: function (e, t) { if (oi && void 0 === t) return oi(je(this), e); for (var n = je(this).byteLength, r = at(e, n), i = at(void 0 === t ? n : t, n), o = new (ti(this, ni))(lt(i - r)), s = new ri(this), a = new ri(o), u = 0; r < i;)ai(a, u++, si(s, r++)); return o } }), kt({ target: "Object", stat: !0 }, { fromEntries: function (e) { var t = {}; return Xn(e, (function (e, n) { Yt(t, e, n) }), { AS_ENTRIES: !0 }), t } }), kt({ target: "Object", stat: !0 }, { hasOwn: ie }); var li = function (e) { var t, n; this.promise = new e((function (e, r) { if (void 0 !== t || void 0 !== n) throw TypeError("Bad Promise constructor"); t = e, n = r })), this.resolve = V(t), this.reject = V(n) }, ci = function (e) { return new li(e) }, fi = function (e) { try { return { error: !1, value: e() } } catch (e) { return { error: !0, value: e } } }; kt({ target: "Promise", stat: !0 }, { allSettled: function (e) { var t = this, n = ci(t), r = n.resolve, i = n.reject, o = fi((function () { var n = V(t.resolve), i = [], o = 0, s = 1; Xn(e, (function (e) { var a = o++, u = !1; s++, c(n, t, e).then((function (e) { u || (u = !0, i[a] = { status: "fulfilled", value: e }, --s || r(i)) }), (function (e) { u || (u = !0, i[a] = { status: "rejected", reason: e }, --s || r(i)) })) })), --s || r(i) })); return o.error && i(o.value), n.promise } }); var pi = "No one promise resolved"; kt({ target: "Promise", stat: !0 }, { any: function (e) { var t = this, n = C("AggregateError"), r = ci(t), i = r.resolve, o = r.reject, s = fi((function () { var r = V(t.resolve), s = [], a = 0, u = 1, l = !1; Xn(e, (function (e) { var f = a++, p = !1; u++, c(r, t, e).then((function (e) { p || l || (l = !0, i(e)) }), (function (e) { p || l || (p = !0, s[f] = e, --u || o(new n(s, pi))) })) })), --u || o(new n(s, pi)) })); return s.error && o(s.value), r.promise } }); var hi = s.Promise, di = function (e, t) { if (je(e), k(t) && t.constructor === e) return t; var n = ci(e); return (0, n.resolve)(t), n.promise }, yi = !!hi && a((function () { hi.prototype.finally.call({ then: function () { } }, (function () { })) })); if (kt({ target: "Promise", proto: !0, real: !0, forced: yi }, { finally: function (e) { var t = ti(this, C("Promise")), n = A(e); return this.then(n ? function (n) { return di(t, e()).then((function () { return n })) } : e, n ? function (n) { return di(t, e()).then((function () { throw n })) } : e) } }), A(hi)) { var mi = C("Promise").prototype.finally; hi.prototype.finally !== mi && tt(hi.prototype, "finally", mi, { unsafe: !0 }) } var gi, vi, bi, wi = he("iterator"), xi = !1;[].keys && ("next" in (bi = [].keys()) ? (vi = It(It(bi))) !== Object.prototype && (gi = vi) : xi = !0), (null == gi || a((function () { var e = {}; return gi[wi].call(e) !== e }))) && (gi = {}), A(gi[wi]) || tt(gi, wi, (function () { return this })); var Si, Ei, Bi = { IteratorPrototype: gi, BUGGY_SAFARI_ITERATORS: xi }, Ti = Bi.IteratorPrototype, ji = function () { return this }, Oi = function (e, t, n) { var r = t + " Iterator"; return e.prototype = Vt(Ti, { next: d(1, n) }), sr(e, r, !1), cn[r] = ji, e }, Xi = he("match"), Ai = function () { var e = je(this), t = ""; return e.global && (t += "g"), e.ignoreCase && (t += "i"), e.multiline && (t += "m"), e.dotAll && (t += "s"), e.unicode && (t += "u"), e.sticky && (t += "y"), t }, ki = b("".charAt), Ni = b("".charCodeAt), Ci = b("".slice), Pi = function (e) { return function (t, n) { var r, i, o = kn(O(t)), s = it(n), a = o.length; return s < 0 || s >= a ? e ? "" : void 0 : (r = Ni(o, s)) < 55296 || r > 56319 || s + 1 === a || (i = Ni(o, s + 1)) < 56320 || i > 57343 ? e ? ki(o, s) : r : e ? Ci(o, s, s + 2) : i - 56320 + (r - 55296 << 10) + 65536 } }, _i = { codeAt: Pi(!1), charAt: Pi(!0) }.charAt, Ii = s.RegExp, Li = a((function () { var e = Ii("a", "y"); return e.lastIndex = 2, null != e.exec("abcd") })), Mi = Li || a((function () { return !Ii("a", "y").sticky })), Di = { BROKEN_CARET: Li || a((function () { var e = Ii("^r", "gy"); return e.lastIndex = 2, null != e.exec("str") })), MISSED_STICKY: Mi, UNSUPPORTED_Y: Li }, Fi = s.RegExp, Ri = a((function () { var e = Fi(".", "s"); return !(e.dotAll && e.exec("\n") && "s" === e.flags) })), Hi = s.RegExp, zi = a((function () { var e = Hi("(?<a>b)", "g"); return "b" !== e.exec("b").groups.a || "bc" !== "b".replace(e, "$<a>c") })), Wi = Je.get, Gi = ee("native-string-replace", String.prototype.replace), Ui = RegExp.prototype.exec, $i = Ui, Vi = b("".charAt), Yi = b("".indexOf), qi = b("".replace), Ji = b("".slice), Zi = (Ei = /b*/g, c(Ui, Si = /a/, "a"), c(Ui, Ei, "a"), 0 !== Si.lastIndex || 0 !== Ei.lastIndex), Ki = Di.BROKEN_CARET, Qi = void 0 !== /()??/.exec("")[1]; (Zi || Qi || Ki || Ri || zi) && ($i = function (e) { var t, n, r, i, o, s, a, u = this, l = Wi(u), f = kn(e), p = l.raw; if (p) return p.lastIndex = u.lastIndex, t = c($i, p, f), u.lastIndex = p.lastIndex, t; var h = l.groups, d = Ki && u.sticky, y = c(Ai, u), m = u.source, g = 0, v = f; if (d && (y = qi(y, "y", ""), -1 === Yi(y, "g") && (y += "g"), v = Ji(f, u.lastIndex), u.lastIndex > 0 && (!u.multiline || u.multiline && "\n" !== Vi(f, u.lastIndex - 1)) && (m = "(?: " + m + ")", v = " " + v, g++), n = new RegExp("^(?:" + m + ")", y)), Qi && (n = new RegExp("^" + m + "$(?!\\s)", y)), Zi && (r = u.lastIndex), i = c(Ui, d ? n : u, v), d ? i ? (i.input = Ji(i.input, g), i[0] = Ji(i[0], g), i.index = u.lastIndex, u.lastIndex += i[0].length) : u.lastIndex = 0 : Zi && i && (u.lastIndex = u.global ? i.index + i[0].length : r), Qi && i && i.length > 1 && c(Gi, i[0], n, (function () { for (o = 1; o < arguments.length - 2; o++)void 0 === arguments[o] && (i[o] = void 0) })), i && h) for (i.groups = s = Vt(null), o = 0; o < h.length; o++)s[(a = h[o])[0]] = i[a[1]]; return i }); var eo = $i, to = s.TypeError, no = he("matchAll"), ro = "RegExp String", io = "RegExp String Iterator", oo = Je.set, so = Je.getterFor(io), ao = RegExp.prototype, uo = s.TypeError, lo = b(Ai), co = b("".indexOf), fo = b("".matchAll), po = !!fo && !a((function () { fo("a", /./) })), ho = Oi((function (e, t, n, r) { oo(this, { type: io, regexp: e, string: t, global: n, unicode: r, done: !1 }) }), ro, (function () { var e = so(this); if (e.done) return { value: void 0, done: !0 }; var t = e.regexp, n = e.string, r = function (e, t) { var n = e.exec; if (A(n)) { var r = c(n, e, t); return null !== r && je(r), r } if ("RegExp" === S(e)) return c(eo, e, t); throw to("RegExp#exec called on incompatible receiver") }(t, n); return null === r ? { value: void 0, done: e.done = !0 } : e.global ? ("" === kn(r[0]) && (t.lastIndex = function (e, t, n) { return t + (n ? _i(e, t).length : 1) }(n, lt(t.lastIndex), e.unicode)), { value: r, done: !1 }) : (e.done = !0, { value: r, done: !1 }) })), yo = function (e) { var t, n, r, i, o, s, a = je(this), u = kn(e); return t = ti(a, RegExp), void 0 === (n = a.flags) && P(ao, a) && !("flags" in ao) && (n = lo(a)), r = void 0 === n ? "" : kn(n), i = new t(t === RegExp ? a.source : a, r), o = !!~co(r, "g"), s = !!~co(r, "u"), i.lastIndex = lt(a.lastIndex), new ho(i, u, o, s) }; kt({ target: "String", proto: !0, forced: po }, { matchAll: function (e) { var t, n, r, i, o, s = O(this); if (null != e) { if (k(i = e) && (void 0 !== (o = i[Xi]) ? o : "RegExp" == S(i)) && (t = kn(O("flags" in ao ? e.flags : lo(e))), !~co(t, "g"))) throw uo("`.matchAll` does not allow non-global regexes"); if (po) return fo(s, e); if (r = Y(e, no)) return c(r, e, s) } else if (po) return fo(s, e); return n = kn(s), new RegExp(e, "g")[no](n) } }), no in ao || tt(ao, no, yo); var mo, go, vo, bo = he("iterator"), wo = Ae.f, xo = s.Int8Array, So = xo && xo.prototype, Eo = s.Uint8ClampedArray, Bo = Eo && Eo.prototype, To = xo && It(xo), jo = So && It(So), Oo = Object.prototype, Xo = s.TypeError, Ao = he("toStringTag"), ko = ue("TYPED_ARRAY_TAG"), No = ue("TYPED_ARRAY_CONSTRUCTOR"), Co = Gn && !!Dt && "Opera" !== bn(s.opera), Po = !1, _o = { Int8Array: 1, Uint8Array: 1, Uint8ClampedArray: 1, Int16Array: 2, Uint16Array: 2, Int32Array: 4, Uint32Array: 4, Float32Array: 4, Float64Array: 8 }, Io = { BigInt64Array: 8, BigUint64Array: 8 }, Lo = function (e) { if (!k(e)) return !1; var t = bn(e); return ie(_o, t) || ie(Io, t) }; for (mo in _o) (vo = (go = s[mo]) && go.prototype) ? ke(vo, No, go) : Co = !1; for (mo in Io) (vo = (go = s[mo]) && go.prototype) && ke(vo, No, go); if ((!Co || !A(To) || To === Function.prototype) && (To = function () { throw Xo("Incorrect invocation") }, Co)) for (mo in _o) s[mo] && Dt(s[mo], To); if ((!Co || !jo || jo === Oo) && (jo = To.prototype, Co)) for (mo in _o) s[mo] && Dt(s[mo].prototype, jo); if (Co && It(Bo) !== jo && Dt(Bo, jo), u && !ie(jo, Ao)) for (mo in Po = !0, wo(jo, Ao, { get: function () { return k(this) ? this[ko] : void 0 } }), _o) s[mo] && ke(s[mo], ko, mo); var Mo = { NATIVE_ARRAY_BUFFER_VIEWS: Co, TYPED_ARRAY_CONSTRUCTOR: No, TYPED_ARRAY_TAG: Po && ko, aTypedArray: function (e) { if (Lo(e)) return e; throw Xo("Target is not a typed array") }, aTypedArrayConstructor: function (e) { if (A(e) && (!Dt || P(To, e))) return e; throw Xo(U(e) + " is not a typed array constructor") }, exportTypedArrayMethod: function (e, t, n) { if (u) { if (n) for (var r in _o) { var i = s[r]; if (i && ie(i.prototype, e)) try { delete i.prototype[e] } catch (e) { } } jo[e] && !n || tt(jo, e, n ? t : Co && So[e] || t) } }, exportTypedArrayStaticMethod: function (e, t, n) { var r, i; if (u) { if (Dt) { if (n) for (r in _o) if ((i = s[r]) && ie(i, e)) try { delete i[e] } catch (e) { } if (To[e] && !n) return; try { return tt(To, e, n ? t : Co && To[e] || t) } catch (e) { } } for (r in _o) !(i = s[r]) || i[e] && !n || tt(i, e, t) } }, isView: function (e) { if (!k(e)) return !1; var t = bn(e); return "DataView" === t || ie(_o, t) || ie(Io, t) }, isTypedArray: Lo, TypedArray: To, TypedArrayPrototype: jo }, Do = Mo.NATIVE_ARRAY_BUFFER_VIEWS, Fo = s.ArrayBuffer, Ro = s.Int8Array, Ho = !Do || !a((function () { Ro(1) })) || !a((function () { new Ro(-1) })) || !function (e, t) { if (!t) return !1; var n = !1; try { var r = {}; r[bo] = function () { return { next: function () { return { done: n = !0 } } } }, e(r) } catch (e) { } return n }((function (e) { new Ro, new Ro(null), new Ro(1.5), new Ro(e) }), !0) || a((function () { return 1 !== new Ro(new Fo(2), 1, void 0).length })), zo = Math.floor, Wo = Number.isInteger || function (e) { return !k(e) && isFinite(e) && zo(e) === e }, Go = s.RangeError, Uo = s.RangeError, $o = function (e, t) { var n = function (e) { var t = it(e); if (t < 0) throw Go("The argument can't be less than 0"); return t }(e); if (n % t) throw Uo("Wrong offset"); return n }, Vo = Mo.aTypedArrayConstructor, Yo = function (e) { var t, n, r, i, o, s, a = Qr(this), u = ne(e), l = arguments.length, f = l > 1 ? arguments[1] : void 0, p = void 0 !== f, h = xn(u); if (h && !hn(h)) for (s = (o = En(u, h)).next, u = []; !(i = c(s, o)).done;)u.push(i.value); for (p && l > 2 && (f = ln(f, arguments[2])), n = ct(u), r = new (Vo(a))(n), t = 0; n > t; t++)r[t] = p ? f(u[t], t) : u[t]; return r }, qo = he("species"), Jo = s.Array, Zo = function (e, t) { return new (function (e) { var t; return Hn(e) && (t = e.constructor, (Zr(t) && (t === Jo || Hn(t.prototype)) || k(t) && null === (t = t[qo])) && (t = void 0)), void 0 === t ? Jo : t }(e))(0 === t ? 0 : t) }, Ko = b([].push), Qo = function (e) { var t = 1 == e, n = 2 == e, r = 3 == e, i = 4 == e, o = 6 == e, s = 7 == e, a = 5 == e || o; return function (u, l, c, f) { for (var p, h, d = ne(u), y = T(d), m = ln(l, c), g = ct(y), v = 0, b = f || Zo, w = t ? b(u, g) : n || s ? b(u, 0) : void 0; g > v; v++)if ((a || v in y) && (h = m(p = y[v], v, d), e)) if (t) w[v] = h; else if (h) switch (e) { case 3: return !0; case 5: return p; case 6: return v; case 2: Ko(w, p) } else switch (e) { case 4: return !1; case 7: Ko(w, p) }return o ? -1 : r || i ? i : w } }, es = { forEach: Qo(0), map: Qo(1), filter: Qo(2), some: Qo(3), every: Qo(4), find: Qo(5), findIndex: Qo(6), filterReject: Qo(7) }, ts = he("species"), ns = n((function (e) { var t = gt.f, n = es.forEach, r = Je.get, i = Je.set, o = Ae.f, a = Ee.f, l = Math.round, f = s.RangeError, p = Wr.ArrayBuffer, h = p.prototype, y = Wr.DataView, m = Mo.NATIVE_ARRAY_BUFFER_VIEWS, g = Mo.TYPED_ARRAY_CONSTRUCTOR, v = Mo.TYPED_ARRAY_TAG, b = Mo.TypedArray, w = Mo.TypedArrayPrototype, x = Mo.aTypedArrayConstructor, S = Mo.isTypedArray, E = "BYTES_PER_ELEMENT", B = "Wrong length", T = function (e, t) { x(e); for (var n = 0, r = t.length, i = new e(r); r > n;)i[n] = t[n++]; return i }, j = function (e, t) { o(e, t, { get: function () { return r(this)[t] } }) }, O = function (e) { var t; return P(h, e) || "ArrayBuffer" == (t = bn(e)) || "SharedArrayBuffer" == t }, X = function (e, t) { return S(e) && !W(t) && t in e && Wo(+t) && t >= 0 }, N = function (e, t) { return t = ge(t), X(e, t) ? d(2, e[t]) : a(e, t) }, _ = function (e, t, n) { return t = ge(t), !(X(e, t) && k(n) && ie(n, "value")) || ie(n, "get") || ie(n, "set") || n.configurable || ie(n, "writable") && !n.writable || ie(n, "enumerable") && !n.enumerable ? o(e, t, n) : (e[t] = n.value, e) }; u ? (m || (Ee.f = N, Ae.f = _, j(w, "buffer"), j(w, "byteOffset"), j(w, "byteLength"), j(w, "length")), kt({ target: "Object", stat: !0, forced: !m }, { getOwnPropertyDescriptor: N, defineProperty: _ }), e.exports = function (e, a, h) { var d = e.match(/\d+$/)[0] / 8, x = e + (h ? "Clamped" : "") + "Array", j = "get" + e, X = "set" + e, N = s[x], P = N, _ = P && P.prototype, I = {}, L = function (e, t) { o(e, t, { get: function () { return function (e, t) { var n = r(e); return n.view[j](t * d + n.byteOffset, !0) }(this, t) }, set: function (e) { return function (e, t, n) { var i = r(e); h && (n = (n = l(n)) < 0 ? 0 : n > 255 ? 255 : 255 & n), i.view[X](t * d + i.byteOffset, n, !0) }(this, t, e) }, enumerable: !0 }) }; m ? Ho && (P = a((function (e, t, n, r) { return Vn(e, _), function (e, t, n) { var r, i; return Dt && A(r = t.constructor) && r !== n && k(i = r.prototype) && i !== n.prototype && Dt(e, i), e }(k(t) ? O(t) ? void 0 !== r ? new N(t, $o(n, d), r) : void 0 !== n ? new N(t, $o(n, d)) : new N(t) : S(t) ? T(P, t) : c(Yo, P, t) : new N(qn(t)), e, P) })), Dt && Dt(P, b), n(t(N), (function (e) { e in P || ke(P, e, N[e]) })), P.prototype = _) : (P = a((function (e, t, n, r) { Vn(e, _); var o, s, a, u = 0, l = 0; if (k(t)) { if (!O(t)) return S(t) ? T(P, t) : c(Yo, P, t); o = t, l = $o(n, d); var h = t.byteLength; if (void 0 === r) { if (h % d) throw f(B); if ((s = h - l) < 0) throw f(B) } else if ((s = lt(r) * d) + l > h) throw f(B); a = s / d } else a = qn(t), o = new p(s = a * d); for (i(e, { buffer: o, byteOffset: l, byteLength: s, length: a, view: new y(o) }); u < a;)L(e, u++) })), Dt && Dt(P, b), _ = P.prototype = Vt(w)), _.constructor !== P && ke(_, "constructor", P), ke(_, g, P), v && ke(_, v, x), I[x] = P, kt({ global: !0, forced: P != N, sham: !m }, I), E in P || ke(P, E, d), E in _ || ke(_, E, d), function (e) { var t = C(e), n = Ae.f; u && t && !t[ts] && n(t, ts, { configurable: !0, get: function () { return this } }) }(x) }) : e.exports = function () { } })); ns("Float32", (function (e) { return function (t, n, r) { return e(this, t, n, r) } })), ns("Float64", (function (e) { return function (t, n, r) { return e(this, t, n, r) } })), ns("Int8", (function (e) { return function (t, n, r) { return e(this, t, n, r) } })), ns("Int16", (function (e) { return function (t, n, r) { return e(this, t, n, r) } })), ns("Int32", (function (e) { return function (t, n, r) { return e(this, t, n, r) } })), ns("Uint8", (function (e) { return function (t, n, r) { return e(this, t, n, r) } })), ns("Uint8", (function (e) { return function (t, n, r) { return e(this, t, n, r) } }), !0), ns("Uint16", (function (e) { return function (t, n, r) { return e(this, t, n, r) } })), ns("Uint32", (function (e) { return function (t, n, r) { return e(this, t, n, r) } })); var rs = Mo.aTypedArray; (0, Mo.exportTypedArrayMethod)("at", (function (e) { var t = rs(this), n = ct(t), r = it(e), i = r >= 0 ? r : n + r; return i < 0 || i >= n ? void 0 : t[i] })), (0, Mo.exportTypedArrayStaticMethod)("from", Yo, Ho); var is = Mo.aTypedArrayConstructor; (0, Mo.exportTypedArrayStaticMethod)("of", (function () { for (var e = 0, t = arguments.length, n = new (is(this))(t); t > e;)n[e] = arguments[e++]; return n }), Ho); var os = Math.floor, ss = function (e, t) { var n = e.length, r = os(n / 2); return n < 8 ? as(e, t) : us(e, ss(Zt(e, 0, r), t), ss(Zt(e, r), t), t) }, as = function (e, t) { for (var n, r, i = e.length, o = 1; o < i;) { for (r = o, n = e[o]; r && t(e[r - 1], n) > 0;)e[r] = e[--r]; r !== o++ && (e[r] = n) } return e }, us = function (e, t, n, r) { for (var i = t.length, o = n.length, s = 0, a = 0; s < i || a < o;)e[s + a] = s < i && a < o ? r(t[s], n[a]) <= 0 ? t[s++] : n[a++] : s < i ? t[s++] : n[a++]; return e }, ls = ss, cs = _.match(/firefox\/(\d+)/i), fs = !!cs && +cs[1], ps = /MSIE|Trident/.test(_), hs = _.match(/AppleWebKit\/(\d+)\./), ds = !!hs && +hs[1], ys = s.Array, ms = Mo.aTypedArray, gs = Mo.exportTypedArrayMethod, vs = s.Uint16Array, bs = vs && b(vs.prototype.sort), ws = !(!bs || a((function () { bs(new vs(2), null) })) && a((function () { bs(new vs(2), {}) }))), xs = !!bs && !a((function () { if (F) return F < 74; if (fs) return fs < 67; if (ps) return !0; if (ds) return ds < 602; var e, t, n = new vs(516), r = ys(516); for (e = 0; e < 516; e++)t = e % 4, n[e] = 515 - e, r[e] = e - 2 * t + 3; for (bs(n, (function (e, t) { return (e / 4 | 0) - (t / 4 | 0) })), e = 0; e < 516; e++)if (n[e] !== r[e]) return !0 })); gs("sort", (function (e) { return void 0 !== e && V(e), xs ? bs(this, e) : ls(ms(this), function (e) { return function (t, n) { return void 0 !== e ? +e(t, n) || 0 : n != n ? -1 : t != t ? 1 : 0 === t && 0 === n ? 1 / t > 0 && 1 / n < 0 ? 1 : -1 : t > n } }(e)) }), !xs || ws); var Ss = { CSSRuleList: 0, CSSStyleDeclaration: 0, CSSValueList: 0, ClientRectList: 0, DOMRectList: 0, DOMStringList: 0, DOMTokenList: 1, DataTransferItemList: 0, FileList: 0, HTMLAllCollection: 0, HTMLCollection: 0, HTMLFormElement: 0, HTMLSelectElement: 0, MediaList: 0, MimeTypeArray: 0, NamedNodeMap: 0, NodeList: 1, PaintRequestList: 0, Plugin: 0, PluginArray: 0, SVGLengthList: 0, SVGNumberList: 0, SVGPathSegList: 0, SVGPointList: 0, SVGStringList: 0, SVGTransformList: 0, SourceBufferList: 0, StyleSheetList: 0, TextTrackCueList: 0, TextTrackList: 0, TouchList: 0 }, Es = we("span").classList, Bs = Es && Es.constructor && Es.constructor.prototype, Ts = Bs === Object.prototype ? void 0 : Bs, js = et.PROPER, Os = et.CONFIGURABLE, Xs = Bi.IteratorPrototype, As = Bi.BUGGY_SAFARI_ITERATORS, ks = he("iterator"), Ns = "keys", Cs = "values", Ps = "entries", _s = function () { return this }, Is = "Array Iterator", Ls = Je.set, Ms = Je.getterFor(Is), Ds = function (e, t, n, r, i, o, s) { Oi(n, t, r); var a, u, l, f = function (e) { if (e === i && m) return m; if (!As && e in d) return d[e]; switch (e) { case Ns: case Cs: case Ps: return function () { return new n(this, e) } }return function () { return new n(this) } }, p = t + " Iterator", h = !1, d = e.prototype, y = d[ks] || d["@@iterator"] || i && d[i], m = !As && y || f(i), g = "Array" == t && d.entries || y; if (g && (a = It(g.call(new e))) !== Object.prototype && a.next && (It(a) !== Xs && (Dt ? Dt(a, Xs) : A(a[ks]) || tt(a, ks, _s)), sr(a, p, !0)), js && i == Cs && y && y.name !== Cs && (Os ? ke(d, "name", Cs) : (h = !0, m = function () { return c(y, this) })), i) if (u = { values: f(Cs), keys: o ? m : f(Ns), entries: f(Ps) }, s) for (l in u) (As || h || !(l in d)) && tt(d, l, u[l]); else kt({ target: t, proto: !0, forced: As || h }, u); return d[ks] !== m && tt(d, ks, m, { name: i }), cn[t] = m, u }(Array, "Array", (function (e, t) { Ls(this, { type: Is, target: X(e), index: 0, kind: t }) }), (function () { var e = Ms(this), t = e.target, n = e.kind, r = e.index++; return !t || r >= t.length ? (e.target = void 0, { value: void 0, done: !0 }) : "keys" == n ? { value: r, done: !1 } : "values" == n ? { value: t[r], done: !1 } : { value: [r, t[r]], done: !1 } }), "values"); cn.Arguments = cn.Array, Rn("keys"), Rn("values"), Rn("entries"); var Fs = he("iterator"), Rs = he("toStringTag"), Hs = Ds.values, zs = function (e, t) { if (e) { if (e[Fs] !== Hs) try { ke(e, Fs, Hs) } catch (t) { e[Fs] = Hs } if (e[Rs] || ke(e, Rs, t), Ss[t]) for (var n in Ds) if (e[n] !== Ds[n]) try { ke(e, n, Ds[n]) } catch (t) { e[n] = Ds[n] } } }; for (var Ws in Ss) zs(s[Ws] && s[Ws].prototype, Ws); zs(Ts, "DOMTokenList"); var Gs, Us, $s, Vs, Ys = Function.prototype, qs = Ys.apply, Js = Ys.bind, Zs = Ys.call, Ks = "object" == typeof Reflect && Reflect.apply || (Js ? Zs.bind(qs) : function () { return Zs.apply(qs, arguments) }), Qs = b([].slice), ea = /(?:ipad|iphone|ipod).*applewebkit/i.test(_), ta = "process" == S(s.process), na = s.setImmediate, ra = s.clearImmediate, ia = s.process, oa = s.Dispatch, sa = s.Function, aa = s.MessageChannel, ua = s.String, la = 0, ca = {}, fa = "onreadystatechange"; try { Gs = s.location } catch (e) { } var pa = function (e) { if (ie(ca, e)) { var t = ca[e]; delete ca[e], t() } }, ha = function (e) { return function () { pa(e) } }, da = function (e) { pa(e.data) }, ya = function (e) { s.postMessage(ua(e), Gs.protocol + "//" + Gs.host) }; na && ra || (na = function (e) { var t = Qs(arguments, 1); return ca[++la] = function () { Ks(A(e) ? e : sa(e), void 0, t) }, Us(la), la }, ra = function (e) { delete ca[e] }, ta ? Us = function (e) { ia.nextTick(ha(e)) } : oa && oa.now ? Us = function (e) { oa.now(ha(e)) } : aa && !ea ? (Vs = ($s = new aa).port2, $s.port1.onmessage = da, Us = ln(Vs.postMessage, Vs)) : s.addEventListener && A(s.postMessage) && !s.importScripts && Gs && "file:" !== Gs.protocol && !a(ya) ? (Us = ya, s.addEventListener("message", da, !1)) : Us = fa in we("script") ? function (e) { Ht.appendChild(we("script")).onreadystatechange = function () { Ht.removeChild(this), pa(e) } } : function (e) { setTimeout(ha(e), 0) }); var ma = { set: na, clear: ra }, ga = !s.setImmediate || !s.clearImmediate; kt({ global: !0, bind: !0, enumerable: !0, forced: ga }, { setImmediate: ma.set, clearImmediate: ma.clear }); var va, ba, wa, xa, Sa, Ea, Ba, Ta, ja = /ipad|iphone|ipod/i.test(_) && void 0 !== s.Pebble, Oa = /web0s(?!.*chrome)/i.test(_), Xa = Ee.f, Aa = ma.set, ka = s.MutationObserver || s.WebKitMutationObserver, Na = s.document, Ca = s.process, Pa = s.Promise, _a = Xa(s, "queueMicrotask"), Ia = _a && _a.value; Ia || (va = function () { var e, t; for (ta && (e = Ca.domain) && e.exit(); ba;) { t = ba.fn, ba = ba.next; try { t() } catch (e) { throw ba ? xa() : wa = void 0, e } } wa = void 0, e && e.enter() }, ea || ta || Oa || !ka || !Na ? !ja && Pa && Pa.resolve ? ((Ba = Pa.resolve(void 0)).constructor = Pa, Ta = ln(Ba.then, Ba), xa = function () { Ta(va) }) : ta ? xa = function () { Ca.nextTick(va) } : (Aa = ln(Aa, s), xa = function () { Aa(va) }) : (Sa = !0, Ea = Na.createTextNode(""), new ka(va).observe(Ea, { characterData: !0 }), xa = function () { Ea.data = Sa = !Sa })); var La = Ia || function (e) { var t = { fn: e, next: void 0 }; wa && (wa.next = t), ba || (ba = t, xa()), wa = t }, Ma = s.process; kt({ global: !0, enumerable: !0, noTargetGet: !0 }, { queueMicrotask: function (e) { var t = ta && Ma.domain; La(t ? t.bind(e) : e) } }) }(this.window = this.window || {}), window._main_polyfill_core && console.warn("main.polyfill.core is loaded more than once on this page"), window._main_polyfill_core = !0, function (e) { "use strict"; var t = window.BX; function n(e) { return Object.prototype.toString.call(e) } window.BX = function (e) { return window.BX.type.isNotEmptyString(e) ? document.getElementById(e) : window.BX.type.isDomNode(e) ? e : window.BX.type.isFunction(e) ? window.BX.ready(e) : null }, t && Object.keys(t).forEach((e => { window.BX[e] = t[e] })), e = window.BX; const r = Function.prototype.toString.call(Object); let i = function () { function e() { babelHelpers.classCallCheck(this, e) } return babelHelpers.createClass(e, null, [{ key: "isString", value: function (e) { return "string" == typeof e } }, { key: "isStringFilled", value: function (e) { return this.isString(e) && "" !== e } }, { key: "isFunction", value: function (e) { return "function" == typeof e } }, { key: "isObject", value: function (e) { return !!e && ("object" == typeof e || "function" == typeof e) } }, { key: "isObjectLike", value: function (e) { return !!e && "object" == typeof e } }, { key: "isPlainObject", value: function (t) { if (!e.isObjectLike(t) || "[object Object]" !== n(t)) return !1; const i = Object.getPrototypeOf(t); if (null === i) return !0; const o = i.hasOwnProperty("constructor") && i.constructor; return "function" == typeof o && Function.prototype.toString.call(o) === r } }, { key: "isBoolean", value: function (e) { return !0 === e || !1 === e } }, { key: "isNumber", value: function (e) { return !Number.isNaN(e) && "number" == typeof e } }, { key: "isInteger", value: function (t) { return e.isNumber(t) && t % 1 == 0 } }, { key: "isFloat", value: function (t) { return e.isNumber(t) && !e.isInteger(t) } }, { key: "isNil", value: function (e) { return null == e } }, { key: "isArray", value: function (t) { return !e.isNil(t) && Array.isArray(t) } }, { key: "isArrayFilled", value: function (e) { return this.isArray(e) && e.length > 0 } }, { key: "isArrayLike", value: function (t) { return !e.isNil(t) && !e.isFunction(t) && t.length > -1 && t.length <= Number.MAX_SAFE_INTEGER } }, { key: "isDate", value: function (t) { return e.isObjectLike(t) && "[object Date]" === n(t) } }, { key: "isDomNode", value: function (t) { return e.isObjectLike(t) && !e.isPlainObject(t) && "nodeType" in t } }, { key: "isElementNode", value: function (t) { return e.isDomNode(t) && t.nodeType === Node.ELEMENT_NODE } }, { key: "isTextNode", value: function (t) { return e.isDomNode(t) && t.nodeType === Node.TEXT_NODE } }, { key: "isMap", value: function (t) { return e.isObjectLike(t) && "[object Map]" === n(t) } }, { key: "isSet", value: function (t) { return e.isObjectLike(t) && "[object Set]" === n(t) } }, { key: "isWeakMap", value: function (t) { return e.isObjectLike(t) && "[object WeakMap]" === n(t) } }, { key: "isWeakSet", value: function (t) { return e.isObjectLike(t) && "[object WeakSet]" === n(t) } }, { key: "isPrototype", value: function (e) { return ("function" == typeof (e && e.constructor) && e.constructor.prototype || Object.prototype) === e } }, { key: "isRegExp", value: function (t) { return e.isObjectLike(t) && "[object RegExp]" === n(t) } }, { key: "isNull", value: function (e) { return null === e } }, { key: "isUndefined", value: function (e) { return void 0 === e } }, { key: "isArrayBuffer", value: function (t) { return e.isObjectLike(t) && "[object ArrayBuffer]" === n(t) } }, { key: "isTypedArray", value: function (t) { return e.isObjectLike(t) && /^\[object (?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)]$/.test(n(t)) } }, { key: "isBlob", value: function (t) { return e.isObjectLike(t) && e.isNumber(t.size) && e.isString(t.type) && e.isFunction(t.slice) } }, { key: "isFile", value: function (t) { return e.isBlob(t) && e.isString(t.name) && (e.isNumber(t.lastModified) || e.isObjectLike(t.lastModifiedDate)) } }, { key: "isFormData", value: function (e) { return e instanceof FormData } }]), e }(), o = function () { function e() { babelHelpers.classCallCheck(this, e) } return babelHelpers.createClass(e, null, [{ key: "getClass", value: function (e) { if (i.isString(e) && e) { let t = null, n = window; const r = e.split("."); for (let e = 0; e < r.length; e += 1) { const i = r[e]; if (!n[i]) return null; n = n[i], t = n } return t } return i.isFunction(e) ? e : null } }, { key: "namespace", value: function (e) { let t = e.split("."), n = window.BX; "BX" === t[0] && (t = t.slice(1)); for (let e = 0; e < t.length; e += 1)i.isUndefined(n[t[e]]) && (n[t[e]] = {}), n = n[t[e]]; return n } }]), e }(); const s = /[&<>'"]/g, a = /&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34);/g, u = { "&": "&amp;", "<": "&lt;", ">": "&gt;", "'": "&#39;", '"': "&quot;" }, l = { "&amp;": "&", "&#38;": "&", "&lt;": "<", "&#60;": "<", "&gt;": ">", "&#62;": ">", "&apos;": "'", "&#39;": "'", "&quot;": '"', "&#34;": '"' }; let c = function () { function e() { babelHelpers.classCallCheck(this, e) } return babelHelpers.createClass(e, null, [{ key: "encode", value: function (e) { return i.isString(e) ? e.replace(s, (e => u[e])) : e } }, { key: "decode", value: function (e) { return i.isString(e) ? e.replace(a, (e => l[e])) : e } }, { key: "getRandom", value: function (e = 8) { return [...Array(e)].map((() => (~~(36 * Math.random())).toString(36))).join("") } }, { key: "toNumber", value: function (e) { const t = Number.parseFloat(e); return i.isNumber(t) ? t : 0 } }, { key: "toInteger", value: function (t) { return e.toNumber(Number.parseInt(t, 10)) } }, { key: "toBoolean", value: function (e, t = []) { const n = i.isString(e) ? e.toLowerCase() : e; return ["true", "y", "1", 1, !0, ...t].includes(n) } }, { key: "toCamelCase", value: function (e) { if (!i.isStringFilled(e)) return e; const t = /[-_\s]+(.)?/g; return t.test(e) ? (e = (e = e.toLowerCase()).replace(t, (function (e, t) { return t ? t.toUpperCase() : "" })))[0].toLowerCase() + e.substr(1) : e.match(/^[A-Z]+$/) ? e.toLowerCase() : e[0].toLowerCase() + e.slice(1) } }, { key: "toPascalCase", value: function (e) { return i.isStringFilled(e) ? this.capitalize(this.toCamelCase(e)) : e } }, { key: "toKebabCase", value: function (e) { if (!i.isStringFilled(e)) return e; const t = e.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g); return t ? t.map((e => e.toLowerCase())).join("-") : e } }, { key: "capitalize", value: function (e) { return i.isStringFilled(e) ? e[0].toUpperCase() + e.substr(1) : e } }]), e }(); const f = { mousewheel: ["DOMMouseScroll"], bxchange: ["change", "cut", "paste", "drop", "keyup"], animationend: ["animationend", "oAnimationEnd", "webkitAnimationEnd", "MSAnimationEnd"], transitionend: ["webkitTransitionEnd", "otransitionend", "oTransitionEnd", "msTransitionEnd", "transitionend"], fullscreenchange: ["fullscreenchange", "webkitfullscreenchange", "mozfullscreenchange", "MSFullscreenChange"], fullscreenerror: ["fullscreenerror", "webkitfullscreenerror", "mozfullscreenerror", "MSFullscreenError"] }; var p = new (function () { function e() { babelHelpers.classCallCheck(this, e), babelHelpers.defineProperty(this, "registry", new WeakMap) } return babelHelpers.createClass(e, [{ key: "set", value: function (e, t, n) { const r = this.get(e); i.isSet(r[t]) || (r[t] = new Set), r[t].add(n), this.registry.set(e, r) } }, { key: "get", value: function (e) { return this.registry.get(e) || {} } }, { key: "has", value: function (e, t, n) { return t && n ? this.registry.has(e) && this.registry.get(e)[t].has(n) : this.registry.has(e) } }, { key: "delete", value: function (e, t, n) { if (i.isDomNode(e)) if (i.isString(t) && i.isFunction(n)) { const r = this.registry.get(e); i.isPlainObject(r) && i.isSet(r[t]) && r[t].delete(n) } else if (i.isString(t)) { const n = this.registry.get(e); i.isPlainObject(n) && i.isSet(n[t]) && (n[t] = new Set) } else this.registry.delete(e) } }]), e }()); function h(e) { return i.isPlainObject(e) ? Object.keys(e).reduce(((t, n) => (function (e) { let t = !1; try { const n = Object.defineProperty({}, e, { get() { t = !0 } }); window.addEventListener("test", null, n) } catch (e) { } return t }(n) && (t[n] = e[n]), t)), {}) : e } function d(e, t, n, r) { if (!i.isObject(e) || !i.isFunction(e.addEventListener)) return; const o = h(r); t in f ? f[t].forEach((r => { e.addEventListener(r, n, o), p.set(e, t, n) })) : (e.addEventListener(t, n, o), p.set(e, t, n)) } function y(e, t, n, r) { if (!i.isObject(e) || !i.isFunction(e.removeEventListener)) return; const o = h(r); t in f ? f[t].forEach((t => { e.removeEventListener(t, n, o), p.delete(e, t, n) })) : (e.removeEventListener(t, n, o), p.delete(e, t, n)) } let m = !0; function g() { m = !0 } function v() { m = !1 } function b() { return m } function w(...e) { b() && i.isObject(window.console) && (i.isFunction(window.console.log) && (window.console.log("BX.debug: ", e.length > 0 ? e : e[0]), e[0] instanceof Error && e[0].stack && window.console.log("BX.debug error stack trace", e[0].stack)), i.isFunction(window.console.trace) && console.trace()) } var x = Object.freeze({ get debugState() { return m }, enableDebug: g, disableDebug: v, isDebugEnabled: b, default: w }); let S = function () { function e(t) { babelHelpers.classCallCheck(this, e), this.config = t.config || {}, this.name = t.extension, this.state = "scheduled"; const n = BX.processHTML(t.html || ""); this.inlineScripts = n.SCRIPT.reduce(A, []), this.externalScripts = n.SCRIPT.reduce(k, []), this.externalStyles = n.STYLE.reduce(N, []), this.settingsScripts = function (e) { if (i.isStringFilled(e)) { const t = e.match(/<script type="extension\/settings" \b[^>]*>([\s\S]*?)<\/script>/g); if (i.isArrayFilled(t)) return t.map((e => { const [, t] = e.match(/data-extension="(.[a-z0-9_.-]+)"/); return { extension: t, script: e } })) } return [] }(n.HTML) } return babelHelpers.createClass(e, [{ key: "load", value: function () { return "error" === this.state && (this.loadPromise = this.loadPromise || Promise.resolve(this), console.warn("Extension", this.name, "not found")), !this.loadPromise && this.state && (this.state = "load", this.settingsScripts.forEach((e => { !!document.querySelector(`script[data-extension="${e.extension}"]`) || document.body.insertAdjacentHTML("beforeend", e.script) })), this.inlineScripts.forEach(BX.evalGlobal), this.loadPromise = Promise.all([P(this.externalScripts), P(this.externalStyles)]).then((() => (this.state = "loaded", i.isPlainObject(this.config) && this.config.namespace ? o.getClass(this.config.namespace) : window)))), this.loadPromise } }]), e }(); const E = {}; function B(e) { return i.isArray(e) ? e : [e] } function T(e) { return e in E } function j(e) { return E[e] } function O(e) { return Promise.all(e.map((e => e.load()))) } function X(e) { return e.reduce(((e, t) => i.isObject(t) ? { ...t } : t), {}) } function A(e, t) { return t.isInternal && e.push(t.JS), e } function k(e, t) { return t.isInternal || e.push(t.JS), e } function N(e, t) { return i.isString(t) && "" !== t && e.push(t), e } function C(e) { return "success" !== e.status ? (e.errors.map(console.warn), []) : e.data.map((e => { const t = j(e.extension); return t || (E[e.extension] = new S(e), E[e.extension]) })) } function P(e) { const t = B(e); return t.length ? new Promise((e => { BX.load(t, e) })) : Promise.resolve() } const _ = ["[object Object]", "[object Array]", "[object RegExp]", "[object Arguments]", "[object Date]", "[object Error]", "[object Map]", "[object Set]", "[object ArrayBuffer]", "[object DataView]", "[object Float32Array]", "[object Float64Array]", "[object Int8Array]", "[object Int16Array]", "[object Int32Array]", "[object Uint8Array]", "[object Uint16Array]", "[object Uint32Array]", "[object Uint8ClampedArray]"]; function I(e, t) { if (t.has(e)) return t.get(e); if (function (e) { return i.isObjectLike(e) && _.includes(n(e)) || i.isDomNode(e) }(e)) { if (i.isArray(e)) { const n = Array.from(e); return t.set(e, n), e.forEach(((e, r) => { n[r] = I(e, t) })), t.get(e) } if (i.isDomNode(e)) return e.cloneNode(!0); if (i.isMap(e)) { const n = new Map; return t.set(e, n), e.forEach(((e, r) => { n.set(I(r, t), I(e, t)) })), n } if (i.isSet(e)) { const n = new Set; return t.set(e, n), e.forEach((e => { n.add(I(e, t)) })), n } if (i.isDate(e)) return new Date(e); if (i.isRegExp(e)) { const t = /\w*$/.exec(e); let n = new RegExp(e.source); return t && i.isArray(t) && (n = new RegExp(e.source, t[0])), n.lastIndex = e.lastIndex, n } const n = Object.getPrototypeOf(e), r = Object.assign(Object.create(n), e); return t.set(e, r), Object.keys(e).forEach((n => { r[n] = I(e[n], t) })), r } return e } function L(e, t) { return Object.entries(t).reduce(((e, [t, n]) => !i.isDomNode(e[t]) && i.isObjectLike(e[t]) && i.isObjectLike(n) ? (e[t] = L(e[t], n), e) : (e[t] = n, e)), e) } function M(e, t = []) { return (n, r) => { const o = e[0], s = t[0] || "asc"; if (i.isUndefined(o)) return 0; let a = n[o], u = r[o]; return i.isString(a) && i.isString(u) && (a = a.toLowerCase(), u = u.toLowerCase()), a < u ? "asc" === s ? -1 : 1 : a > u ? "asc" === s ? 1 : -1 : M(e.slice(1), t.slice(1))(n, r) } } let D = function () { function e() { babelHelpers.classCallCheck(this, e) } return babelHelpers.createClass(e, null, [{ key: "debounce", value: function (e, t = 0, n = null) { let r; return function (...o) { i.isNumber(r) && clearTimeout(r), r = setTimeout((() => { e.apply(n || this, o) }), t) } } }, { key: "throttle", value: function (e, t = 0, n = null) { let r, i = 0; return function (...o) { if (r = !0, !i) { (function s() { r ? (e.apply(n || this, o), r = !1, i = setTimeout(s, t)) : i = null })() } } } }, { key: "html", value: function (e, t, n = {}) { if (i.isNil(t) && i.isDomNode(e)) return e.innerHTML; const r = BX.processHTML(t), o = r.STYLE.reduce(N, []), s = r.SCRIPT.reduce(k, []), a = r.SCRIPT.reduce(A, []); return i.isDomNode(e) && (n.htmlFirst || !s.length && !o.length) && (n.useAdjacentHTML ? e.insertAdjacentHTML("beforeend", r.HTML) : e.innerHTML = r.HTML), Promise.all([P(s), P(o)]).then((() => { i.isDomNode(e) && (s.length > 0 || o.length > 0) && (n.useAdjacentHTML ? e.insertAdjacentHTML("beforeend", r.HTML) : e.innerHTML = r.HTML), a.forEach((e => BX.evalGlobal(e))), i.isFunction(n.callback) && n.callback() })) } }, { key: "merge", value: function (...e) { return i.isArray(e[0]) ? e.unshift([]) : i.isObject(e[0]) && e.unshift({}), e.reduce(((e, t) => L(e, t)), e[0]) } }, { key: "orderBy", value: function (e, t = [], n = []) { const r = M(t, n); return Object.values(e).sort(r) } }, { key: "destroy", value: function (e, t = "Object is destroyed") { if (i.isObject(e)) { const n = () => { throw new Error(t) }, r = Object.keys(e), o = (() => { const t = Object.getPrototypeOf(e); return i.isObject(t) ? Object.getOwnPropertyNames(t) : [] })();[...new Set([...r, ...o])].filter((t => { const n = Object.getOwnPropertyDescriptor(e, t); return !(/__(.+)__/.test(t) || i.isObject(n) && !0 !== n.configurable) })).forEach((t => { Object.defineProperty(e, t, { get: n, set: n, configurable: !1 }) })), Object.setPrototypeOf(e, null) } } }]), e }(); babelHelpers.defineProperty(D, "debug", w), babelHelpers.defineProperty(D, "loadExtension", (function (e) { const t = B(e); if (function (e) { return e.every(T) }(t)) { return O(t.map(j)).then(X) } return (n = { extension: t }, new Promise((e => { BX.ajax.runAction("main.bitrix.main.controller.loadext.getextensions", { data: n }).then(e) }))).then(C).then(O).then(X); var n })), babelHelpers.defineProperty(D, "clone", (function (e) { return I(e, new WeakMap) })); const F = Symbol.for("BX.BaseError.isError"); let R = function () { function e(t, n, r) { babelHelpers.classCallCheck(this, e), this[F] = !0, this.message = "", this.code = null, this.customData = null, this.setMessage(t), this.setCode(n), this.setCustomData(r) } return babelHelpers.createClass(e, [{ key: "getMessage", value: function () { return this.message } }, { key: "setMessage", value: function (e) { return i.isString(e) && (this.message = e), this } }, { key: "getCode", value: function () { return this.code } }, { key: "setCode", value: function (e) { return (i.isStringFilled(e) || null === e) && (this.code = e), this } }, { key: "getCustomData", value: function () { return this.customData } }, { key: "setCustomData", value: function (e) { return i.isUndefined(e) || (this.customData = e), this } }, { key: "toString", value: function () { const e = this.getCode(), t = this.getMessage(); return i.isStringFilled(e) || i.isStringFilled(t) ? i.isStringFilled(e) ? i.isStringFilled(t) ? `${e}: ${t}` : e : `Error: ${t}` : "" } }], [{ key: "isError", value: function (e) { return i.isObject(e) && !0 === e[F] } }]), e }(), H = function () { function e(t = { data: {} }) { babelHelpers.classCallCheck(this, e), this.type = "", this.data = null, this.target = null, this.compatData = null, this.defaultPrevented = !1, this.immediatePropagationStopped = !1, this.errors = [], this.setData(t.data), this.setCompatData(t.compatData) } return babelHelpers.createClass(e, [{ key: "getType", value: function () { return this.type } }, { key: "setType", value: function (e) { return i.isStringFilled(e) && (this.type = e), this } }, { key: "getData", value: function () { return this.data } }, { key: "setData", value: function (e) { return i.isUndefined(e) || (this.data = e), this } }, { key: "getCompatData", value: function () { return this.compatData } }, { key: "setCompatData", value: function (e) { return i.isArrayLike(e) && (this.compatData = e), this } }, { key: "setTarget", value: function (e) { return this.target = e, this } }, { key: "getTarget", value: function () { return this.target } }, { key: "getErrors", value: function () { return this.errors } }, { key: "setError", value: function (e) { R.isError(e) && this.errors.push(e) } }, { key: "preventDefault", value: function () { this.defaultPrevented = !0 } }, { key: "isDefaultPrevented", value: function () { return this.defaultPrevented } }, { key: "stopImmediatePropagation", value: function () { this.immediatePropagationStopped = !0 } }, { key: "isImmediatePropagationStopped", value: function () { return this.immediatePropagationStopped } }], [{ key: "create", value: function (e) { return new this(e) } }]), e }(), z = function () { function e(t = {}) { babelHelpers.classCallCheck(this, e), this.defaultMaxListeners = i.isNumber(t.defaultMaxListeners) ? t.defaultMaxListeners : 10, this.eventStore = new WeakMap } return babelHelpers.createClass(e, [{ key: "add", value: function (e, t = {}) { const n = this.getRecordScheme(); return i.isNumber(t.maxListeners) && (n.maxListeners = t.maxListeners), this.eventStore.set(e, n), n } }, { key: "get", value: function (e) { return this.eventStore.get(e) } }, { key: "getOrAdd", value: function (e, t = {}) { return this.get(e) || this.add(e, t) } }, { key: "delete", value: function (e) { this.eventStore.delete(e) } }, { key: "getRecordScheme", value: function () { return { eventsMap: new Map, onceMap: new Map, maxListeners: this.getDefaultMaxListeners(), eventsMaxListeners: new Map } } }, { key: "getDefaultMaxListeners", value: function () { return this.defaultMaxListeners } }]), e }(), W = function () { function e() { babelHelpers.classCallCheck(this, e), this.warnings = new Map, this.printDelayed = D.debounce(this.print.bind(this), 500) } return babelHelpers.createClass(e, [{ key: "add", value: function (e, t, n) { let r = this.warnings.get(e); r || (r = Object.create(null), this.warnings.set(e, r)), r[t] || (r[t] = {}), r[t].size = n.size, i.isArray(r[t].errors) || (r[t].errors = []), r[t].errors.push(new Error) } }, { key: "print", value: function () { this.warnings.forEach((e => { for (let t in e) console.groupCollapsed("Possible BX.Event.EventEmitter memory leak detected. " + e[t].size + ' "' + t + '" listeners added. Use emitter.setMaxListeners() to increase limit.'), console.dir(e[t].errors), console.groupEnd() })), this.clear() } }, { key: "clear", value: function () { this.warnings.clear() } }, { key: "printDelayed", value: function () { } }]), e }(); const G = new z({ defaultMaxListeners: 10 }), U = new W, $ = new Map, V = { GLOBAL_TARGET: "GLOBAL_TARGET" }; G.add(V, { maxListeners: 25 }); const Y = Symbol.for("BX.Event.EventEmitter.isEmitter"), q = Symbol("namespaceProperty"), J = Symbol("targetProperty"); let Z = function () { function e(...t) { babelHelpers.classCallCheck(this, e), this[J] = null, this[q] = null, this[Y] = !0; let n = this; if (Object.getPrototypeOf(this) === e.prototype && t.length > 0) { if (!i.isObject(t[0])) throw new TypeError('The "target" argument must be an object.'); n = t[0], this.setEventNamespace(t[1]) } this[J] = n } return babelHelpers.createClass(e, [{ key: "setEventNamespace", value: function (e) { i.isStringFilled(e) && (this[q] = e) } }, { key: "getEventNamespace", value: function () { return this[q] } }, { key: "subscribe", value: function (t, n) { return e.subscribe(this, t, n), this } }, { key: "subscribeFromOptions", value: function (t, n, r) { i.isPlainObject(t) && (n = i.isPlainObject(n) ? e.normalizeAliases(n) : {}, Object.keys(t).forEach((i => { const o = e.normalizeListener(t[i]); if (i = e.normalizeEventName(i), n[i]) { const { eventName: t } = n[i]; e.subscribe(this, t, o, { compatMode: !1 !== r }) } else e.subscribe(this, i, o, { compatMode: !0 === r }) }))) } }, { key: "subscribeOnce", value: function (t, n) { return e.subscribeOnce(this, t, n), this } }, { key: "unsubscribe", value: function (t, n) { return e.unsubscribe(this, t, n), this } }, { key: "unsubscribeAll", value: function (t) { e.unsubscribeAll(this, t) } }, { key: "emit", value: function (t, n) { return null === this.getEventNamespace() && console.warn("The instance of BX.Event.EventEmitter is supposed to have an event namespace. Use emitter.setEventNamespace() to make events more unique."), e.emit(this, t, n), this } }, { key: "emitAsync", value: function (t, n) { return null === this.getEventNamespace() && console.warn("The instance of BX.Event.EventEmitter is supposed to have an event namespace. Use emitter.setEventNamespace() to make events more unique."), e.emitAsync(this, t, n) } }, { key: "setMaxListeners", value: function (...t) { return e.setMaxListeners(this, ...t), this } }, { key: "getMaxListeners", value: function (t) { return e.getMaxListeners(this, t) } }, { key: "incrementMaxListeners", value: function (...t) { return e.incrementMaxListeners(this, ...t) } }, { key: "decrementMaxListeners", value: function (...t) { return e.decrementMaxListeners(this, ...t) } }, { key: "getListeners", value: function (t) { return e.getListeners(this, t) } }, { key: "getFullEventName", value: function (t) { if (!i.isStringFilled(t)) throw new TypeError('The "eventName" argument must be a string.'); return e.makeFullEventName(this.getEventNamespace(), t) } }], [{ key: "makeObservable", value: function (t, n) { if (!i.isObject(t)) throw new TypeError('The "target" argument must be an object.'); if (!i.isStringFilled(n)) throw new TypeError('The "namespace" must be an non-empty string.'); if (e.isEventEmitter(t)) throw new TypeError('The "target" is an event emitter already.'); const r = Object.getPrototypeOf(t), o = new e; o.setEventNamespace(n), Object.setPrototypeOf(o, r), Object.setPrototypeOf(t, o), Object.getOwnPropertyNames(e.prototype).forEach((n => { ["constructor"].includes(n) || (o[n] = function (...r) { return e.prototype[n].apply(t, r) }) })) } }, { key: "subscribe", value: function (e, t, n, r) { if (i.isString(e) && (r = n, n = t, t = e, e = this.GLOBAL_TARGET), !i.isObject(e)) throw new TypeError('The "target" argument must be an object.'); if (t = this.normalizeEventName(t), !i.isStringFilled(t)) throw new TypeError('The "eventName" argument must be a string.'); n = this.normalizeListener(n), r = i.isPlainObject(r) ? r : {}; const o = this.resolveEventName(t, e, !0 === r.useGlobalNaming), { eventsMap: s, onceMap: a } = G.getOrAdd(e), u = a.get(o); let l = s.get(o); l && l.has(n) || u && u.has(n) ? console.error(`You cannot subscribe the same "${o}" event listener twice.`) : l ? l.set(n, { listener: n, options: r, sort: this.getNextSequenceValue() }) : (l = new Map([[n, { listener: n, options: r, sort: this.getNextSequenceValue() }]]), s.set(o, l)); const c = this.getMaxListeners(e, t); l.size > c && (U.add(e, o, l), U.printDelayed()) } }, { key: "subscribeOnce", value: function (e, t, n) { if (i.isString(e) && (n = t, t = e, e = this.GLOBAL_TARGET), !i.isObject(e)) throw new TypeError('The "target" argument must be an object.'); if (t = this.normalizeEventName(t), !i.isStringFilled(t)) throw new TypeError('The "eventName" argument must be a string.'); n = this.normalizeListener(n); const r = this.resolveEventName(t, e), { eventsMap: o, onceMap: s } = G.getOrAdd(e), a = o.get(r); let u = s.get(r); if (a && a.has(n) || u && u.has(n)) console.error(`You cannot subscribe the same "${r}" event listener twice.`); else { const i = (...r) => { this.unsubscribe(e, t, i), u.delete(n), n(...r) }; u ? u.set(n, i) : (u = new Map([[n, i]]), s.set(r, u)), this.subscribe(e, t, i) } } }, { key: "unsubscribe", value: function (e, t, n, r) { if (i.isString(e) && (n = t, t = e, e = this.GLOBAL_TARGET), t = this.normalizeEventName(t), !i.isStringFilled(t)) throw new TypeError('The "eventName" argument must be a string.'); n = this.normalizeListener(n), r = i.isPlainObject(r) ? r : {}; const o = this.resolveEventName(t, e, !0 === r.useGlobalNaming), s = G.get(e), a = s && s.eventsMap.get(o), u = s && s.onceMap.get(o); if (a && a.delete(n), u) { const e = u.get(n); e && (u.delete(n), a.delete(e)) } } }, { key: "unsubscribeAll", value: function (e, t, n) { if (i.isString(e) && (t = e, e = this.GLOBAL_TARGET), i.isStringFilled(t)) { const r = G.get(e); if (r) { n = i.isPlainObject(n) ? n : {}; const o = this.resolveEventName(t, e, !0 === n.useGlobalNaming); r.eventsMap.delete(o), r.onceMap.delete(o) } } else i.isNil(t) && (e === this.GLOBAL_TARGET ? console.error("You cannot unsubscribe all global listeners.") : G.delete(e)) } }, { key: "emit", value: function (e, t, n, r) { if (i.isString(e) && (r = n, n = t, t = e, e = this.GLOBAL_TARGET), !i.isObject(e)) throw new TypeError('The "target" argument must be an object.'); if (t = this.normalizeEventName(t), !i.isStringFilled(t)) throw new TypeError('The "eventName" argument must be a string.'); r = i.isPlainObject(r) ? r : {}; const o = this.resolveEventName(t, e, !0 === r.useGlobalNaming), s = G.get(this.GLOBAL_TARGET), a = s && s.eventsMap.get(o) || new Map; let u = new Set; if (e !== this.GLOBAL_TARGET) { const t = G.get(e); u = t && t.eventsMap.get(o) || new Map } const l = [...a.values(), ...u.values()]; l.sort((function (e, t) { return e.sort - t.sort })); const c = this.prepareEvent(e, o, n), f = []; for (let t = 0; t < l.length && !c.isImmediatePropagationStopped(); t++) { const { listener: n, options: o } = l[t]; if (a.has(n) || u.has(n)) { let t; if (o.compatMode) { let o = []; const s = c.getCompatData(); o = null !== s ? !0 === r.cloneData ? D.clone(s) : s : [c]; const a = i.isUndefined(r.thisArg) ? e : r.thisArg; t = n.apply(a, o) } else t = i.isUndefined(r.thisArg) ? n(c) : n.call(r.thisArg, c); f.push(t) } } return f } }, { key: "emitAsync", value: function (e, t, n) { return i.isString(e) && (n = t, t = e, e = this.GLOBAL_TARGET), Promise.all(this.emit(e, t, n)) } }, { key: "prepareEvent", value: function (e, t, n) { let r = n; return n instanceof H || (r = new H, r.setData(n)), r.setTarget(this.isEventEmitter(e) ? e[J] : e), r.setType(t), r } }, { key: "getNextSequenceValue", value: function () { return this.sequenceValue++ } }, { key: "setMaxListeners", value: function (...e) { let t, n = this.GLOBAL_TARGET, r = null; if (1 === e.length ? t = e[0] : 2 === e.length ? i.isString(e[0]) ? [r, t] = e : [n, t] = e : e.length >= 3 && ([n, r, t] = e), !i.isObject(n)) throw new TypeError('The "target" argument must be an object.'); if (null !== r && !i.isStringFilled(r)) throw new TypeError('The "eventName" argument must be a string.'); if (!i.isNumber(t) || t < 0) throw new TypeError(`The value of "count" is out of range. It must be a non-negative number. Received ${t}.`); const o = G.getOrAdd(n); if (i.isStringFilled(r)) { const e = this.resolveEventName(r, n); o.eventsMaxListeners.set(e, t) } else o.maxListeners = t } }, { key: "getMaxListeners", value: function (e, t) { if (i.isString(e) ? (t = e, e = this.GLOBAL_TARGET) : i.isNil(e) && (e = this.GLOBAL_TARGET), !i.isObject(e)) throw new TypeError('The "target" argument must be an object.'); const n = G.get(e); if (n) { let r = n.maxListeners; if (i.isStringFilled(t)) { const i = this.resolveEventName(t, e); r = n.eventsMaxListeners.get(i) || r } return r } return this.DEFAULT_MAX_LISTENERS } }, { key: "addMaxListeners", value: function (...t) { const [n, r, o] = this.destructMaxListenersArgs(...t), s = Math.max(this.getMaxListeners(n, r) + o, 0); return i.isStringFilled(r) ? e.setMaxListeners(n, r, s) : e.setMaxListeners(n, s), s } }, { key: "incrementMaxListeners", value: function (...e) { const [t, n, r] = this.destructMaxListenersArgs(...e); return this.addMaxListeners(t, n, Math.abs(r)) } }, { key: "decrementMaxListeners", value: function (...e) { const [t, n, r] = this.destructMaxListenersArgs(...e); return this.addMaxListeners(t, n, -Math.abs(r)) } }, { key: "destructMaxListenersArgs", value: function (...e) { let t = null, n = 1, r = this.GLOBAL_TARGET; if (1 === e.length ? i.isNumber(e[0]) ? n = e[0] : i.isString(e[0]) ? t = e[0] : r = e[0] : 2 === e.length ? i.isString(e[0]) ? [t, n] = e : i.isString(e[1]) ? [r, t] = e : [r, n] = e : e.length >= 3 && ([r, t, n] = e), !i.isObject(r)) throw new TypeError('The "target" argument must be an object.'); if (null !== t && !i.isStringFilled(t)) throw new TypeError('The "eventName" argument must be a string.'); if (!i.isNumber(n)) throw new TypeError('The value of "increment" must be a number.'); return [r, t, n] } }, { key: "getListeners", value: function (e, t) { if (i.isString(e) && (t = e, e = this.GLOBAL_TARGET), !i.isObject(e)) throw new TypeError('The "target" argument must be an object.'); if (t = this.normalizeEventName(t), !i.isStringFilled(t)) throw new TypeError('The "eventName" argument must be a string.'); const n = G.get(e); if (!n) return new Map; const r = this.resolveEventName(t, e); return n.eventsMap.get(r) || new Map } }, { key: "registerAliases", value: function (t) { t = this.normalizeAliases(t), Object.keys(t).forEach((e => { $.set(e, { eventName: t[e].eventName, namespace: t[e].namespace }) })), e.mergeEventAliases(t) } }, { key: "normalizeAliases", value: function (e) { if (!i.isPlainObject(e)) throw new TypeError('The "aliases" argument must be an object.'); const t = Object.create(null); for (let n in e) { if (!i.isStringFilled(n)) throw new TypeError("The alias must be an non-empty string."); const r = e[n]; if (!r || !i.isStringFilled(r.eventName) || !i.isStringFilled(r.namespace)) throw new TypeError('The alias options must set the "eventName" and the "namespace".'); n = this.normalizeEventName(n), t[n] = { eventName: r.eventName, namespace: r.namespace } } return t } }, { key: "mergeEventAliases", value: function (e) { const t = G.get(this.GLOBAL_TARGET); t && Object.keys(e).forEach((n => { const r = e[n]; n = this.normalizeEventName(n); const i = this.makeFullEventName(r.namespace, r.eventName), o = t.eventsMap.get(n); if (o) { const e = t.eventsMap.get(i) || new Map; t.eventsMap.set(i, new Map([...e, ...o])), t.eventsMap.delete(n) } const s = t.onceMap.get(n); if (s) { const e = t.onceMap.get(i) || new Map; t.onceMap.set(i, new Map([...e, ...s])), t.onceMap.delete(n) } const a = t.eventsMaxListeners.get(n); if (a) { const e = t.eventsMaxListeners.get(i) || 0; t.eventsMaxListeners.set(i, Math.max(e, a)), t.eventsMaxListeners.delete(n) } })) } }, { key: "isEventEmitter", value: function (e) { return i.isObject(e) && !0 === e[Y] } }, { key: "normalizeEventName", value: function (e) { return i.isStringFilled(e) ? e.toLowerCase() : "" } }, { key: "normalizeListener", value: function (e) { if (i.isString(e) && (e = o.getClass(e)), !i.isFunction(e)) throw new TypeError(`The "listener" argument must be of type Function. Received type ${typeof e}.`); return e } }, { key: "resolveEventName", value: function (e, t, n = !1) { if (e = this.normalizeEventName(e), !i.isStringFilled(e)) return ""; if (this.isEventEmitter(t) && !0 !== n) null !== t.getEventNamespace() && e.includes(".") && console.warn(`Possible the wrong event name "${e}".`), e = t.getFullEventName(e); else if ($.has(e)) { const { namespace: t, eventName: n } = $.get(e); e = this.makeFullEventName(t, n) } return e } }, { key: "makeFullEventName", value: function (e, t) { const n = i.isStringFilled(e) ? `${e}:${t}` : t; return i.isStringFilled(n) ? n.toLowerCase() : "" } }]), e }(); babelHelpers.defineProperty(Z, "GLOBAL_TARGET", V), babelHelpers.defineProperty(Z, "DEFAULT_MAX_LISTENERS", G.getDefaultMaxListeners()), babelHelpers.defineProperty(Z, "sequenceValue", 1); let K = []; function Q(t) { switch (document.readyState) { case "loading": K.push(t); break; case "interactive": case "complete": i.isFunction(t) && t(), e.isReady = !0 } } e.isReady = !1, document.addEventListener("readystatechange", (() => { e.isReady || (K.forEach(Q), K = []) })); let ee = function e() { babelHelpers.classCallCheck(this, e) }; babelHelpers.defineProperty(ee, "bind", d), babelHelpers.defineProperty(ee, "bindOnce", (function (e, t, n, r) { d(e, t, (function i(...o) { y(e, t, i, r), n(...o) }), r) })), babelHelpers.defineProperty(ee, "unbind", y), babelHelpers.defineProperty(ee, "unbindAll", (function (e, t) { const n = p.get(e); Object.keys(n).forEach((r => { n[r].forEach((n => { i.isString(t) && t !== r || y(e, r, n) })) })) })), babelHelpers.defineProperty(ee, "ready", Q), babelHelpers.defineProperty(ee, "EventEmitter", Z), babelHelpers.defineProperty(ee, "BaseEvent", H); let te = function () { function e() { babelHelpers.classCallCheck(this, e) } return babelHelpers.createClass(e, null, [{ key: "replace", value: function (e, t) { i.isDomNode(e) && i.isDomNode(t) && i.isDomNode(e.parentNode) && e.parentNode.replaceChild(t, e) } }, { key: "remove", value: function (e) { i.isDomNode(e) && i.isDomNode(e.parentNode) && e.parentNode.removeChild(e) } }, { key: "clean", value: function (t) { if (i.isDomNode(t)) for (; t.childNodes.length > 0;)t.removeChild(t.firstChild); else i.isString(t) && e.clean(document.getElementById(t)) } }, { key: "insertBefore", value: function (e, t) { i.isDomNode(e) && i.isDomNode(t) && i.isDomNode(t.parentNode) && t.parentNode.insertBefore(e, t) } }, { key: "insertAfter", value: function (e, t) { if (i.isDomNode(e) && i.isDomNode(t) && i.isDomNode(t.parentNode)) { const n = t.parentNode; if (i.isDomNode(t.nextSibling)) return void n.insertBefore(e, t.nextSibling); n.appendChild(e) } } }, { key: "append", value: function (e, t) { i.isDomNode(e) && i.isDomNode(t) && t.appendChild(e) } }, { key: "prepend", value: function (t, n) { if (i.isDomNode(t) && i.isDomNode(n)) { if (i.isDomNode(n.firstChild)) return void n.insertBefore(t, n.firstChild); e.append(t, n) } } }, { key: "hasClass", value: function (t, n) { if (i.isElementNode(t)) { if (i.isString(n)) { const r = n.trim(); if (r.length > 0) { if (r.includes(" ")) return r.split(" ").every((n => e.hasClass(t, n))); if ("classList" in t) return t.classList.contains(r); if (i.isObject(t.className) && i.isString(t.className.baseVal)) return t.getAttribute("class").split(" ").some((e => e === r)) } } if (i.isArray(n) && n.length > 0) return n.every((n => e.hasClass(t, n))) } return !1 } }, { key: "addClass", value: function (t, n) { if (i.isElementNode(t)) { if (i.isString(n)) { const r = n.trim(); if (r.length > 0) { if (r.includes(" ")) return void e.addClass(t, r.split(" ")); if ("classList" in t) return void t.classList.add(r); if (i.isObject(t.className) && i.isString(t.className.baseVal)) { if ("" === t.className.baseVal) return void (t.className.baseVal = r); const e = t.className.baseVal.split(" "); if (!e.includes(r)) return e.push(r), void (t.className.baseVal = e.join(" ").trim()) } return } } i.isArray(n) && n.forEach((n => e.addClass(t, n))) } } }, { key: "removeClass", value: function (t, n) { if (i.isElementNode(t)) { if (i.isString(n)) { const r = n.trim(); if (r.length > 0) { if (r.includes(" ")) return void e.removeClass(t, r.split(" ")); if ("classList" in t) return void t.classList.remove(r); if (i.isObject(t.className) && i.isString(t.className.baseVal)) { const e = t.className.baseVal.split(" ").filter((e => e !== r)); return void (t.className.baseVal = e.join(" ")) } } } i.isArray(n) && n.forEach((n => e.removeClass(t, n))) } } }, { key: "toggleClass", value: function (t, n) { if (i.isElementNode(t)) { if (i.isString(n)) { const r = n.trim(); if (r.length > 0) return r.includes(" ") ? void e.toggleClass(t, r.split(" ")) : void t.classList.toggle(r) } i.isArray(n) && n.forEach((n => e.toggleClass(t, n))) } } }, { key: "style", value: function (t, n, r) { if (i.isElementNode(t)) { if (i.isNull(n)) return t.removeAttribute("style"), t; if (i.isPlainObject(n)) return Object.entries(n).forEach((n => { const [r, i] = n; e.style(t, r, i) })), t; if (i.isString(n)) { if (i.isUndefined(r) && t.nodeType !== Node.DOCUMENT_NODE) { const e = getComputedStyle(t); return n in e ? e[n] : e.getPropertyValue(n) } if (i.isNull(r) || "" === r || "null" === r) return t.style[n] = "", t; if (i.isString(r) || i.isNumber(r)) return t.style[n] = r, t } } return null } }, { key: "adjust", value: function (t, n = {}) { if (!t.nodeType) return null; let r = t; if (t.nodeType === Node.DOCUMENT_NODE && (r = t.body), i.isPlainObject(n)) { if (i.isPlainObject(n.attrs) && Object.keys(n.attrs).forEach((e => { "class" !== e && "classname" !== e.toLowerCase() ? "" != n.attrs[e] ? r.setAttribute(e, n.attrs[e]) : r.removeAttribute(e) : r.className = n.attrs[e] })), i.isPlainObject(n.style) && e.style(r, n.style), i.isPlainObject(n.props) && Object.keys(n.props).forEach((e => { r[e] = n.props[e] })), i.isPlainObject(n.events) && Object.keys(n.events).forEach((e => { ee.bind(r, e, n.events[e]) })), i.isPlainObject(n.dataset) && Object.keys(n.dataset).forEach((e => { r.dataset[e] = n.dataset[e] })), i.isString(n.children) && (n.children = [n.children]), i.isArray(n.children) && n.children.length > 0) return n.children.forEach((t => { i.isDomNode(t) && e.append(t, r), i.isString(t) && (r.innerHTML += t) })), r; if ("text" in n && !i.isNil(n.text)) return r.innerText = n.text, r; "html" in n && !i.isNil(n.html) && (r.innerHTML = n.html) } return r } }, { key: "create", value: function (t, n = {}, r = document) { let o = t, s = n; return i.isObjectLike(t) && (s = t, o = t.tag), e.adjust(r.createElement(o), s) } }, { key: "show", value: function (e) { i.isDomNode(e) && (e.hidden = !1) } }, { key: "hide", value: function (e) { i.isDomNode(e) && (e.hidden = !0) } }, { key: "isShown", value: function (e) { return i.isDomNode(e) && !e.hidden && "none" !== e.style.getPropertyValue("display") } }, { key: "toggle", value: function (t) { i.isDomNode(t) && (e.isShown(t) ? e.hide(t) : e.show(t)) } }, { key: "getPosition", value: function (e) { if (i.isDomNode(e)) { const t = e.getBoundingClientRect(), { scrollLeft: n, scrollTop: r } = function () { const { documentElement: e, body: t } = document; return { scrollTop: Math.max(window.pageYOffset || 0, e ? e.scrollTop : 0, t ? t.scrollTop : 0), scrollLeft: Math.max(window.pageXOffset || 0, e ? e.scrollLeft : 0, t ? t.scrollLeft : 0) } }(); return new DOMRect(t.left + n, t.top + r, t.width, t.height) } return new DOMRect } }, { key: "getRelativePosition", value: function (t, n) { if (i.isDomNode(t) && i.isDomNode(n)) { const r = e.getPosition(t), i = e.getPosition(n); return new DOMRect(r.left - i.left, r.top - i.top, r.width, r.height) } return new DOMRect } }, { key: "attr", value: function (t, n, r) { if (i.isElementNode(t)) { if (i.isString(n)) return i.isNil(r) ? i.isNull(r) ? t.removeAttribute(n) : function (e) { if (i.isString(e)) { const t = c.decode(e); let n; try { n = JSON.parse(t) } catch (e) { n = t } return n === t && /^[\d.]+[.]?\d+$/.test(n) ? Number(n) : "true" === n || "false" === n ? Boolean(n) : n } return e }(t.getAttribute(n)) : t.setAttribute(n, function (e) { return i.isPlainObject(e) || i.isArray(e) ? JSON.stringify(e) : c.encode(c.decode(e)) }(r)); if (i.isPlainObject(n)) return Object.entries(n).forEach((([n, r]) => { e.attr(t, n, r) })) } return null } }]), e }(); const ne = navigator.userAgent.toLowerCase(); let re = function () { function e() { babelHelpers.classCallCheck(this, e) } return babelHelpers.createClass(e, null, [{ key: "isOpera", value: function () { return ne.includes("opera") } }, { key: "isIE", value: function () { return "attachEvent" in document && !e.isOpera() } }, { key: "isIE6", value: function () { return ne.includes("msie 6") } }, { key: "isIE7", value: function () { return ne.includes("msie 7") } }, { key: "isIE8", value: function () { return ne.includes("msie 8") } }, { key: "isIE9", value: function () { return "documentMode" in document && document.documentMode >= 9 } }, { key: "isIE10", value: function () { return "documentMode" in document && document.documentMode >= 10 } }, { key: "isSafari", value: function () { return ne.includes("webkit") } }, { key: "isFirefox", value: function () { return ne.includes("firefox") } }, { key: "isChrome", value: function () { return ne.includes("chrome") } }, { key: "detectIEVersion", value: function () { if (e.isOpera() || e.isSafari() || e.isFirefox() || e.isChrome()) return -1; let t = -1; if (window.MSStream && !window.ActiveXObject && "ActiveXObject" in window ? t = 11 : e.isIE10() ? t = 10 : e.isIE9() ? t = 9 : e.isIE() && (t = 8), -1 === t || 8 === t) { if ("Microsoft Internet Explorer" === navigator.appName) { const e = new RegExp("MSIE ([0-9]+[.0-9]*)"), n = navigator.userAgent.match(e); i.isArrayLike(n) && n.length > 0 && (t = parseFloat(n[1])) } if ("Netscape" === navigator.appName) { t = 11; const e = new RegExp("Trident/.*rv:([0-9]+[.0-9]*)"); if (null != e.exec(navigator.userAgent)) { const n = navigator.userAgent.match(e); i.isArrayLike(n) && n.length > 0 && (t = parseFloat(n[1])) } } } return t } }, { key: "isIE11", value: function () { return e.detectIEVersion() >= 11 } }, { key: "isMac", value: function () { return ne.includes("macintosh") } }, { key: "isWin", value: function () { return ne.includes("windows") } }, { key: "isLinux", value: function () { return ne.includes("linux") && !e.isAndroid() } }, { key: "isAndroid", value: function () { return ne.includes("android") } }, { key: "isIPad", value: function () { return ne.includes("ipad;") || this.isMac() && this.isTouchDevice() } }, { key: "isIPhone", value: function () { return ne.includes("iphone;") } }, { key: "isIOS", value: function () { return e.isIPad() || e.isIPhone() } }, { key: "isMobile", value: function () { return e.isIPhone() || e.isIPad() || e.isAndroid() || ne.includes("mobile") || ne.includes("touch") } }, { key: "isRetina", value: function () { return window.devicePixelRatio && window.devicePixelRatio >= 2 } }, { key: "isTouchDevice", value: function () { return "ontouchstart" in window || navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0 } }, { key: "isDoctype", value: function (e) { const t = e || document; return t.compatMode ? "CSS1Compat" === t.compatMode : t.documentElement && t.documentElement.clientHeight } }, { key: "isLocalStorageSupported", value: function () { try { return localStorage.setItem("test", "test"), localStorage.removeItem("test"), !0 } catch (e) { return !1 } } }, { key: "addGlobalClass", value: function () { let t = "bx-core"; if (te.hasClass(document.documentElement, t)) return; e.isIOS() ? t += " bx-ios" : e.isMac() ? t += " bx-mac" : e.isAndroid() && (t += " bx-android"), t += e.isMobile() ? " bx-touch" : " bx-no-touch", t += e.isRetina() ? " bx-retina" : " bx-no-retina"; let n = -1; /AppleWebKit/.test(navigator.userAgent) ? t += " bx-chrome" : e.detectIEVersion() > 0 ? (n = e.detectIEVersion(), t += ` bx-ie bx-ie${n}`, n > 7 && n < 10 && !e.isDoctype() && (t += " bx-quirks")) : /Opera/.test(navigator.userAgent) ? t += " bx-opera" : /Gecko/.test(navigator.userAgent) && (t += " bx-firefox"), te.addClass(document.documentElement, t) } }, { key: "detectAndroidVersion", value: function () { const e = new RegExp("Android ([0-9]+[.0-9]*)"); if (null != e.exec(navigator.userAgent)) { const t = navigator.userAgent.match(e); if (i.isArrayLike(t) && t.length > 0) return parseFloat(t[1]) } return 0 } }, { key: "isPropertySupported", value: function (e, t) { if ("" === e) return !1; const n = e.includes("-") ? function (e) { const t = /(\\-([a-z]))/g; return t.test(e) ? e.replace(t, ((...e) => e[2].toUpperCase())) : e }(e) : e, r = !!t, i = n.charAt(0).toUpperCase() + n.slice(1), o = `${n} ${["Webkit", "Moz", "O", "ms"].join(`${i} `)} ${i}`.split(" "), s = document.body || document.documentElement; for (let e = 0; e < o.length; e += 1) { const t = o[e]; if (s && "style" in s && t in s.style) { const e = t.substr(0, t.length - n.length).toLowerCase(), i = t === n ? "" : `-${e}-`; return r ? i + n.replace(/([A-Z])/g, ((...e) => `-${e[1].toLowerCase()}`)) : t } } return !1 } }, { key: "addGlobalFeatures", value: function (t) { if (!i.isArray(t)) return; const n = []; for (let r = 0; r < t.length; r += 1) { const i = !!e.isPropertySupported(t[r]); n.push(`bx-${i ? "" : "no-"}${t[r].toLowerCase()}`) } te.addClass(document.documentElement, n.join(" ")) } }]), e }(), ie = function () { function e() { babelHelpers.classCallCheck(this, e) } return babelHelpers.createClass(e, null, [{ key: "getList", value: function () { return document.cookie.split(";").map((e => e.split("="))).map((e => e.map((e => e.trim())))).reduce(((e, t) => { const [n, r] = t; return e[decodeURIComponent(n)] = decodeURIComponent(r), e }), {}) } }, { key: "get", value: function (t) { const n = e.getList(); if (t in n) return n[t] } }, { key: "set", value: function (e, t, n = {}) { const r = { expires: "", ...n }; if (i.isNumber(r.expires)) { const e = +new Date, t = r.expires, n = 864e5; r.expires = new Date(e + t * n) } i.isDate(r.expires) && (r.expires = r.expires.toUTCString()); const o = decodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent).replace(/[()]/g, escape), s = encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent), a = Object.keys(r).reduce(((e, t) => { const n = r[t]; return n ? !0 === n ? `${e}; ${t}` : `${e}; ${t}=${n.split(";")[0]}` : e }), ""); document.cookie = `${o}=${s}${a}` } }, { key: "remove", value: function (t, n = {}) { e.set(t, "", { ...n, expires: -1 }) } }]), e }(); function oe(e, t = new FormData, n = null) { if (i.isUndefined(e)) return t; if (i.isNull(e)) t.append(n, ""); else if (i.isArray(e)) if (e.length) e.forEach(((e, r) => { oe(e, t, `${n}[${r}]`) })); else { const e = `${n}[]`; t.append(e, "") } else i.isDate(e) ? t.append(n, e.toISOString()) : !i.isObject(e) || i.isFile(e) || i.isBlob(e) ? t.append(n, e) : Object.keys(e).forEach((r => { const o = e[r]; let s = r; if (i.isArray(o)) for (; r.length > 2 && r.lastIndexOf("[]") === r.length - 2;)s = r.substring(0, r.length - 2); oe(o, t, n ? `${n}[${s}]` : s) })); return t } let se = function () { function e() { babelHelpers.classCallCheck(this, e) } return babelHelpers.createClass(e, null, [{ key: "convertObjectToFormData", value: function (e) { return oe(e) } }]), e }(), ae = function e() { babelHelpers.classCallCheck(this, e) }; function ue(e) { return i.isString(e) && i.isNil(ue[e]) && (Z.emit("onBXMessageNotFound", new H({ compatData: [e] })), i.isNil(ue[e]) && (D.debug(`message undefined: ${e}`), ue[e] = "")), i.isPlainObject(e) && Object.keys(e).forEach((t => { ue[t] = e[t] })), ue[e] } babelHelpers.defineProperty(ae, "Cookie", ie), babelHelpers.defineProperty(ae, "Data", se), !i.isNil(window.BX) && i.isFunction(window.BX.message) && Object.keys(window.BX.message).forEach((e => { ue({ [e]: window.BX.message[e] }) })); let le = function () { function e() { babelHelpers.classCallCheck(this, e) } return babelHelpers.createClass(e, null, [{ key: "getMessage", value: function (e, t = null) { let n = ue(e); return i.isString(n) && i.isPlainObject(t) && Object.keys(t).forEach((e => { const r = new RegExp(e, "gi"); n = n.replace(r, (() => i.isNil(t[e]) ? "" : String(t[e]))) })), n } }, { key: "hasMessage", value: function (e) { return i.isString(e) && !i.isNil(ue[e]) } }, { key: "setMessage", value: function (e, t) { i.isString(e) && i.isString(t) && ue({ [e]: t }), i.isObject(e) && ue(e) } }, { key: "getMessagePlural", value: function (e, t, n = null) { let r = ""; return r = i.isNumber(t) ? this.hasMessage(`${e}_PLURAL_${this.getPluralForm(t)}`) ? this.getMessage(`${e}_PLURAL_${this.getPluralForm(t)}`, n) : this.getMessage(`${e}_PLURAL_1`, n) : this.getMessage(e, n), r } }, { key: "getPluralForm", value: function (e, t) { let n; switch (i.isStringFilled(t) || (t = ue("LANGUAGE_ID")), e < 0 && (e *= -1), t) { case "ar": n = 1 !== e ? 1 : 0; break; case "br": case "fr": case "tr": n = e > 1 ? 1 : 0; break; case "de": case "en": case "hi": case "it": case "la": n = 1 !== e ? 1 : 0; break; case "ru": case "ua": n = e % 10 == 1 && e % 100 != 11 ? 0 : e % 10 >= 2 && e % 10 <= 4 && (e % 100 < 10 || e % 100 >= 20) ? 1 : 2; break; case "pl": n = 1 === e ? 0 : e % 10 >= 2 && e % 10 <= 4 && (e % 100 < 10 || e % 100 >= 20) ? 1 : 2; break; case "id": case "ja": case "ms": case "sc": case "tc": case "th": case "vn": n = 0; break; default: n = 1 }return n } }]), e }(); const ce = new Map, fe = new Map, pe = (() => { let e = 0; return () => (e += 1, e) })(); function he(e, t) { t.forEach(((t, n) => { const r = e.querySelector(`[${n}]`); if (r) { r.removeAttribute(n); const e = n.replace(/-(.*)/, ""); ee.bind(r, e, t), ce.delete(n) } })) } function de(e, t) { t.forEach(((t, n) => { const r = e.getElementById(n); r && (te.replace(r, t), fe.delete(n)) })) } function ye(e, ...t) { return t.reduce(((t, n, r) => { const o = r + 1; return i.isPlainObject(n) || i.isArray(n) ? `${t}__s${r}${e[o]}` : t + n + e[o] }), e[0]).replace(/[\r\t]/gm, "").split(";\n").map((e => e.replace(/\n/, ""))).reduce(((e, n) => { if ("" !== n) { const r = n.match(/^[\w-. ]+:/), i = n.split(/^[\w-. ]+:/), o = r[0].replace(":", "").trim(), s = i[1].trim(); if (/^__s\d+/.test(s)) return e[o] = t[s.replace("__s", "")], e; e[o] = s } return e }), {}) } let me = function () { function e() { babelHelpers.classCallCheck(this, e) } return babelHelpers.createClass(e, null, [{ key: "safe", value: function (e, ...t) { return t.reduce(((t, n, r) => t + c.encode(n) + e[r + 1]), e[0]) } }, { key: "unsafe", value: function (e, ...t) { return t.reduce(((t, n, r) => t + c.decode(n) + e[r + 1]), e[0]) } }, { key: "style", value: function (e) { if (!i.isDomNode(e)) throw new Error("element is not HTMLElement"); return function (...t) { te.style(e, ye(...t)) } } }, { key: "message", value: function (e, ...t) { return t.reduce(((t, n, r) => t + le.getMessage(n) + e[r + 1]), e[0]) } }, { key: "attrs", value: function (e) { if (!i.isDomNode(e)) throw new Error("element is not HTMLElement"); return function (...t) { te.attr(e, ye(...t)) } } }]), e }(); function ge(e) { if (!i.isString(e)) return {}; const t = e.trim().replace(/^[?#&]/, ""); return t ? t.split("&").reduce(((e, t) => { const [n, r] = t.replace(/\+/g, " ").split("="); return function (e) { switch (e) { case "index": return (e, t, n) => { const r = /\[(\w*)\]$/.exec(e), o = e.replace(/\[\w*\]$/, ""); i.isNil(r) ? n[o] = t : (i.isUndefined(n[o]) && (n[o] = {}), n[o][r[1]] = t) }; case "bracket": return (e, t, n) => { const r = /(\[\])$/.exec(e), o = e.replace(/\[\]$/, ""); i.isNil(r) ? n[o] = t : i.isUndefined(n[o]) ? n[o] = [t] : n[o] = [].concat(n[o], t) }; default: return (e, t, n) => { n[e.replace(/\[\]$/, "")] = t } } }(function (e) { return /^\w+\[([\w]+)\]$/.test(e) ? "index" : /^\w+\[\]$/.test(e) ? "bracket" : "default" }(n))(n, r, e), e }), {}) : {} } babelHelpers.defineProperty(me, "render", (function (e, ...t) { const n = /[ |\t]on(\w+)="$/, r = /[\r\n\t]/g, o = t.reduce(((t, o, s) => { let a = t; const u = t.match(n); if (u && i.isFunction(o)) { const t = `${u[1].replace(/=['|"]/, "")}-${pe()}`, i = `${t}="`; return a = a.replace(n, ` ${i}`), ce.set(t, o), a += e[s + 1].replace(r, " ").replace(/  +/g, " "), a } if (i.isDomNode(o)) { const t = `tmp___${pe()}`; return fe.set(t, o), a += `<span id="${t}"> </span>`, a += e[s + 1], a } return i.isArray(o) ? ([...o].forEach((e => { if (i.isDomNode(e)) { const t = `tmp___${pe()}`; fe.set(t, e), a += `<span id="${t}"> </span>` } })), a += e[s + 1], a) : a + o + e[s + 1] }), e[0]), s = o.trim().toLowerCase(); if (s.startsWith("<!doctype") || s.startsWith("<html")) { const e = document.implementation.createHTMLDocument(""); return e.documentElement.innerHTML = o, de(e, fe), he(e, ce), ce.clear(), e } const a = (new DOMParser).parseFromString(o, "text/html"); if (de(a, fe), he(a, ce), a.head.children.length && a.body.children.length) return a; if (1 === a.body.children.length) { const [e] = a.body.children; return te.remove(e), e } if (a.body.children.length > 1) return [...a.body.children].map((e => (te.remove(e), e))); if (0 === a.body.children.length) { if (1 === a.head.children.length) { const [e] = a.head.children; return te.remove(e), e } if (a.head.children.length > 1) return [...a.head.children].map((e => (te.remove(e), e))) } return !1 })), babelHelpers.defineProperty(me, "attr", me.attrs); const ve = /^((\w+):)?(\/\/((\w+)?(:(\w+))?@)?([^\/\?:]+)(:(\d+))?)?(\/?([^\/\?#][^\?#]*)?)?(\?([^#]+))?(#(\w*))?/; function be(e = {}) { const t = Object.keys(e).reduce(((t, n) => (i.isArray(e[n]) && e[n].forEach((e => { t.push(`${n}[]=${e}`) }), ""), i.isPlainObject(e[n]) && Object.keys(e[n]).forEach((r => { t.push(`${n}[${r}]=${e[n][r]}`) }), ""), i.isObject(e[n]) || i.isArray(e[n]) || t.push(`${n}=${e[n]}`), t)), []).join("&"); return t.length > 0 ? `?${t}` : t } function we(e) { return i.isArray(e) ? e.map((e => String(e))) : i.isPlainObject(e) ? { ...e } : String(e) } const xe = new WeakMap; let Se = function () { function e(t = "") { babelHelpers.classCallCheck(this, e), xe.set(this, function (e) { const t = e.match(ve); if (i.isArray(t)) { const n = ge(t[14]); return { useShort: /^\/\//.test(e), href: t[0] || "", schema: t[2] || "", host: t[8] || "", port: t[10] || "", path: t[11] || "", query: t[14] || "", queryParams: n, hash: t[16] || "", username: t[5] || "", password: t[7] || "", origin: t[8] || "" } } return {} }(t)) } return babelHelpers.createClass(e, null, [{ key: "addParam", value: function (t, n = {}) { return new e(t).setQueryParams(n).toString() } }, { key: "removeParam", value: function (t, n) { const r = i.isArray(n) ? n : [n]; return new e(t).removeQueryParam(...r).toString() } }]), babelHelpers.createClass(e, [{ key: "getSchema", value: function () { return xe.get(this).schema } }, { key: "setSchema", value: function (e) { return xe.get(this).schema = String(e), this } }, { key: "getHost", value: function () { return xe.get(this).host } }, { key: "setHost", value: function (e) { return xe.get(this).host = String(e), this } }, { key: "getPort", value: function () { return xe.get(this).port } }, { key: "setPort", value: function (e) { return xe.get(this).port = String(e), this } }, { key: "getPath", value: function () { return xe.get(this).path } }, { key: "setPath", value: function (e) { return /^\//.test(e) ? (xe.get(this).path = String(e), this) : (xe.get(this).path = `/${String(e)}`, this) } }, { key: "getQuery", value: function () { return be(xe.get(this).queryParams) } }, { key: "getQueryParam", value: function (e) { const t = this.getQueryParams(); return e in t ? t[e] : null } }, { key: "setQueryParam", value: function (e, t = "") { return xe.get(this).queryParams[e] = we(t), this } }, { key: "getQueryParams", value: function () { return { ...xe.get(this).queryParams } } }, { key: "setQueryParams", value: function (e = {}) { const t = { ...this.getQueryParams(), ...e }; return Object.keys(t).forEach((e => { t[e] = we(t[e]) })), xe.get(this).queryParams = t, this } }, { key: "removeQueryParam", value: function (...e) { const t = { ...xe.get(this).queryParams }; return e.forEach((e => { e in t && delete t[e] })), xe.get(this).queryParams = t, this } }, { key: "getFragment", value: function () { return xe.get(this).hash } }, { key: "setFragment", value: function (e) { return xe.get(this).hash = String(e), this } }, { key: "serialize", value: function () { const e = { ...xe.get(this) }; return e.href = this.toString(), e } }, { key: "toString", value: function () { const e = { ...xe.get(this) }; let t = e.schema ? `${e.schema}://` : ""; e.useShort && (t = "//"); const n = i.isString(e.port) && !["", "80"].includes(e.port) ? `:${e.port}` : "", r = this.getHost(); return `${r ? t : ""}${r}${r ? n : ""}${this.getPath()}${be(e.queryParams)}${e.hash ? `#${e.hash}` : ""}` } }]), e }(), Ee = function () { function e() { babelHelpers.classCallCheck(this, e) } return babelHelpers.createClass(e, null, [{ key: "isEmail", value: function (e) { return /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(String(e).toLowerCase()) } }]), e }(), Be = function () { function e() { babelHelpers.classCallCheck(this, e), babelHelpers.defineProperty(this, "storage", new Map) } return babelHelpers.createClass(e, [{ key: "get", value: function (e, t) { if (!this.storage.has(e)) { if (i.isFunction(t)) return t(); if (!i.isUndefined(t)) return t } return this.storage.get(e) } }, { key: "set", value: function (e, t) { this.storage.set(e, t) } }, { key: "delete", value: function (e) { this.storage.delete(e) } }, { key: "has", value: function (e) { return this.storage.has(e) } }, { key: "remember", value: function (e, t) { return this.storage.has(e) || (i.isFunction(t) ? this.storage.set(e, t()) : i.isUndefined(t) || this.storage.set(e, t)), this.storage.get(e) } }, { key: "size", value: function () { return this.storage.size } }, { key: "keys", value: function () { return [...this.storage.keys()] } }, { key: "values", value: function () { return [...this.storage.values()] } }]), e }(), Te = function (e) { function t(...e) { var n; return babelHelpers.classCallCheck(this, t), n = babelHelpers.possibleConstructorReturn(this, babelHelpers.getPrototypeOf(t).call(this, ...e)), babelHelpers.defineProperty(babelHelpers.assertThisInitialized(n), "storage", new Map), n } return babelHelpers.inherits(t, e), t }(Be), je = function () { function e() { babelHelpers.classCallCheck(this, e), babelHelpers.defineProperty(this, "stackKey", "BX.Cache.Storage.LsStorage.stack"), babelHelpers.defineProperty(this, "stack", null) } return babelHelpers.createClass(e, [{ key: "getStack", value: function () { if (i.isPlainObject(this.stack)) return this.stack; const e = localStorage.getItem(this.stackKey); if (i.isString(e) && "" !== e) { const t = JSON.parse(e); if (i.isPlainObject(t)) return this.stack = t, this.stack } return this.stack = {}, this.stack } }, { key: "saveStack", value: function () { if (i.isPlainObject(this.stack)) { const e = JSON.stringify(this.stack); localStorage.setItem(this.stackKey, e) } } }, { key: "get", value: function (e) { return this.getStack()[e] } }, { key: "set", value: function (e, t) { this.getStack()[e] = t, this.saveStack() } }, { key: "delete", value: function (e) { const t = this.getStack(); e in t && delete t[e] } }, { key: "has", value: function (e) { return e in this.getStack() } }, { key: "keys", value: function () { const e = this.getStack(); return Object.keys(e) } }, { key: "values", value: function () { const e = this.getStack(); return Object.values(e) } }, { key: "size", get: function () { const e = this.getStack(); return Object.keys(e).length } }]), e }(), Oe = function (e) { function t(...e) { var n; return babelHelpers.classCallCheck(this, t), n = babelHelpers.possibleConstructorReturn(this, babelHelpers.getPrototypeOf(t).call(this, ...e)), babelHelpers.defineProperty(babelHelpers.assertThisInitialized(n), "storage", new je), n } return babelHelpers.inherits(t, e), t }(Be), Xe = function e() { babelHelpers.classCallCheck(this, e) }; babelHelpers.defineProperty(Xe, "MemoryCache", Te), babelHelpers.defineProperty(Xe, "LocalStorageCache", Oe); let Ae = function () { function e(t = {}) { babelHelpers.classCallCheck(this, e), i.isPlainObject(t) && Object.assign(this, t) } return babelHelpers.createClass(e, [{ key: "get", value: function (e, t = null) { return function (e) { return i.isStringFilled(e) ? e.split(".").reduce(((e, t) => (t.split(/\[['"]?(.+?)['"]?\]/g).forEach((t => { i.isStringFilled(t) && e.push(t) })), e)), []) : [] }(e).reduce(((e, n) => i.isNil(e) || e === t ? e : i.isUndefined(e[n]) ? t : e[n]), this) } }]), e }(); function ke(e) { return i.isObject(e) ? (Object.values(e).forEach((e => { ke(e) })), Object.freeze(e)) : e } const Ne = new Map; let Ce, Pe = function () { function e() { babelHelpers.classCallCheck(this, e) } return babelHelpers.createClass(e, null, [{ key: "getSettings", value: function (e) { if (i.isStringFilled(e)) { if (Ne.has(e)) return Ne.get(e); const t = document.querySelector(`script[data-extension="${e}"]`); if (i.isDomNode(t)) { const n = ke((() => { try { return new Ae(JSON.parse(t.innerHTML)) } catch (e) { return new Ae } })()); return Ne.set(e, n), n } } return ke(new Ae) } }]), e }(); var _e = new WeakSet; Ce = Symbol.iterator; let Ie = function () { function e(t = null) { babelHelpers.classCallCheck(this, e), _e.add(this), babelHelpers.defineProperty(this, "comparator", null), babelHelpers.defineProperty(this, "items", []), this.comparator = i.isFunction(t) ? t : null } return babelHelpers.createClass(e, [{ key: "add", value: function (e) { let t = -1; return this.comparator ? (t = function (e, t, n) { if (!t.has(e)) throw new TypeError("attempted to get private field on non-instance"); return n }(this, _e, Le).call(this, e), this.items.splice(t, 0, e)) : this.items.push(e), t } }, { key: "has", value: function (e) { return this.items.includes(e) } }, { key: "getIndex", value: function (e) { return this.items.indexOf(e) } }, { key: "getByIndex", value: function (e) { if (i.isNumber(e) && e >= 0) { const t = this.items[e]; return i.isUndefined(t) ? null : t } return null } }, { key: "getFirst", value: function () { const e = this.items[0]; return i.isUndefined(e) ? null : e } }, { key: "getLast", value: function () { const e = this.items[this.count() - 1]; return i.isUndefined(e) ? null : e } }, { key: "count", value: function () { return this.items.length } }, { key: "delete", value: function (e) { const t = this.getIndex(e); return -1 !== t && (this.items.splice(t, 1), !0) } }, { key: "clear", value: function () { this.items = [] } }, { key: Ce, value: function () { return this.items[Symbol.iterator]() } }, { key: "forEach", value: function (e, t) { return this.items.forEach(e, t) } }, { key: "getAll", value: function () { return this.items } }, { key: "getComparator", value: function () { return this.comparator } }, { key: "sort", value: function () { const e = this.getComparator(); if (null === e) return; const t = this.items.length, n = new Array(t); for (let e = 0; e < t; e++)n[e] = e; n.sort(((t, n) => e(this.items[t], this.items[n]) || t - n)); for (let e = 0; e < t; e++)n[e] = this.items[n[e]]; for (let e = 0; e < t; e++)this.items[e] = n[e] } }]), e }(); function Le(e) { let t = 0, n = this.items.length; for (; t < n;) { const r = Math.floor((t + n) / 2); this.comparator(this.items[r], e) >= 0 ? n = r : t = r + 1 } return t } let Me = function (e) { function t(e, n = {}) { var r; if (babelHelpers.classCallCheck(this, t), r = babelHelpers.possibleConstructorReturn(this, babelHelpers.getPrototypeOf(t).call(this)), babelHelpers.defineProperty(babelHelpers.assertThisInitialized(r), "sort", 0), babelHelpers.defineProperty(babelHelpers.assertThisInitialized(r), "alwaysOnTop", !1), babelHelpers.defineProperty(babelHelpers.assertThisInitialized(r), "zIndex", 0), babelHelpers.defineProperty(babelHelpers.assertThisInitialized(r), "element", null), babelHelpers.defineProperty(babelHelpers.assertThisInitialized(r), "overlay", null), babelHelpers.defineProperty(babelHelpers.assertThisInitialized(r), "overlayGap", -5), babelHelpers.defineProperty(babelHelpers.assertThisInitialized(r), "stack", null), r.setEventNamespace("BX.Main.ZIndexManager.Component"), !i.isElementNode(e)) throw new Error("ZIndexManager.Component: The argument 'element' must be a DOM element."); r.element = e; const o = i.isPlainObject(n) ? n : {}; return r.setAlwaysOnTop(o.alwaysOnTop), r.setOverlay(o.overlay), r.setOverlayGap(o.overlayGap), r.subscribeFromOptions(o.events), r } return babelHelpers.inherits(t, e), babelHelpers.createClass(t, [{ key: "getSort", value: function () { return this.sort } }, { key: "setSort", value: function (e) { i.isNumber(e) && (this.sort = e) } }, { key: "setStack", value: function (e) { this.stack = e } }, { key: "getStack", value: function () { return this.stack } }, { key: "getZIndex", value: function () { return this.zIndex } }, { key: "setZIndex", value: function (e) { const t = this.getZIndex() !== e; this.getElement().style.setProperty("z-index", e, "important"), this.zIndex = e, null !== this.getOverlay() && this.getOverlay().style.setProperty("z-index", e + this.getOverlayGap(), "important"), t && this.emit("onZIndexChange", { component: this }) } }, { key: "getAlwaysOnTop", value: function () { return this.alwaysOnTop } }, { key: "setAlwaysOnTop", value: function (e) { (i.isNumber(e) || i.isBoolean(e)) && (this.alwaysOnTop = e) } }, { key: "getElement", value: function () { return this.element } }, { key: "setOverlay", value: function (e, t) { (i.isElementNode(e) || null === e) && (this.overlay = e, this.setOverlayGap(t), this.getStack() && this.getStack().sort()) } }, { key: "getOverlay", value: function () { return this.overlay } }, { key: "setOverlayGap", value: function (e) { i.isNumber(e) && (this.overlayGap = e) } }, { key: "getOverlayGap", value: function () { return this.overlayGap } }]), t }(Z), De = function () { function e(t) { if (babelHelpers.classCallCheck(this, e), babelHelpers.defineProperty(this, "container", null), babelHelpers.defineProperty(this, "components", null), babelHelpers.defineProperty(this, "elements", new WeakMap), babelHelpers.defineProperty(this, "baseIndex", 1e3), babelHelpers.defineProperty(this, "baseStep", 50), babelHelpers.defineProperty(this, "sortCount", 0), !i.isDomNode(t)) throw new Error("ZIndexManager.Stack: The 'container' argument must be a DOM element."); this.container = t; this.components = new Ie(((e, t) => { let n = (e.getAlwaysOnTop() || 0) - (t.getAlwaysOnTop() || 0); return n || (n = e.getSort() - t.getSort()), n })) } return babelHelpers.createClass(e, [{ key: "getBaseIndex", value: function () { return this.baseIndex } }, { key: "setBaseIndex", value: function (e) { i.isNumber(e) && e >= 0 && (this.baseIndex = e, this.sort()) } }, { key: "setBaseStep", value: function (e) { i.isNumber(e) && e > 0 && (this.baseStep = e, this.sort()) } }, { key: "getBaseStep", value: function () { return this.baseStep } }, { key: "register", value: function (e, t = {}) { if (this.getComponent(e)) return console.warn("ZIndexManager: You cannot register the element twice.", e), this.getComponent(e); const n = new Me(e, t); return n.setStack(this), n.setSort(++this.sortCount), this.elements.set(e, n), this.components.add(n), this.sort(), n } }, { key: "unregister", value: function (e) { const t = this.elements.get(e); this.components.delete(t), this.elements.delete(e), this.sort() } }, { key: "getComponent", value: function (e) { return this.elements.get(e) || null } }, { key: "getComponents", value: function () { return this.components.getAll() } }, { key: "getMaxZIndex", value: function () { const e = this.components.getLast(); return e ? e.getZIndex() : this.baseIndex } }, { key: "sort", value: function () { this.components.sort(); let e = this.baseIndex; this.components.forEach((t => { t.setZIndex(e), e += this.baseStep })) } }, { key: "bringToFront", value: function (e) { const t = this.getComponent(e); return t ? (t.setSort(++this.sortCount), this.sort(), t) : (console.error("ZIndexManager: element was not found in the stack.", e), null) } }]), e }(); function Fe(e, t, n) { if (e !== t) throw new TypeError("Private static access of wrong provenance"); return n } let Re = function () { function e() { babelHelpers.classCallCheck(this, e) } return babelHelpers.createClass(e, null, [{ key: "register", value: function (t, n = {}) { const r = Fe(this, e, He).call(this, t); if (!r) return null; return this.getOrAddStack(r).register(t, n) } }, { key: "unregister", value: function (t) { const n = Fe(this, e, He).call(this, t), r = this.getStack(n); r && r.unregister(t) } }, { key: "addStack", value: function (e) { const t = new De(e); return this.stacks.set(e, t), t } }, { key: "getStack", value: function (e) { return this.stacks.get(e) || null } }, { key: "getOrAddStack", value: function (e) { return this.getStack(e) || this.addStack(e) } }, { key: "getComponent", value: function (t) { const n = Fe(this, e, He).call(this, t, !0); if (!n) return null; const r = this.getStack(n); return r ? r.getComponent(t) : null } }, { key: "bringToFront", value: function (t) { const n = Fe(this, e, He).call(this, t), r = this.getStack(n); return r ? r.bringToFront(t) : null } }]), e }(); function He(e, t = !1) { return i.isElementNode(e) ? i.isElementNode(e.parentNode) ? e.parentNode : (t || console.error("ZIndexManager: The 'element' doesn't have a parent node.", e), null) : (t || console.error("ZIndexManager: The argument 'element' must be a DOM element.", e), null) } babelHelpers.defineProperty(Re, "stacks", new WeakMap); var ze = { OrderedArray: Ie }; function We(e) { return i.isString(e) ? document.getElementById(e) : e } function Ge(e) { return i.isElementNode(e) ? e.ownerDocument.parentWindow || e.ownerDocument.defaultView || window : i.isDomNode(e) && (e.parentWindow || e.defaultView) || window } const { getClass: Ue, namespace: $e } = o, Ve = ue, { replace: Ye, remove: qe, clean: Je, insertBefore: Ze, insertAfter: Ke, append: Qe, prepend: et, style: tt, adjust: nt, create: rt, isShown: it } = te, ot = ae.Cookie.get, { bind: st, unbind: at, unbindAll: ut, bindOnce: lt, ready: ct } = ee, { debugState: ft, isDebugEnabled: pt, default: ht } = x, { clone: dt, loadExtension: yt, debounce: mt, throttle: gt, html: vt } = D, bt = { ...Object.getOwnPropertyNames(i).filter((e => !["name", "length", "prototype", "caller", "arguments"].includes(e))).reduce(((e, t) => (e[t] = i[t], e)), {}), isNotEmptyString: e => i.isString(e) && "" !== e, isNotEmptyObject: e => i.isObjectLike(e) && Object.keys(e).length > 0, isMapKey: i.isObject, stringToInt: e => { const t = parseInt(e); return Number.isNaN(t) ? 0 : t } }, wt = { IsOpera: re.isOpera, IsIE: re.isIE, IsIE6: re.isIE6, IsIE7: re.isIE7, IsIE8: re.isIE8, IsIE9: re.isIE9, IsIE10: re.isIE10, IsIE11: re.isIE11, IsSafari: re.isSafari, IsFirefox: re.isFirefox, IsChrome: re.isChrome, DetectIeVersion: re.detectIEVersion, IsMac: re.isMac, IsAndroid: re.isAndroid, isIPad: re.isIPad, isIPhone: re.isIPhone, IsIOS: re.isIOS, IsMobile: re.isMobile, isRetina: re.isRetina, IsDoctype: re.isDoctype, SupportLocalStorage: re.isLocalStorageSupported, addGlobalClass: re.addGlobalClass, DetectAndroidVersion: re.detectAndroidVersion, isPropertySupported: re.isPropertySupported, addGlobalFeatures: re.addGlobalFeatures }, xt = window.BX ? window.BX.ajax : () => { }; function St(e = document) { return { scrollWidth: e.documentElement.scrollWidth, scrollHeight: e.documentElement.scrollHeight } } function Et(e = document) { const t = Ge(e); return { scrollLeft: t.pageXOffset, scrollTop: t.pageYOffset } } function Bt(e = document) { const t = Ge(e); return { innerWidth: t.innerWidth, innerHeight: t.innerHeight } } "object" == typeof global && global.window && global.window.BX && Object.assign(global.window.BX, e), e.Type = i, e.Reflection = o, e.Text = c, e.Dom = te, e.Browser = re, e.Event = ee, e.Http = ae, e.Runtime = D, e.Loc = le, e.Tag = me, e.Uri = Se, e.Validation = Ee, e.Cache = Xe, e.BaseError = R, e.Extension = Pe, e.ZIndexManager = Re, e.Collections = ze, e.getClass = Ue, e.namespace = $e, e.message = Ve, e.replace = Ye, e.remove = qe, e.clean = Je, e.insertBefore = Ze, e.insertAfter = Ke, e.append = Qe, e.prepend = et, e.style = tt, e.adjust = nt, e.create = rt, e.isShown = it, e.addClass = function () { te.addClass(...D.merge([], Array.from(arguments), [We(arguments[0])])) }, e.removeClass = function () { te.removeClass(...D.merge(Array.from(arguments), [We(arguments[0])])) }, e.hasClass = function () { return te.hasClass(...D.merge(Array.from(arguments), [We(arguments[0])])) }, e.toggleClass = function () { te.toggleClass(...D.merge(Array.from(arguments), [We(arguments[0])])) }, e.cleanNode = (e, t = !1) => { const n = We(e); return i.isDomNode(n) && (te.clean(n), t) ? (te.remove(n), n) : n }, e.getCookie = ot, e.setCookie = (e, t, n = {}) => { const r = { ...n }; i.isNumber(r.expires) && (r.expires /= 86400), ae.Cookie.set(e, t, r) }, e.bind = st, e.unbind = at, e.unbindAll = ut, e.bindOnce = lt, e.ready = ct, e.debugEnableFlag = ft, e.debugStatus = pt, e.debug = ht, e.debugEnable = e => { e ? g() : v() }, e.clone = dt, e.loadExt = yt, e.debounce = mt, e.throttle = gt, e.html = vt, e.type = bt, e.browser = wt, e.ajax = xt, e.GetWindowScrollSize = St, e.GetWindowScrollPos = Et, e.GetWindowInnerSize = Bt, e.GetWindowSize = function (e = document) { return { ...Bt(e), ...Et(e), ...St(e) } }, e.GetContext = function (e) { return Ge(e) }, e.pos = function (e, t = !1) { if (!e) return (new DOMRect).toJSON(); if (e.ownerDocument === document && !t) { const t = e.getBoundingClientRect(), n = document.documentElement, { body: r } = document; return { top: Math.round(t.top + (n.scrollTop || r.scrollTop)), left: Math.round(t.left + (n.scrollLeft || r.scrollLeft)), width: Math.round(t.right - t.left), height: Math.round(t.bottom - t.top), right: Math.round(t.right + (n.scrollLeft || r.scrollLeft)), bottom: Math.round(t.bottom + (n.scrollTop || r.scrollTop)) } } let n = 0, r = 0; const i = e.offsetWidth, o = e.offsetHeight; let s = !0; for (; null != e && (s || !t || !BX.is_relative(e)); e = e.offsetParent)n += e.offsetLeft, r += e.offsetTop, s ? s = !1 : (n += c.toNumber(te.style(e, "border-left-width")), r += c.toNumber(te.style(e, "border-top-width"))); return new DOMRect(n, r, i, o).toJSON() }, e.addCustomEvent = function (e, t, n) { i.isString(e) && (n = t, t = e, e = Z.GLOBAL_TARGET), e === window && (e = Z.GLOBAL_TARGET), i.isObject(e) ? i.isStringFilled(t) ? i.isFunction(n) ? (t = t.toLowerCase(), Z.subscribe(e, t, n, { compatMode: !0, useGlobalNaming: !0 })) : console.error('The "eventHandler" argument must be a function. Received type ' + typeof n + ".") : console.error('The "eventName" argument must be a string.') : console.error('The "eventObject" argument must be an object. Received type ' + typeof e + ".") }, e.onCustomEvent = function (e, t, n, r) { i.isString(e) && (r = n, n = t, t = e, e = Z.GLOBAL_TARGET), i.isObject(e) && e !== window || (e = Z.GLOBAL_TARGET), n || (n = []), t = t.toLowerCase(); const o = new H; o.setData(n), o.setCompatData(n), Z.emit(e, t, o, { cloneData: !0 === r, useGlobalNaming: !0 }) }, e.removeCustomEvent = function (e, t, n) { i.isString(e) && (n = t, t = e, e = Z.GLOBAL_TARGET), i.isFunction(n) ? (e === window && (e = Z.GLOBAL_TARGET), t = t.toLowerCase(), Z.unsubscribe(e, t, n, { useGlobalNaming: !0 })) : console.error('The "eventHandler" argument must be a function. Received type ' + typeof n + ".") }, e.removeAllCustomEvents = function (e, t) { i.isString(e) && (t = e, e = Z.GLOBAL_TARGET), e === window && (e = Z.GLOBAL_TARGET), t = t.toLowerCase(), Z.unsubscribeAll(e, t, { useGlobalNaming: !0 }) } }(this.BX = this.BX || {}), function (BX) { var proxyList = new WeakMap, deferList = new WeakMap, deniedEvents = [], customEvents = new WeakMap, customEventsCnt = 0, garbageCollectors = [], cssList = [], cssInit = !1, jsList = [], jsInit = !1, eventTypes = { click: "MouseEvent", dblclick: "MouseEvent", mousedown: "MouseEvent", mousemove: "MouseEvent", mouseout: "MouseEvent", mouseover: "MouseEvent", mouseup: "MouseEvent", focus: "MouseEvent", blur: "MouseEvent" }, lastWait = [], CHECK_FORM_ELEMENTS = { tagName: /^INPUT|SELECT|TEXTAREA|BUTTON$/i }, PRELOADING = 1, PRELOADED = 2, LOADING = 3, LOADED = 4, assets = {}, isAsync = null; BX.MSLEFT = 1, BX.MSMIDDLE = 2, BX.MSRIGHT = 4, BX.AM_PM_UPPER = 1, BX.AM_PM_LOWER = 2, BX.AM_PM_NONE = !1, BX.ext = function (e) { for (var t in e) e.hasOwnProperty(t) && (this[t] = e[t]) }; var r = { script: /<script([^>]*)>/gi, script_end: /<\/script>/gi, script_src: /src=["\']([^"\']+)["\']/i, script_type: /type=["\']([^"\']+)["\']/i, space: /\s+/, ltrim: /^[\s\r\n]+/g, rtrim: /[\s\r\n]+$/g, style: /<link.*?(rel="stylesheet"|type="text\/css")[^>]*>/i, style_href: /href=["\']([^"\']+)["\']/i }; BX.processHTML = function (e, t) { for (var n, i, o, s, a, u = [], l = [], c = [], f = r.script.lastIndex = r.script_end.lastIndex = 0; null !== (n = r.script.exec(e));) { r.script_end.lastIndex = r.script.lastIndex; var p = r.script_end.exec(e); if (null === p) break; var h = !1; if (null !== (a = n[1].match(r.script_type)) && ("text/html" != a[1] && "text/template" != a[1] && "extension/settings" != a[1] || (h = !0)), h) c.push([f, r.script_end.lastIndex - f]); else { c.push([f, n.index - f]); var d = t || "-1" != n[1].indexOf("bxrunfirst"); if (null !== (o = n[1].match(r.script_src))) u.push({ bRunFirst: d, isInternal: !1, JS: o[1] }); else { var y = n.index + n[0].length, m = e.substr(y, p.index - y); u.push({ bRunFirst: d, isInternal: !0, JS: m }) } } f = p.index + 9, r.script.lastIndex = f } c.push([f, 0 === f ? e.length : e.length - f]); for (var g = "", v = 0, b = c.length; v < b; v++)BX.type.isString(e) && BX.type.isFunction(e.substr) && (g += e.substr(c[v][0], c[v][1])); for (; null !== (i = g.match(r.style));)null !== (s = i[0].match(r.style_href)) && i[0].indexOf('media="') < 0 && l.push(s[1]), g = g.replace(i[0], ""); return { HTML: g, SCRIPT: u, STYLE: l } }, BX.extend = function (e, t) { var n = function () { }; n.prototype = t.prototype, e.prototype = new n, e.prototype.constructor = e, e.superclass = t.prototype, e.prototype.superclass = t.prototype, t.prototype.constructor == Object.prototype.constructor && (t.prototype.constructor = t) }, BX.is_subclass_of = function (e, t) { return e instanceof t || !!t.superclass && BX.is_subclass_of(e, t.superclass) }, BX.clearNodeCache = function () { return !1 }, BX.bitrix_sessid = function () { return BX.message("bitrix_sessid") }, BX.createFragment = function (e) { var t = document.createDocumentFragment(); if (!BX.type.isArray(e)) return t; for (var n = 0; n < e.length; n++)t.appendChild(e[n]); return t }, BX.setOpacity = function (e, t) { var n = parseFloat(t); !isNaN(n) && BX.type.isDomNode(e) && (n = n < 1 ? n : n / 100, BX.style(e, "opacity", n)) }, BX.hoverEvents = function (e) { return e ? BX.adjust(e, { events: BX.hoverEvents() }) : { mouseover: BX.hoverEventsHover, mouseout: BX.hoverEventsHout } }, BX.hoverEventsHover = function () { BX.addClass(this, "bx-hover"), this.BXHOVER = !0 }, BX.hoverEventsHout = function () { BX.removeClass(this, "bx-hover"), this.BXHOVER = !1 }, BX.focusEvents = function (e) { return e ? BX.adjust(e, { events: BX.focusEvents() }) : { mouseover: BX.focusEventsFocus, mouseout: BX.focusEventsBlur } }, BX.focusEventsFocus = function () { BX.addClass(this, "bx-focus"), this.BXFOCUS = !0 }, BX.focusEventsBlur = function () { BX.removeClass(this, "bx-focus"), this.BXFOCUS = !1 }, BX.setUnselectable = function (e) { BX.style(e, { userSelect: "none", MozUserSelect: "none", WebkitUserSelect: "none", KhtmlUserSelect: "none" }), e.setAttribute("unSelectable", "on") }, BX.setSelectable = function (e) { BX.style(e, { userSelect: null, MozUserSelect: null, WebkitUserSelect: null, KhtmlUserSelect: null }), e.removeAttribute("unSelectable") }, BX.styleIEPropertyName = function (e) { if ("float" == e) e = BX.browser.IsIE() ? "styleFloat" : "cssFloat"; else { var t = BX.browser.isPropertySupported(e); if (t) e = t; else { var n = /(\-([a-z]){1})/g; n.test(e) && (e = e.replace(n, (function () { return arguments[2].toUpperCase() }))) } } return e }, BX.focus = function (e) { try { return e.focus(), !0 } catch (e) { return !1 } }, BX.firstChild = function (e) { return BX.type.isDomNode(e) ? e.firstElementChild : null }, BX.lastChild = function (e) { return BX.type.isDomNode(e) ? e.lastElementChild : null }, BX.previousSibling = function (e) { return BX.type.isDomNode(e) ? e.previousElementSibling : null }, BX.nextSibling = function (e) { return BX.type.isDomNode(e) ? e.nextElementSibling : null }, BX.findChildrenByClassName = function (e, t, n) { if (!e || !e.childNodes) return null; var r = []; if (void 0 === e.getElementsByClassName) n = !1 !== n, r = BX.findChildren(e, { className: t }, n); else { var o = e.getElementsByClassName(t); for (i = 0, l = o.length; i < l; i++)r[i] = o[i] } return r }, BX.findChildByClassName = function (e, t, n) { if (!e || !e.childNodes) return null; var r = null; if (void 0 === e.getElementsByClassName) n = !1 !== n, r = BX.findChild(e, { className: t }, n); else { var i = e.getElementsByClassName(t); r = i && void 0 !== i[0] ? i[0] : null } return r }, BX.findChildren = function (e, t, n) { return BX.findChild(e, t, n, !0) }, BX.findChild = function (e, t, n, r) { if (!e || !e.childNodes) return null; n = !!n, r = !!r; for (var i = e.childNodes.length, o = [], s = 0; s < i; s++) { var a = e.childNodes[s]; if (_checkNode(a, t)) { if (!r) return a; o.push(a) } if (1 == n) { var u = BX.findChild(a, t, n, r); if (u) { if (!r) return u; o = BX.util.array_merge(o, u) } } } return r || o.length > 0 ? o : null }, BX.findParent = function (e, t, n) { if (!e) return null; for (var r = e; r.parentNode;) { var i = r.parentNode; if (_checkNode(i, t)) return i; if (r = i, n && (BX.type.isFunction(n) || "object" == typeof n)) if (BX.type.isElementNode(n)) { if (r == n) break } else if (_checkNode(r, n)) break } return null }, BX.findNextSibling = function (e, t) { if (!e) return null; for (var n = e; n.nextSibling;) { var r = n.nextSibling; if (_checkNode(r, t)) return r; n = r } return null }, BX.findPreviousSibling = function (e, t) { if (!e) return null; for (var n = e; n.previousSibling;) { var r = n.previousSibling; if (_checkNode(r, t)) return r; n = r } return null }, BX.checkNode = function (e, t) { return _checkNode(e, t) }, BX.findFormElements = function (e) { BX.type.isString(e) && (e = document.forms[e] || BX(e)); var t = []; return BX.type.isElementNode(e) && (t = "FORM" == e.tagName.toUpperCase() ? e.elements : BX.findChildren(e, CHECK_FORM_ELEMENTS, !0)), t }, BX.isParentForNode = function (e, t) { return !(!BX.type.isDomNode(e) || !BX.type.isDomNode(t)) && e.contains(t) }, BX.getCaretPosition = function (e) { var t = 0; if (e.selectionStart || 0 == e.selectionStart) t = e.selectionStart; else if (document.selection) { e.focus(); var n = document.selection.createRange(); n.moveStart("character", -e.value.length), t = n.text.length } return t }, BX.setCaretPosition = function (e, t) { if (BX.isNodeInDom(e) && !BX.isNodeHidden(e) && !e.disabled) if (e.setSelectionRange) e.focus(), e.setSelectionRange(t, t); else if (e.createTextRange) { var n = e.createTextRange(); n.collapse(!0), n.moveEnd("character", t), n.moveStart("character", t), n.select() } }, BX.merge = function () { var e = Array.prototype.slice.call(arguments); if (e.length < 2) return {}; for (var t = e.shift(), n = 0; n < e.length; n++)for (var r in e[n]) if (void 0 !== e[n] && null != e[n] && e[n].hasOwnProperty(r)) { if (void 0 === e[n][r] || null == e[n][r]) continue; if ("object" != typeof e[n][r] || BX.type.isDomNode(e[n][r]) || void 0 !== e[n][r].isUIWidget) t[r] = e[n][r]; else { var i = "length" in e[n][r]; "object" != typeof t[r] && (t[r] = i ? [] : {}), i ? BX.util.array_merge(t[r], e[n][r]) : BX.merge(t[r], e[n][r]) } } return t }, BX.mergeEx = function () { var e = Array.prototype.slice.call(arguments); if (e.length < 2) return {}; for (var t = e.shift(), n = 0; n < e.length; n++)for (var r in e[n]) void 0 !== e[n] && null != e[n] && e[n].hasOwnProperty(r) && (BX.type.isPlainObject(e[n][r]) && BX.type.isPlainObject(t[r]) ? BX.mergeEx(t[r], e[n][r]) : t[r] = BX.type.isPlainObject(e[n][r]) ? BX.clone(e[n][r]) : e[n][r]); return t }, BX.getEventButton = function (e) { var t = 0; if (void 0 !== (e = e || window.event).which) switch (e.which) { case 1: t |= BX.MSLEFT; break; case 2: t |= BX.MSMIDDLE; break; case 3: t |= BX.MSRIGHT } else void 0 !== e.button && (t = event.button); return t || BX.MSLEFT }; var captured_events = null, _bind = null; function getObjectDelegate(e, t, n, r) { if (!BX.type.isFunction(e) || !BX.type.isMapKey(t)) return e; var i = n.get(t); i || (i = new WeakMap, n.set(t, i)); var o = i.get(e); return o || (o = r ? r(BX.delegate(e, t)) : BX.delegate(e, t), i.set(e, o)), o } function _checkDisplay(e, t) { void 0 !== t && (e.BXDISPLAY = t); var n = e.style.display || BX.style(e, "display"); return "none" != n ? (e.BXDISPLAY = e.BXDISPLAY || n, !0) : (e.BXDISPLAY = e.BXDISPLAY || "block", !1) } function loadAsync(e, t, n) { if (BX.type.isArray(e)) { BX.type.isFunction(t) || (t = null); var r, i, o = {}; for (i = 0; i < e.length; i++)r = getAsset(r = e[i]), o[r.name] = r; var s = !1; if (e.length > 0) for (i = 0; i < e.length; i++)load(r = getAsset(r = e[i]), (function () { a(o) && (s || (t && t(), s = !0)) }), n); else "function" == typeof t && (t(), s = !0) } function a(e) { for (var t in e = e || assets) if (e.hasOwnProperty(t) && e[t].state !== LOADED) return !1; return !0 } } function loadAsyncEmulation(e, t, n) { function r(e) { void 0 === e.state && (e.state = PRELOADING, e.onpreload = [], loadAsset({ url: e.url, type: "cache", ext: e.ext }, (function () { !function (e) { if (e.state = PRELOADED, BX.type.isArray(e.onpreload) && e.onpreload) for (var t = 0; t < e.onpreload.length; t++)e.onpreload[t].call() }(e) }), n)) } if (BX.type.isArray(e)) { BX.type.isFunction(t) || (t = null); for (var i = [].slice.call(e, 1), o = 0; o < i.length; o++)r(getAsset(i[o])); load(getAsset(e[0]), 1 === e.length ? t : function () { loadAsyncEmulation.apply(null, [i, t, n]) }, n) } } function load(e, t, n) { t = t || BX.DoNothing, e.state !== LOADED ? e.state !== PRELOADING ? (e.state = LOADING, loadAsset(e, (function () { e.state = LOADED, t() }), n)) : e.onpreload.push((function () { load(e, t, n) })) : t() } function loadAsset(e, t, n) { function r(e) { o.onload = o.onreadystatechange = o.onerror = null, t() } function i(r) { ("load" === (r = r || window.event).type || /loaded|complete/.test(o.readyState) && (!n.documentMode || n.documentMode < 9)) && (window.clearTimeout(e.errorTimeout), window.clearTimeout(e.cssTimeout), o.onload = o.onreadystatechange = o.onerror = null, t()) } var o; t = t || BX.DoNothing; var s = BX.type.isNotEmptyString(e.ext) ? e.ext : BX.util.getExtension(e.url); "css" === s ? ((o = n.createElement("link")).type = "text/" + (e.type || "css"), o.rel = "stylesheet", o.href = e.url, e.cssRetries = 0, e.cssTimeout = window.setTimeout((function t() { if (e.state !== LOADED && e.cssRetries <= 20) { for (var r = 0, s = n.styleSheets.length; r < s; r++)if (n.styleSheets[r].href === o.href) return void i({ type: "load" }); e.cssRetries++, e.cssTimeout = window.setTimeout(t, 250) } }), 500)) : ((o = n.createElement("script")).type = "text/" + (e.type || "javascript"), o.src = e.url), o.onload = o.onreadystatechange = i, o.onerror = r, o.async = !1, o.defer = !1, e.errorTimeout = window.setTimeout((function () { r() }), 7e3), "css" === s ? cssList.push(normalizeMinUrl(normalizeUrl(e.url))) : jsList.push(normalizeMinUrl(normalizeUrl(e.url))); var a = null, u = n.head || n.getElementsByTagName("head")[0]; "css" === s && null !== (a = getTemplateLink(u)) ? a.parentNode.insertBefore(o, a) : u.insertBefore(o, u.lastChild) } function getAsset(e) { var t = {}; "object" == typeof e ? (t = e).name = t.name ? t.name : BX.util.hashCode(e.url) : t = { name: BX.util.hashCode(e), url: e }, ("css" === (BX.type.isNotEmptyString(t.ext) ? t.ext : BX.util.getExtension(t.url)) && isCssLoaded(t.url) || isScriptLoaded(t.url)) && (t.state = LOADED); var n = assets[t.name]; return n && n.url === t.url ? n : (assets[t.name] = t, t) } function normalizeUrl(e) { return BX.type.isNotEmptyString(e) ? e = (e = BX.getJSPath(e)).replace(/\?[0-9]*$/, "") : "" } function normalizeMinUrl(e) { if (!BX.type.isNotEmptyString(e)) return ""; var t = e.indexOf(".min"); return t >= 0 ? e.substr(0, t) + e.substr(t + 4) : e } function isCssLoaded(e) { initCssList(); var t = normalizeMinUrl(e = normalizeUrl(e)); return e !== t && BX.util.in_array(t, cssList) || BX.util.in_array(e, cssList) } function initCssList() { if (!cssInit) { var e = document.getElementsByTagName("link"); if (e && e.length > 0) for (var t = 0; t < e.length; t++) { var n = e[t].getAttribute("href"); BX.type.isNotEmptyString(n) && (n = normalizeMinUrl(normalizeUrl(n)), cssList.push(n)) } cssInit = !0 } } function getTemplateLink(e) { var t = function (t) { for (var n = e.getElementsByTagName(t), r = 0, i = n.length; r < i; r++) { var o = n[r].getAttribute("data-template-style"); if (BX.type.isNotEmptyString(o) && "true" == o) return n[r] } return null }, n = t("link"); return null === n && (n = t("style")), n } function isScriptLoaded(e) { initJsList(); var t = normalizeMinUrl(e = normalizeUrl(e)); return e !== t && BX.util.in_array(t, jsList) || BX.util.in_array(e, jsList) } function initJsList() { if (!jsInit) { var e = document.getElementsByTagName("script"); if (e && e.length > 0) for (var t = 0; t < e.length; t++) { var n = e[t].getAttribute("src"); BX.type.isNotEmptyString(n) && (n = normalizeMinUrl(normalizeUrl(n)), jsList.push(n)) } jsInit = !0 } } function reloadInternal(e, t) { !0 === e && (t = !0, e = null); var n = BX.PageObject && BX.PageObject.getRootWindow ? BX.PageObject.getRootWindow() : window.top, r = e || n.location.href, i = r.indexOf("#"), o = ""; -1 != i && (o = r.substr(i), r = r.substr(0, i)), t && r.indexOf("clear_cache=Y") < 0 && (r += (-1 == r.indexOf("?") ? "?" : "&") + "clear_cache=Y"), o && (t && ("view/" == o.substr(0, 5) || "#view/" == o.substr(0, 6)) && o.indexOf("clear_cache%3DY") < 0 && (o += (-1 == o.indexOf("%3F") ? "%3F" : "%26") + "clear_cache%3DY"), r = r.replace(/(\?|\&)_r=[\d]*/, ""), r += (-1 == r.indexOf("?") ? "?" : "&") + "_r=" + Math.round(1e4 * Math.random()) + o), n.location.href = r } function _adjustWait() { if (this.bxmsg) { var e = BX.pos(this), t = e.top; t < BX.GetDocElement().scrollTop && (t = BX.GetDocElement().scrollTop + 5), this.bxmsg.style.top = t + 5 + "px", this == BX.GetDocElement() ? this.bxmsg.style.right = "5px" : this.bxmsg.style.left = e.right - this.bxmsg.offsetWidth - 5 + "px" } } function _processTpl(e, t, n) { if (e) { n && e.parentNode.removeChild(e); for (var r = {}, i = BX.findChildren(e, { attribute: "data-role" }, !0), o = 0, s = i.length; o < s; o++)r[i[o].getAttribute("data-role")] = i[o]; t.apply(e, [r]) } } function _checkNode(e, t) { if (t = t || {}, BX.type.isFunction(t)) return t.call(window, e); if (!t.allowTextNodes && !BX.type.isElementNode(e)) return !1; var n, r, i; for (n in t) if (t.hasOwnProperty(n)) switch (n) { case "tag": case "tagName": if (BX.type.isString(t[n])) { if (e.tagName.toUpperCase() != t[n].toUpperCase()) return !1 } else if (t[n] instanceof RegExp && !t[n].test(e.tagName)) return !1; break; case "class": case "className": if (BX.type.isString(t[n])) { if (!BX.hasClass(e, t[n])) return !1 } else if (t[n] instanceof RegExp && (!BX.type.isString(e.className) || !t[n].test(e.className))) return !1; break; case "attr": case "attrs": case "attribute": if (BX.type.isString(t[n])) { if (!e.getAttribute(t[n])) return !1 } else if (BX.type.isArray(t[n])) { for (r = 0, i = t[n].length; r < i; r++)if (t[n] && !e.getAttribute(t[n])) return !1 } else for (r in t[n]) if (t[n].hasOwnProperty(r)) { var o = e.getAttribute(r); if (t[n][r] instanceof RegExp) { if (!BX.type.isString(o) || !t[n][r].test(o)) return !1 } else if (o != "" + t[n][r]) return !1 } break; case "property": case "props": if (BX.type.isString(t[n])) { if (!e[t[n]]) return !1 } else if (BX.type.isArray(t[n])) { for (r = 0, i = t[n].length; r < i; r++)if (t[n] && !e[t[n]]) return !1 } else for (r in t[n]) if (BX.type.isString(t[n][r])) { if (e[r] != t[n][r]) return !1 } else if (t[n][r] instanceof RegExp && (!BX.type.isString(e[r]) || !t[n][r].test(e[r]))) return !1; break; case "callback": return t[n](e) }return !0 } function Trash() { var e, t; for (e = 0, t = garbageCollectors.length; e < t; e++)try { garbageCollectors[e].callback.apply(garbageCollectors[e].context || window), delete garbageCollectors[e], garbageCollectors[e] = null } catch (e) { } } BX.CaptureEvents = function (e, t) { _bind || (_bind = BX.bind, captured_events = [], BX.bind = function (n, r, i) { n === e && r === t && captured_events.push(i), _bind.apply(this, arguments) }) }, BX.CaptureEventsGet = function () { if (_bind) { BX.bind = _bind; var e = captured_events; return _bind = null, captured_events = null, e } return null }, BX.fireEvent = function (e, t) { var n = !1, r = null; if (BX.type.isDomNode(e)) if (n = !0, document.createEventObject) "MouseEvent" != eventTypes[t] && ((r = document.createEventObject()).type = t, n = e.fireEvent("on" + t, r)), e[t] && e[t](); else { switch (r = null, eventTypes[t]) { case "MouseEvent": r = document.createEvent("MouseEvent"); try { r.initMouseEvent(t, !0, !0, top, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, null) } catch (e) { r.initMouseEvent(t, !0, !0, window, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, null) } break; default: (r = document.createEvent("Event")).initEvent(t, !0, !0) }n = e.dispatchEvent(r) } return n }, BX.getWheelData = function (e) { return (e = e || window.event).wheelData = e.detail ? -1 * e.detail : e.wheelDelta / 40, e.wheelData }, BX.proxy_context = null, BX.delegate = function (e, t) { return e && t ? function () { var n = BX.proxy_context; BX.proxy_context = this; var r = e.apply(t, arguments); return BX.proxy_context = n, r } : e }, BX.delegateLater = function (e, t, n) { return function () { if (t[e]) { var r = BX.proxy_context; BX.proxy_context = this; var i = t[e].apply(n || t, arguments); return BX.proxy_context = r, i } return null } }, BX.proxy = function (e, t) { return getObjectDelegate(e, t, proxyList) }, BX.defer = function (e, t) { return t ? BX.defer_proxy(e, t) : function () { var t = arguments; setTimeout((function () { e.apply(this, t) }), 10) } }, BX.defer_proxy = function (e, t) { return getObjectDelegate(e, t, deferList, BX.defer) }, BX.once = function (e, t, n) { var r = function () { BX.unbind(e, t, r), n.apply(this, arguments) }; return r }, BX.bindDelegate = function (e, t, n, r) { var i = BX.delegateEvent(n, r); return BX.bind(e, t, i), i }, BX.delegateEvent = function (e, t) { return function (n) { for (var r = (n = n || window.event).target || n.srcElement; r != this;) { if (_checkNode(r, e)) return t.call(r, n); if (!r || !r.parentNode) break; r = r.parentNode } return null } }, BX.False = function () { return !1 }, BX.DoNothing = function () { }, BX.denyEvent = function (e, t) { deniedEvents.push([e, t, e["on" + t]]), e["on" + t] = BX.DoNothing }, BX.allowEvent = function (e, t) { for (var n = 0, r = deniedEvents.length; n < r; n++)if (deniedEvents[n][0] == e && deniedEvents[n][1] == t) return e["on" + t] = deniedEvents[n][2], void BX.util.deleteFromArray(deniedEvents, n) }, BX.fixEventPageXY = function (e) { return BX.fixEventPageX(e), BX.fixEventPageY(e), e }, BX.fixEventPageX = function (e) { return null == e.pageX && null != e.clientX && (e.pageX = e.clientX + (document.documentElement && document.documentElement.scrollLeft || document.body && document.body.scrollLeft || 0) - (document.documentElement.clientLeft || 0)), e }, BX.fixEventPageY = function (e) { return null == e.pageY && null != e.clientY && (e.pageY = e.clientY + (document.documentElement && document.documentElement.scrollTop || document.body && document.body.scrollTop || 0) - (document.documentElement.clientTop || 0)), e }, BX.PreventDefault = function (e) { return e || (e = window.event), e.stopPropagation ? (e.preventDefault(), e.stopPropagation()) : (e.cancelBubble = !0, e.returnValue = !1), !1 }, BX.eventReturnFalse = function (e) { return (e = e || window.event) && e.preventDefault ? e.preventDefault() : e.returnValue = !1, !1 }, BX.eventCancelBubble = function (e) { (e = e || window.event) && e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0 }, BX.bindDebouncedChange = function (e, t, n, r, i) { i = i || window, r = r || 300; var o = "bx-dc-previous-value"; BX.data(e, o, e.value); var s = function (t, n) { var r = BX.data(e, o); void 0 !== r && r == n || ("object" != typeof i ? t(n) : t.apply(i, [n])) }, a = BX.debounce((function () { var n = e.value; s(t, n), BX.data(e, o, n) }), r); if (BX.bind(e, "keyup", a), BX.bind(e, "change", a), BX.bind(e, "input", a), BX.type.isFunction(n)) { var u = function () { s(n, e.value) }; BX.bind(e, "keyup", u), BX.bind(e, "change", u), BX.bind(e, "input", u) } }, BX.parseJSON = function (data, context) { var result = null; if (BX.type.isNotEmptyString(data)) try { data.indexOf("\n") >= 0 ? eval("result = " + data) : result = new Function("return " + data)() } catch (e) { BX.onCustomEvent(context, "onParseJSONFailure", [data, context]) } else if (BX.type.isPlainObject(data)) return data; return result }, BX.submit = function (e, t, n, r) { e["BXFormSubmit_" + (t = t || "save")] || (e["BXFormSubmit_" + t] = e.appendChild(BX.create("INPUT", { props: { type: "submit", name: t, value: n || "Y" }, style: { display: "none" } }))), e.sessid && (e.sessid.value = BX.bitrix_sessid()), setTimeout(BX.delegate((function () { BX.fireEvent(this, "click"), r && r() }), e["BXFormSubmit_" + t]), 10) }, BX.show = function (e, t) { !e.BXDISPLAY && _checkDisplay(e, t) || (e.style.display = e.BXDISPLAY) }, BX.hide = function (e, t) { e.BXDISPLAY || _checkDisplay(e, t), e.style.display = "none" }, BX.toggle = function (e, t) { if (!t && BX.type.isElementNode(e)) { (e.BXDISPLAY ? !_checkDisplay(e) : "none" == e.style.display) ? BX.show(e) : BX.hide(e) } else if (BX.type.isArray(t)) { for (var n = 0, r = t.length; n < r; n++)if (e == t[n]) { e = t[n == r - 1 ? 0 : n + 1]; break } n == r && (e = t[0]) } return e }, BX.util = { array_values: function (e) { if (!BX.type.isArray(e)) return BX.util._array_values_ob(e); for (var t = [], n = 0, r = e.length; n < r; n++)null !== e[n] && void 0 !== e[n] && t.push(e[n]); return t }, _array_values_ob: function (e) { var t = []; for (var n in e) null !== e[n] && void 0 !== e[n] && t.push(e[n]); return t }, array_keys: function (e) { if (!BX.type.isArray(e)) return BX.util._array_keys_ob(e); for (var t = [], n = 0, r = e.length; n < r; n++)null !== e[n] && void 0 !== e[n] && t.push(n); return t }, _array_keys_ob: function (e) { var t = []; for (var n in e) null !== e[n] && void 0 !== e[n] && t.push(n); return t }, object_keys: function (e) { var t = []; for (var n in e) e.hasOwnProperty(n) && t.push(n); return t }, array_merge: function (e, t) { BX.type.isArray(e) || (e = []), BX.type.isArray(t) || (t = []); var n = e.length, r = 0; if ("number" == typeof t.length) for (var i = t.length; r < i; r++)e[n++] = t[r]; else for (; void 0 !== t[r];)e[n++] = t[r++]; return e.length = n, e }, array_flip: function (e) { var t = {}; for (var n in e) t[e[n]] = n; return t }, array_diff: function (e, t, n) { n = BX.type.isFunction(n) ? n : null; var r, i, o, s = {}, a = []; for (r = 0, i = t.length; r < i; r++)o = t[r], s[n ? n(o) : o] = !0; for (r = 0, i = e.length; r < i; r++)o = e[r], void 0 === s[n ? n(o) : o] && a.push(o); return a }, array_unique: function (e) { var t, n = 0, r = e.length; if (r < 2) return e; for (; n < r - 1; n++)for (t = n + 1; t < r; t++)e[n] == e[t] && (e.splice(t--, 1), r--); return e }, in_array: function (e, t) { for (var n = 0; n < t.length; n++)if (t[n] == e) return !0; return !1 }, array_search: function (e, t) { for (var n = 0; n < t.length; n++)if (t[n] == e) return n; return -1 }, object_search_key: function (e, t) { if (void 0 !== t[e]) return t[e]; for (var n in t) if ("object" == typeof t[n]) { var r = BX.util.object_search_key(e, t[n]); if (!1 !== r) return r } return !1 }, trim: function (e) { return BX.type.isString(e) ? e.trim() : e }, urlencode: function (e) { return encodeURIComponent(e) }, deleteFromArray: function (e, t) { return e.slice(0, t).concat(e.slice(t + 1)) }, insertIntoArray: function (e, t, n) { return e.slice(0, t).concat([n]).concat(e.slice(t)) }, htmlspecialchars: function (e) { return BX.Text.encode(e) }, htmlspecialcharsback: function (e) { return BX.Text.decode(e) }, preg_quote: function (e, t) { return e.replace ? e.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\" + (t || "") + "-]", "g"), "\\$&") : e }, jsencode: function (e) { if (!e || !e.replace) return e; for (var t = [{ c: "\\\\", r: "\\\\" }, { c: "\\t", r: "\\t" }, { c: "\\n", r: "\\n" }, { c: "\\r", r: "\\r" }, { c: '"', r: '\\"' }, { c: "'", r: "\\'" }, { c: "<", r: "\\x3C" }, { c: ">", r: "\\x3E" }, { c: "\\u2028", r: "\\u2028" }, { c: "\\u2029", r: "\\u2029" }], n = 0; n < t.length; n++)e = e.replace(new RegExp(t[n].c, "g"), t[n].r); return e }, getCssName: function (e) { return BX.type.isNotEmptyString(e) ? e.replace(/[A-Z]/g, (function (e) { return "-" + e.toLowerCase() })) : "" }, getJsName: function (e) { var t = /\-([a-z]){1}/g; return t.test(e) ? e.replace(t, (function (e, t) { return t.toUpperCase() })) : e }, nl2br: function (e) { return e && e.replace ? e.replace(/([^>])\n/g, "$1<br/>") : e }, str_pad: function (e, t, n, r) { return n = n || " ", r = r || "right", e = e.toString(), "left" === r ? BX.util.str_pad_left(e, t, n) : BX.util.str_pad_right(e, t, n) }, str_pad_left: function (e, t, n) { return e.toString().padStart(t, n) }, str_pad_right: function (e, t, n) { return e.toString().padEnd(t, n) }, strip_tags: function (e) { return e.split(/<[^>]+>/g).join("") }, strip_php_tags: function (e) { return e.replace(/<\?(.|[\r\n])*?\?>/g, "") }, popup: function (e, t, n) { var r, i; return BX.browser.IsOpera() ? (r = document.body.offsetWidth, i = document.body.offsetHeight) : (r = screen.width, i = screen.height), window.open(e, "", "status=no,scrollbars=yes,resizable=yes,width=" + t + ",height=" + n + ",top=" + Math.floor((i - n) / 2 - 14) + ",left=" + Math.floor((r - t) / 2 - 5)) }, shuffle: function (e) { for (var t, n, r = e.length; 0 !== r;)n = Math.floor(Math.random() * r), t = e[r -= 1], e[r] = e[n], e[n] = t; return e }, objectSort: function (e, t, n) { n = "asc" == n ? "asc" : "desc"; var r, i = []; for (r in e) e.hasOwnProperty(r) && e[r][t] && i.push([r, e[r][t]]); "asc" == n ? i.sort((function (e, t) { var n, r; return (n = BX.type.isDate(e[1]) ? e[1].getTime() : isNaN(e[1]) ? e[1].toString().toLowerCase() : parseInt(e[1])) > (r = BX.type.isDate(t[1]) ? t[1].getTime() : isNaN(t[1]) ? t[1].toString().toLowerCase() : parseInt(t[1])) ? 1 : n < r ? -1 : 0 })) : i.sort((function (e, t) { var n, r; return (n = BX.type.isDate(e[1]) ? e[1].getTime() : isNaN(e[1]) ? e[1].toString().toLowerCase() : parseInt(e[1])) < (r = BX.type.isDate(t[1]) ? t[1].getTime() : isNaN(t[1]) ? t[1].toString().toLowerCase() : parseInt(t[1])) ? 1 : n > r ? -1 : 0 })); var o = Array(); for (r = 0; r < i.length; r++)o.push(e[i[r][0]]); return o }, objectMerge: function () { return BX.mergeEx.apply(window, arguments) }, objectClone: function (e) { return BX.clone(e, !0) }, hex2rgb: function (e) { for (var t = e.replace(/[# ]/g, "").replace(/^(.)(.)(.)$/, "$1$1$2$2$3$3").match(/.{2}/g), n = 0; n < 3; n++)t[n] = parseInt(t[n], 16); return { r: t[0], g: t[1], b: t[2] } }, remove_url_param: function (e, t) { return BX.Uri.removeParam(e, t) }, add_url_param: function (e, t) { var n = Object.entries(t).reduce((function (e, t) { return e[t[0]] = BX.type.isArray(t[1]) ? t[1].join() : t[1], e }), {}); return BX.Uri.addParam(e, n) }, buildQueryString: function (e) { var t = ""; for (var n in e) { var r = e[n]; BX.type.isArray(r) ? r.forEach((function (e, r) { t += encodeURIComponent(n + "[" + r + "]") + "=" + encodeURIComponent(e) + "&" })) : t += encodeURIComponent(n) + "=" + encodeURIComponent(r) + "&" } return t.length > 0 && (t = t.substr(0, t.length - 1)), t }, even: function (e) { return parseInt(e) % 2 == 0 }, hashCode: function (e) { if (!BX.type.isNotEmptyString(e)) return 0; for (var t = 0, n = 0; n < e.length; n++) { t = (t << 5) - t + e.charCodeAt(n), t &= t } return t }, getRandomString: function (e) { return BX.Text.getRandom(e) }, number_format: function (e, t, n, r) { var i, o, s = ""; return t = Math.abs(t), (isNaN(t) || t < 0) && (t = 2), n = n || ",", void 0 === r && (r = "."), (e = (+e || 0).toFixed(t)) < 0 && (s = "-", e = -e), s + ((o = (i = parseInt(e, 10) + "").length > 3 ? i.length % 3 : 0) ? i.substr(0, o) + r : "") + i.substr(o).replace(/(\d{3})(?=\d)/g, "$1" + r) + (t ? n + Math.abs(e - i).toFixed(t).replace(/-/, "0").slice(2) : "") }, getExtension: function (e) { var t = (e = e || "").split("?")[0].split("."); return t[t.length - 1].toLowerCase() }, addObjectToForm: function (e, t, n) { for (var r in BX.type.isString(n) || (n = ""), e) if (e.hasOwnProperty(r)) { var i = e[r], o = "" !== n ? n + "[" + r + "]" : r; if (BX.type.isArray(i)) { for (var s = {}, a = 0; a < i.length; a++)s[a] = i[a]; BX.util.addObjectToForm(s, t, o) } else BX.type.isPlainObject(i) ? BX.util.addObjectToForm(i, t, o) : "" !== (i = BX.type.isFunction(i.toString) ? i.toString() : "") && t.appendChild(BX.create("INPUT", { attrs: { type: "hidden", name: o, value: i } })) } }, observe: function (e, t) { return console.error("BX.util.observe: function is no longer supported by browser."), !1 }, escapeRegExp: function (e) { return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&") } }, BX.validation = { checkIfEmail: function (e) { var t = "[=a-z0-9_+~'!$&*^`|#%/?{}-]"; return new RegExp("^\\s*" + t + "+(\\." + t + "+)*@([a-z0-9-]+\\.)+[a-z0-9-]{2,20}\\s*$", "i").test(e) }, checkIfPhone: function (e) { return new RegExp(void 0 === BX.PhoneNumber ? BX.PhoneNumber.getValidNumberPattern() : "^\\s*\\+?s*[0-9(-)\\s]+\\s*$", "i").test(e) } }, BX.prop = { get: function (e, t, n) { return e && e.hasOwnProperty(t) ? e[t] : n }, getObject: function (e, t, n) { return e && BX.type.isPlainObject(e[t]) ? e[t] : n }, getElementNode: function (e, t, n) { return e && BX.type.isElementNode(e[t]) ? e[t] : n }, getArray: function (e, t, n) { return e && BX.type.isArray(e[t]) ? e[t] : n }, getFunction: function (e, t, n) { return e && BX.type.isFunction(e[t]) ? e[t] : n }, getNumber: function (e, t, n) { if (!e || !e.hasOwnProperty(t)) return n; var r = e[t]; return BX.type.isNumber(r) ? r : (r = parseFloat(r), isNaN(r) ? n : r) }, getInteger: function (e, t, n) { if (!e || !e.hasOwnProperty(t)) return n; var r = e[t]; return BX.type.isNumber(r) ? r : (r = parseInt(r), isNaN(r) ? n : r) }, getBoolean: function (e, t, n) { if (!e || !e.hasOwnProperty(t)) return n; var r = e[t]; return BX.type.isBoolean(r) ? r : BX.type.isString(r) ? "true" === r.toLowerCase() : !!r }, getString: function (e, t, n) { if (!e || !e.hasOwnProperty(t)) return n; var r = e[t]; return BX.type.isString(r) ? r : r ? r.toString() : "" }, extractDate: function (e) { return BX.type.isDate(e) || (e = new Date), e.setHours(0), e.setMinutes(0), e.setSeconds(0), e.setMilliseconds(0), e } }, BX.isNodeInDom = function (e, t) { return e === (t || document) || !!e.parentNode && BX.isNodeInDom(e.parentNode) }, BX.isNodeHidden = function (e) { return e !== document && ("none" == BX.style(e, "display") || (!e.parentNode || BX.isNodeHidden(e.parentNode))) }, BX.evalPack = function (e) { for (; e.length > 0;) { var t = e.shift(); if ("SCRIPT_EXT" == t.TYPE || "SCRIPT_SRC" == t.TYPE) return void BX.loadScript(t.DATA, (function () { BX.evalPack(e) })); "SCRIPT" == t.TYPE && BX.evalGlobal(t.DATA) } }, BX.evalGlobal = function (e) { if (e) { var t = document.getElementsByTagName("head")[0] || document.documentElement, n = document.createElement("script"); n.type = "text/javascript", BX.browser.IsIE() ? n.text = e : n.appendChild(document.createTextNode(e)), t.insertBefore(n, t.firstChild), t.removeChild(n) } }, BX.garbage = function (e, t) { garbageCollectors.push({ callback: e, context: t }) }, BX.GetDocElement = function (e) { return e = e || document, BX.browser.IsDoctype(e) ? e.documentElement : e.body }, BX.scrollTop = function (e, t) { if (void 0 === t) return e == window ? BX.GetWindowScrollPos().scrollTop : e.scrollTop; if (e == window) throw new Error("scrollTop() for window is not implemented"); e.scrollTop = parseInt(t) }, BX.scrollLeft = function (e, t) { if (void 0 === t) return e == window ? BX.GetWindowScrollPos().scrollLeft : e.scrollLeft; if (e == window) throw new Error("scrollLeft() for window is not implemented"); e.scrollLeft = parseInt(t) }, BX.hide_object = function (e) { (e = BX(e)).style.position = "absolute", e.style.top = "-1000px", e.style.left = "-1000px", e.style.height = "10px", e.style.width = "10px" }, BX.is_relative = function (e) { var t = BX.style(e, "position"); return "relative" == t || "absolute" == t }, BX.is_float = function (e) { var t = BX.style(e, "float"); return "right" == t || "left" == t }, BX.is_fixed = function (e) { return "fixed" == BX.style(e, "position") }, BX.width = function (e, t) { if (void 0 === t) return e == window ? window.innerWidth : BX.pos(e).width; BX.style(e, "width", parseInt(t) + "px") }, BX.height = function (e, t) { if (void 0 === t) return e == window ? window.innerHeight : BX.pos(e).height; BX.style(e, "height", parseInt(t) + "px") }, BX.align = function (e, t, n, r) { r = r ? r.toLowerCase() : ""; var i = document; BX.type.isElementNode(e) && (i = e.ownerDocument, e = BX.pos(e)); var o = e.left, s = e.bottom, a = BX.GetWindowScrollPos(i), u = BX.GetWindowInnerSize(i); return u.innerWidth + a.scrollLeft - (e.left + t) < 0 && (o = e.right - t >= 0 ? e.right - t : a.scrollLeft), (u.innerHeight + a.scrollTop - (e.bottom + n) < 0 || ~r.indexOf("top")) && (s = e.top - n >= 0 || ~r.indexOf("top") ? e.top - n : a.scrollTop), { left: o, top: s } }, BX.scrollToNode = function (e) { var t = BX(e); if (t.scrollIntoView) t.scrollIntoView(!0); else { var n = BX.pos(t); window.scrollTo(n.left, n.top) } }, BX.showWait = function (e, t) { e = BX(e) || document.body || document.documentElement, t = t || BX.message("JS_CORE_LOADING"); var n = e.id || Math.random(), r = e.bxmsg = document.body.appendChild(BX.create("DIV", { props: { id: "wait_" + n }, style: { background: 'url("/bitrix/js/main/core/images/wait.gif") no-repeat scroll 10px center #fcf7d1', border: "1px solid #E1B52D", color: "black", fontFamily: "Verdana,Arial,sans-serif", fontSize: "11px", padding: "10px 30px 10px 37px", position: "absolute", textAlign: "center" }, text: t })); return BX.ZIndexManager.register(r), BX.ZIndexManager.bringToFront(r), setTimeout(BX.delegate(_adjustWait, e), 10), lastWait[lastWait.length] = r, r }, BX.closeWait = function (e, t) { if (e && !t && (t = e.bxmsg), e && !t && BX.hasClass(e, "bx-core-waitwindow") && (t = e), e && !t && (t = BX("wait_" + e.id)), t || (t = lastWait.pop()), t && t.parentNode) { for (var n = 0, r = lastWait.length; n < r; n++)if (t == lastWait[n]) { lastWait = BX.util.deleteFromArray(lastWait, n); break } BX.ZIndexManager.unregister(t), t.parentNode.removeChild(t), e && (e.bxmsg = null), BX.cleanNode(t, !0) } }, BX.setJSList = function (e) { BX.type.isArray(e) && (e = e.map((function (e) { return normalizeUrl(e) })), jsList = jsList.concat(e)) }, BX.getJSList = function () { return initJsList(), jsList }, BX.setCSSList = function (e) { BX.type.isArray(e) && (e = e.map((function (e) { return normalizeUrl(e) })), cssList = cssList.concat(e)) }, BX.getCSSList = function () { return initCssList(), cssList }, BX.getJSPath = function (e) { return e.replace(/^(http[s]*:)*\/\/[^\/]+/i, "") }, BX.getCSSPath = function (e) { return e.replace(/^(http[s]*:)*\/\/[^\/]+/i, "") }, BX.getCDNPath = function (e) { return e }, BX.loadScript = function (e, t, n) { return BX.type.isString(e) && (e = [e]), BX.load(e, t, n) }, BX.loadCSS = function (e, t, n) { BX.type.isString(e) && (e = [e]), BX.type.isArray(e) && (e = e.map((function (e) { return { url: e, ext: "css" } })), BX.load(e, null, t)) }, BX.load = function (e, t, n) { if (!BX.isReady) { var r = arguments; return BX.ready((function () { BX.load.apply(this, r) })), null } return n = n || document, null === isAsync && (isAsync = "async" in n.createElement("script") || "MozAppearance" in n.documentElement.style || window.opera), isAsync ? loadAsync(e, t, n) : loadAsyncEmulation(e, t, n) }, BX.convert = { toNumber: function (e) { return BX.type.isNumber(e) ? e : (e = Number(e), isNaN(e) ? 0 : e) }, nodeListToArray: function (e) { try { return Array.prototype.slice.call(e, 0) } catch (i) { for (var t = [], n = 0, r = e.length; n < r; n++)t.push(e[n]); return t } } }, BX.reload = function (e, t) { window !== window.top ? BX.Runtime.loadExtension("main.pageobject").then((function () { reloadInternal(e, t) })) : reloadInternal(e, t) }, BX.clearCache = function () { BX.showWait(), BX.reload(!0) }, BX.template = function (e, t, n) { BX.ready((function () { _processTpl(BX(e), t, n) })) }, BX.isAmPmMode = function (e) { return !0 === e ? BX.message.AMPM_MODE : !1 !== BX.message.AMPM_MODE }, BX.formatDate = function (e, t) { var n = (e = e || new Date).getHours() || e.getMinutes() || e.getSeconds(); return (t || (n ? BX.message("FORMAT_DATETIME") : BX.message("FORMAT_DATE"))).replace(/YYYY/gi, e.getFullYear()).replace(/MMMM/gi, BX.util.str_pad_left((e.getMonth() + 1).toString(), 2, "0")).replace(/MM/gi, BX.util.str_pad_left((e.getMonth() + 1).toString(), 2, "0")).replace(/DD/gi, BX.util.str_pad_left(e.getDate().toString(), 2, "0")).replace(/HH/gi, BX.util.str_pad_left(e.getHours().toString(), 2, "0")).replace(/MI/gi, BX.util.str_pad_left(e.getMinutes().toString(), 2, "0")).replace(/SS/gi, BX.util.str_pad_left(e.getSeconds().toString(), 2, "0")) }, BX.formatName = function (e, t, n) { t = t || ""; var r = { TITLE: (e = e || {}).TITLE || "", NAME: e.NAME || "", LAST_NAME: e.LAST_NAME || "", SECOND_NAME: e.SECOND_NAME || "", LOGIN: e.LOGIN || "", NAME_SHORT: e.NAME ? e.NAME.substr(0, 1) + "." : "", LAST_NAME_SHORT: e.LAST_NAME ? e.LAST_NAME.substr(0, 1) + "." : "", SECOND_NAME_SHORT: e.SECOND_NAME ? e.SECOND_NAME.substr(0, 1) + "." : "", EMAIL: e.EMAIL || "", ID: e.ID || "", NOBR: "", "/NOBR": "" }, i = t; for (var o in r) r.hasOwnProperty(o) && (i = i.replace("#" + o + "#", r[o])); return "" == (i = i.replace(/([\s]+)/gi, " ").trim()) && (i = "" == (i = "Y" == n ? r.LOGIN : "") ? "Noname" : i), i }, BX.getNumMonth = function (e) { var t = ["jan", "feb", "mar", "apr", "may", "jun", "jul", "aug", "sep", "oct", "nov", "dec"], n = ["january", "february", "march", "april", "may", "june", "july", "august", "september", "october", "november", "december"], r = e.toUpperCase(); for (i = 1; i <= 12; i++)if (r == BX.message("MON_" + i).toUpperCase() || r == BX.message("MONTH_" + i).toUpperCase() || r == t[i - 1].toUpperCase() || r == n[i - 1].toUpperCase()) return i; return e }, BX.parseDate = function (e, t, n, r) { if (BX.type.isNotEmptyString(e)) { n || (n = BX.message("FORMAT_DATE")), r || (r = BX.message("FORMAT_DATETIME")); var i = ""; for (o = 1; o <= 12; o++)i = i + "|" + BX.message("MON_" + o); var o, s, a = new RegExp("([0-9]+|[a-z]+" + i + ")", "ig"), u = e.match(a), l = n.match(/(DD|MI|MMMM|MM|M|YYYY)/gi), c = [], f = [], p = {}; if (!u) return null; for (u.length > l.length && (l = r.match(/(DD|MI|MMMM|MM|M|YYYY|HH|H|SS|TT|T|GG|G)/gi)), o = 0, s = u.length; o < s; o++)"" != BX.util.trim(u[o]) && (c[c.length] = u[o]); for (o = 0, s = l.length; o < s; o++)"" != BX.util.trim(l[o]) && (f[f.length] = l[o]); var h = BX.util.array_search("MMMM", f); for ((h > 0 || (h = BX.util.array_search("M", f)) > 0) && (c[h] = BX.getNumMonth(c[h]), f[h] = "MM"), o = 0, s = f.length; o < s; o++) { var d = f[o].toUpperCase(); p[d] = "T" == d || "TT" == d ? c[o] : parseInt(c[o], 10) } if (p.DD > 0 && p.MM > 0 && p.YYYY > 0) { var y = new Date; if (t ? (y.setUTCDate(1), y.setUTCFullYear(p.YYYY), y.setUTCMonth(p.MM - 1), y.setUTCDate(p.DD), y.setUTCHours(0, 0, 0, 0)) : (y.setDate(1), y.setFullYear(p.YYYY), y.setMonth(p.MM - 1), y.setDate(p.DD), y.setHours(0, 0, 0, 0)), !(isNaN(p.HH) && isNaN(p.GG) && isNaN(p.H) && isNaN(p.G) || isNaN(p.MI))) { if (isNaN(p.H) && isNaN(p.G)) p.HH = parseInt(p.HH || p.GG || 0, 10); else { var m = "PM" == (p.T || p.TT || "am").toUpperCase(), g = parseInt(p.H || p.G || 0, 10); p.HH = m ? g + (12 == g ? 0 : 12) : g < 12 ? g : 0 } isNaN(p.SS) && (p.SS = 0), t ? y.setUTCHours(p.HH, p.MI, p.SS) : y.setHours(p.HH, p.MI, p.SS) } return y } } return null }, BX.selectUtils = { addNewOption: function (e, t, n, r, i) { if (e = BX(e)) { var o = e.length; if (!1 !== i) for (var s = 0; s < o; s++)if (e[s].value == t) return; e.options[o] = new Option(n, t, !1, !1) } !0 === r && this.sortSelect(e) }, deleteOption: function (e, t) { if (e = BX(e)) for (var n = 0; n < e.length; n++)if (e[n].value == t) { e.remove(n); break } }, deleteSelectedOptions: function (e) { if (e = BX(e)) for (var t = 0; t < e.length;)e[t].selected ? (e[t].selected = !1, e.remove(t)) : t++ }, deleteAllOptions: function (e) { if (e = BX(e)) for (var t = e.length - 1; t >= 0; t--)e.remove(t) }, optionCompare: function (e, t) { var n = e.optText.toLowerCase(), r = t.optText.toLowerCase(); return n > r ? 1 : n < r ? -1 : 0 }, sortSelect: function (e) { if (e = BX(e)) { var t, n = [], r = e.options.length; for (t = 0; t < r; t++)n[t] = { optText: e[t].text, optValue: e[t].value }; for (n.sort(this.optionCompare), e.length = 0, r = n.length, t = 0; t < r; t++)e[t] = new Option(n[t].optText, n[t].optValue, !1, !1) } }, selectAllOptions: function (e) { if (e = BX(e)) for (var t = e.length, n = 0; n < t; n++)e[n].selected = !0 }, selectOption: function (e, t) { if (e = BX(e)) for (var n = e.length, r = 0; r < n; r++)e[r].selected = e[r].value == t }, addSelectedOptions: function (e, t, n, r) { if (e = BX(e)) for (var i = e.length, o = 0; o < i; o++)e[o].selected && this.addNewOption(t, e[o].value, e[o].text, r, n) }, moveOptionsUp: function (e) { if (e = BX(e)) for (var t = e.length, n = 0; n < t; n++)if (e[n].selected && n > 0 && 0 == e[n - 1].selected) { var r = new Option(e[n].text, e[n].value); e[n] = new Option(e[n - 1].text, e[n - 1].value), e[n].selected = !1, e[n - 1] = r, e[n - 1].selected = !0 } }, moveOptionsDown: function (e) { if (e = BX(e)) for (var t = e.length, n = t - 1; n >= 0; n--)if (e[n].selected && n < t - 1 && 0 == e[n + 1].selected) { var r = new Option(e[n].text, e[n].value); e[n] = new Option(e[n + 1].text, e[n + 1].value), e[n].selected = !1, e[n + 1] = r, e[n + 1].selected = !0 } } }, BX.getEventTarget = function (e) { return e.target ? e.target : e.srcElement ? e.srcElement : null }, BX.hint = function (e, t, n, r) { null == n && (n = t, t = ""), null == e.BXHINT && (e.BXHINT = new BX.CHint({ parent: e, hint: n, title: t, id: r }), e.BXHINT.Show()) }, BX.hint_replace = function (e, t, n) { if (null == n && (n = t, t = ""), !e || !e.parentNode || !n) return null; var r = new BX.CHint({ hint: n, title: t }); return r.CreateParent(), e.parentNode.insertBefore(r.PARENT, e), e.parentNode.removeChild(e), r.PARENT.style.marginLeft = "5px", e }, BX.CHint = function (e) { for (var t in !1 === BX.CHint.cssLoaded && (BX.load(["/bitrix/js/main/core/css/core_hint.css"]), BX.CHint.cssLoaded = !0), this.PARENT = BX(e.parent), this.HINT = e.hint, this.HINT_TITLE = e.title, this.PARAMS = {}, this.defaultSettings) null == e[t] ? this.PARAMS[t] = this.defaultSettings[t] : this.PARAMS[t] = e[t]; null != e.id && (this.ID = e.id), this.timer = null, this.bInited = !1, this.msover = !0, this.PARAMS.showOnce ? (this.__show(), this.msover = !1, this.timer = setTimeout(BX.proxy(this.__hide, this), this.PARAMS.hide_timeout)) : this.PARENT && (BX.bind(this.PARENT, "mouseover", BX.proxy(this.Show, this)), BX.bind(this.PARENT, "mouseout", BX.proxy(this.Hide, this))) }, BX.CHint.cssLoaded = !1, BX.CHint.openHints = new Set, BX.CHint.globalDisabled = !1, BX.CHint.handleMenuOpen = function () { BX.CHint.globalDisabled = !0, BX.CHint.openHints.forEach((function (e) { e.__hide_immediately() })) }, BX.CHint.handleMenuClose = function () { BX.CHint.globalDisabled = !1 }, BX.addCustomEvent("onMenuOpen", BX.CHint.handleMenuOpen), BX.addCustomEvent("onMenuClose", BX.CHint.handleMenuClose), BX.CHint.prototype.defaultSettings = { show_timeout: 1e3, hide_timeout: 500, dx: 2, showOnce: !1, preventHide: !0, min_width: 250 }, BX.CHint.prototype.CreateParent = function (e, t) { this.PARENT && (BX.unbind(this.PARENT, "mouseover", BX.proxy(this.Show, this)), BX.unbind(this.PARENT, "mouseout", BX.proxy(this.Hide, this))), t || (t = {}); var n = "icon"; return !t.type || "link" != t.type && "icon" != t.type || (n = t.type), e && (n = "element"), "icon" == n ? e = BX.create("IMG", { props: { src: t.iconSrc ? t.iconSrc : "/bitrix/js/main/core/images/hint.gif" } }) : "link" == n && (e = BX.create("A", { props: { href: "javascript:void(0)" }, html: "[?]" })), this.PARENT = e, BX.bind(this.PARENT, "mouseover", BX.proxy(this.Show, this)), BX.bind(this.PARENT, "mouseout", BX.proxy(this.Hide, this)), this.PARENT }, BX.CHint.prototype.Show = function () { this.msover = !0, null != this.timer && clearTimeout(this.timer), this.timer = setTimeout(BX.proxy(this.__show, this), this.PARAMS.show_timeout) }, BX.CHint.prototype.Hide = function () { this.msover = !1, null != this.timer && clearTimeout(this.timer), this.timer = setTimeout(BX.proxy(this.__hide, this), this.PARAMS.hide_timeout) }, BX.CHint.prototype.__show = function () { !this.msover || this.disabled || BX.CHint.globalDisabled || (this.bInited || this.Init(), this.prepareAdjustPos() && (this.DIV.style.display = "block", BX.ZIndexManager.bringToFront(this.DIV), this.adjustPos(), BX.CHint.openHints.add(this), BX.bind(window, "scroll", BX.proxy(this.__onscroll, this)), this.PARAMS.showOnce && (this.timer = setTimeout(BX.proxy(this.__hide, this), this.PARAMS.hide_timeout)))) }, BX.CHint.prototype.__onscroll = function () { BX.admin && BX.admin.panel && BX.admin.panel.isFixed() && (this.scrollTimer && clearTimeout(this.scrollTimer), this.DIV.style.display = "none", this.scrollTimer = setTimeout(BX.proxy(this.Reopen, this), this.PARAMS.show_timeout)) }, BX.CHint.prototype.Reopen = function () { null != this.timer && clearTimeout(this.timer), this.timer = setTimeout(BX.proxy(this.__show, this), 50) }, BX.CHint.prototype.__hide = function () { this.msover || this.bInited && (BX.unbind(window, "scroll", BX.proxy(this.Reopen, this)), BX.CHint.openHints.delete(this), this.PARAMS.showOnce ? this.Destroy() : this.DIV.style.display = "none") }, BX.CHint.prototype.__hide_immediately = function () { this.msover = !1, this.__hide() }, BX.CHint.prototype.Init = function () { this.DIV = document.body.appendChild(BX.create("DIV", { props: { className: "bx-panel-tooltip" }, style: { display: "none", position: "absolute", visibility: "hidden" }, children: [this.CONTENT = BX.create("DIV", { props: { className: "bx-panel-tooltip-content" }, children: [BX.create("DIV", { props: { className: "bx-panel-tooltip-underlay" }, children: [BX.create("DIV", { props: { className: "bx-panel-tooltip-underlay-bg" } })] })] })] })), BX.ZIndexManager.register(this.DIV), this.ID && this.CONTENT.insertBefore(BX.create("A", { attrs: { href: "javascript:void(0)" }, props: { className: "bx-panel-tooltip-close" }, events: { click: BX.delegate(this.Close, this) } }), this.CONTENT.firstChild), this.HINT_TITLE && this.CONTENT.appendChild(BX.create("DIV", { props: { className: "bx-panel-tooltip-title" }, text: this.HINT_TITLE })), this.HINT && (this.CONTENT_TEXT = this.CONTENT.appendChild(BX.create("DIV", { props: { className: "bx-panel-tooltip-text" } })).appendChild(BX.create("SPAN", { html: this.HINT }))), this.PARAMS.preventHide && (BX.bind(this.DIV, "mouseout", BX.proxy(this.Hide, this)), BX.bind(this.DIV, "mouseover", BX.proxy(this.Show, this))), this.bInited = !0 }, BX.CHint.prototype.setContent = function (e) { this.HINT = e, this.CONTENT_TEXT ? this.CONTENT_TEXT.innerHTML = this.HINT : this.CONTENT_TEXT = this.CONTENT.appendChild(BX.create("DIV", { props: { className: "bx-panel-tooltip-text" } })).appendChild(BX.create("SPAN", { html: this.HINT })) }, BX.CHint.prototype.prepareAdjustPos = function () { return this._wnd = { scrollPos: BX.GetWindowScrollPos(), scrollSize: BX.GetWindowScrollSize() }, "none" != BX.style(this.PARENT, "display") }, BX.CHint.prototype.getAdjustPos = function () { var e = {}, t = BX.pos(this.PARENT), n = 0; if (e.top = t.bottom + this.PARAMS.dx, BX.admin && BX.admin.panel.DIV && (n = BX.admin.panel.DIV.offsetHeight + this.PARAMS.dx, BX.admin.panel.isFixed() && (n += this._wnd.scrollPos.scrollTop)), e.top < n ? e.top = n : e.top + this.DIV.offsetHeight > this._wnd.scrollSize.scrollHeight && (e.top = t.top - this.PARAMS.dx - this.DIV.offsetHeight), e.left = t.left, t.left < this.PARAMS.dx) t.left = this.PARAMS.dx; else { var r = this.DIV.offsetWidth, i = this._wnd.scrollSize.scrollWidth - r - this.PARAMS.dx; e.left > i && (e.left = i) } return e }, BX.CHint.prototype.adjustWidth = function () { if (!this.bWidthAdjusted) { var e = this.DIV.offsetWidth, t = this.DIV.offsetHeight; e > this.PARAMS.min_width && (e = Math.round(Math.sqrt(1.618 * e * t))), e < this.PARAMS.min_width && (e = this.PARAMS.min_width), this.DIV.style.width = e + "px", this._adjustWidthInt && clearInterval(this._adjustWidthInt), this._adjustWidthInt = setInterval(BX.delegate(this._adjustWidthInterval, this), 5), this.bWidthAdjusted = !0 } }, BX.CHint.prototype._adjustWidthInterval = function () { this.DIV && "none" != this.DIV.style.display || clearInterval(this._adjustWidthInt); var e = this.DIV.offsetWidth, t = this.CONTENT_TEXT.offsetWidth; e > 0 && t > 0 && e - t < 20 && e < 1500 ? this.DIV.style.width = e + 20 + "px" : clearInterval(this._adjustWidthInt) }, BX.CHint.prototype.adjustPos = function () { this.adjustWidth(); var e = this.getAdjustPos(); this.DIV.style.top = e.top + "px", this.DIV.style.left = e.left + "px" }, BX.CHint.prototype.Close = function () { this.ID && BX.WindowManager && BX.WindowManager.saveWindowOptions(this.ID, { display: "off" }), this.__hide_immediately(), this.Destroy() }, BX.CHint.prototype.Destroy = function () { this.PARENT && (BX.unbind(this.PARENT, "mouseover", BX.proxy(this.Show, this)), BX.unbind(this.PARENT, "mouseout", BX.proxy(this.Hide, this))), this.DIV && (BX.unbind(this.DIV, "mouseover", BX.proxy(this.Show, this)), BX.unbind(this.DIV, "mouseout", BX.proxy(this.Hide, this)), BX.ZIndexManager.unregister(this.DIV), BX.cleanNode(this.DIV, !0)) }, BX.CHint.prototype.enable = function () { this.disabled = !1 }, BX.CHint.prototype.disable = function () { this.__hide_immediately(), this.disabled = !0 }, window.attachEvent ? window.attachEvent("onunload", Trash) : window.addEventListener ? window.addEventListener("unload", Trash, !1) : window.onunload = Trash, BX(BX.DoNothing), window.BX = BX, BX.browser.addGlobalClass(), BX.data = function (e, t, n) { if (void 0 !== e && void 0 !== t) if (void 0 !== n) dataStorage.set(e, t, n); else { var r; if (null != (r = dataStorage.get(e, t))) return r; if ("getAttribute" in e) { if (null === (r = e.getAttribute("data-" + t.toString()))) return; return r } } }, BX.DataStorage = function () { this.keyOffset = 1, this.data = {}, this.uniqueTag = "BX-" + Math.random(), this.resolve = function (e, t) { if (void 0 === e[this.uniqueTag]) { if (!t) return; try { Object.defineProperty(e, this.uniqueTag, { value: this.keyOffset++ }) } catch (t) { e[this.uniqueTag] = this.keyOffset++ } } return e[this.uniqueTag] }, this.get = function (e, t) { if ((e == document || BX.type.isElementNode(e)) && void 0 !== t && void 0 !== (e = this.resolve(e, !1)) && void 0 !== this.data[e]) return this.data[e][t] }, this.set = function (e, t, n) { if ((e == document || BX.type.isElementNode(e)) && void 0 !== n) { var r = this.resolve(e, !0); void 0 === this.data[r] && (this.data[r] = {}), this.data[r][t] = n } } }; var dataStorage = new BX.DataStorage }(window.BX), function (e) { e.BX || (e.BX = {}); var t = e.BX; t.Promise = function (e, t) { this.state = null, this.value = null, this.reason = null, this.next = null, this.ctx = t || this, this.onFulfilled = [], this.onRejected = [] }, t.Promise.prototype.fulfill = function (e) { this.checkState(), this.value = e, this.state = !0, this.execute() }, t.Promise.prototype.reject = function (e) { this.checkState(), this.reason = e, this.state = !1, this.execute() }, t.Promise.prototype.then = function (e, n) { return ("function" == typeof e || e instanceof Function) && this.onFulfilled.push(e), ("function" == typeof n || n instanceof Function) && this.onRejected.push(n), null === this.next && (this.next = new t.Promise(null, this.ctx)), null !== this.state && this.execute(), this.next }, t.Promise.prototype.catch = function (e) { return ("function" == typeof e || e instanceof Function) && this.onRejected.push(e), null === this.next && (this.next = new t.Promise(null, this.ctx)), null !== this.state && this.execute(), this.next }, t.Promise.prototype.setAutoResolve = function (e, t) { this.timer = setTimeout(function () { null === this.state && this[e ? "fulfill" : "reject"]() }.bind(this), t || 15) }, t.Promise.prototype.cancelAutoResolve = function () { clearTimeout(this.timer) }, t.Promise.prototype.resolve = function (e) { var t = this; this === e ? this.reject(new TypeError("Promise cannot fulfill or reject itself")) : e && "[object BX.Promise]" === e.toString() ? e.then((function (e) { t.fulfill(e) }), (function (e) { t.reject(e) })) : this.fulfill(e) }, t.Promise.prototype.toString = function () { return "[object BX.Promise]" }, t.Promise.prototype.execute = function () { if (null !== this.state) { var n, r = void 0, i = void 0, o = void 0; if (!0 === this.state) if (this.onFulfilled.length) try { for (n = 0; n < this.onFulfilled.length; n++)void 0 !== (o = this.onFulfilled[n].apply(this.ctx, [this.value])) && (r = o) } catch (n) { "console" in e && console.dir(n), void 0 !== t.debug && t.debug(n), i = n } else r = this.value; else if (!1 === this.state) if (this.onRejected.length) try { for (n = 0; n < this.onRejected.length; n++)void 0 !== (o = this.onRejected[n].apply(this.ctx, [this.reason])) && (r = o) } catch (n) { "console" in e && console.dir(n), void 0 !== t.debug && t.debug(n), i = n } else i = this.reason; null !== this.next && (void 0 !== i ? this.next.reject(i) : void 0 !== r && this.next.resolve(r)) } }, t.Promise.prototype.checkState = function () { if (null !== this.state) throw new Error("You can not do fulfill() or reject() multiple times") } }(window), function (e) { if (!e.BX.ajax) { var t = e.BX, n = {}, r = { method: "GET", dataType: "html", timeout: 0, async: !0, processData: !0, scriptsRunFirst: !1, emulateOnload: !0, skipAuthCheck: !1, start: !0, cache: !0, preparePost: !0, headers: !1, lsTimeout: 30, lsForce: !1 }, i = null, o = {}, s = { url_utf: /[^\034-\254]+/g, script_self: /\/bitrix\/js\/main\/core\/core(_ajax)*.js$/i, script_self_window: /\/bitrix\/js\/main\/core\/core_window.js$/i, script_self_admin: /\/bitrix\/js\/main\/core\/core_admin.js$/i, script_onload: /window.onload/g }; t.ajax = function (e) { var i; if (!e || !e.url || !t.type.isString(e.url)) return !1; for (var o in n) void 0 === e[o] && (e[o] = n[o]); for (o in n = {}, r) void 0 === e[o] && (e[o] = r[o]); if (e.method = e.method.toUpperCase(), t.localStorage || (e.lsId = null), t.browser.IsIE()) { var u = s.url_utf.exec(e.url); if (u) do { e.url = e.url.replace(u, t.util.urlencode(u)), u = s.url_utf.exec(e.url) } while (u) } "json" == e.dataType && (e.emulateOnload = !1), e.cache || "GET" != e.method || (e.url = t.ajax._uncache(e.url)), "POST" == e.method && (e.preparePost ? e.data = t.ajax.prepareData(e.data) : "application/json" === a(e.headers) && (e.data = JSON.stringify(e.data))); var l = !0; if (e.lsId && !e.lsForce) { var c = t.localStorage.get("ajax-" + e.lsId); if (null !== c) { l = !1; var f = function (n) { if (n.key == "ajax-" + e.lsId && "BXAJAXWAIT" != n.value) { var r = n.value; !!n.oldValue && null == r ? e.onfailure && e.onfailure("timeout") : t.ajax.__run(e, r), t.removeCustomEvent("onLocalStorageChange", f) } }; "BXAJAXWAIT" == c ? t.addCustomEvent("onLocalStorageChange", f) : setTimeout((function () { f({ key: "ajax-" + e.lsId, value: c }) }), 10) } } if (l) { if (e.xhr = t.ajax.xhr(), !e.xhr) return; if (e.lsId && t.localStorage.set("ajax-" + e.lsId, "BXAJAXWAIT", e.lsTimeout), t.Type.isFunction(e.onprogress) && t.bind(e.xhr, "progress", e.onprogress), t.Type.isFunction(e.onprogressupload) && e.xhr.upload && t.bind(e.xhr.upload, "progress", e.onprogressupload), e.xhr.open(e.method, e.url, e.async), e.skipBxHeader || t.ajax.isCrossDomain(e.url) || e.xhr.setRequestHeader("Bx-ajax", "true"), "POST" == e.method && e.preparePost && e.xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"), "object" == typeof e.headers) for (o = 0; o < e.headers.length; o++)e.xhr.setRequestHeader(e.headers[o].name, e.headers[o].value); var p = !1, h = e.xhr.onreadystatechange = function (n) { if (!p) if ("timeout" === n) e.onfailure && e.onfailure("timeout", "", e), t.onCustomEvent(e.xhr, "onAjaxFailure", ["timeout", "", e]), e.xhr.onreadystatechange = t.DoNothing, e.xhr.abort(), e.async && (e.xhr = null); else if (4 == e.xhr.readyState || "run" == n) { if (i = t.ajax.xhrSuccess(e.xhr) ? "success" : "error", p = !0, e.xhr.onreadystatechange = t.DoNothing, "success" == i) { var r = !e.skipAuthCheck && !t.ajax.isCrossDomain(e.url) && e.xhr.getResponseHeader("X-Bitrix-Ajax-Status"); if (r && "Authorize" == r) e.onfailure && e.onfailure("auth", e.xhr.status, e), t.onCustomEvent(e.xhr, "onAjaxFailure", ["auth", e.xhr.status, e]); else { var o = e.xhr.responseText; e.lsId && t.localStorage.set("ajax-" + e.lsId, o, e.lsTimeout), t.ajax.__run(e, o) } } else e.onfailure && e.onfailure("status", e.xhr.status, e), t.onCustomEvent(e.xhr, "onAjaxFailure", ["status", e.xhr.status, e]); e.async && (e.xhr = null) } }; return e.async && e.timeout > 0 && setTimeout((function () { e.xhr && !p && h("timeout") }), 1e3 * e.timeout), e.start && (e.xhr.send(e.data), e.async || h("run")), e.xhr } }, t.ajax.xhr = function () { if (e.XMLHttpRequest) try { return new XMLHttpRequest } catch (e) { } else if (e.ActiveXObject) { try { return new e.ActiveXObject("Msxml2.XMLHTTP.6.0") } catch (e) { } try { return new e.ActiveXObject("Msxml2.XMLHTTP.3.0") } catch (e) { } try { return new e.ActiveXObject("Msxml2.XMLHTTP") } catch (e) { } try { return new e.ActiveXObject("Microsoft.XMLHTTP") } catch (e) { } throw new Error("This browser does not support XMLHttpRequest.") } return null }, t.ajax.isCrossDomain = function (n, r) { if (r = r || e.location, 0 === n.indexOf("//") && (n = r.protocol + n), 0 !== n.indexOf("http")) return !1; var i = e.document.createElement("a"); return i.href = n, i.protocol !== r.protocol || i.hostname !== r.hostname || t.ajax.getHostPort(i.protocol, i.host) !== t.ajax.getHostPort(r.protocol, r.host) }, t.ajax.getHostPort = function (e, t) { var n = /:(\d+)$/.exec(t); return n ? n[1] : "http:" === e ? "80" : "https:" === e ? "443" : "" }, t.ajax.__prepareOnload = function (n) { if (n.length > 0) { t.ajax["onload_" + i] = null; for (var r = 0, o = n.length; r < o; r++)n[r].isInternal && (n[r].JS = n[r].JS.replace(s.script_onload, "BX.ajax.onload_" + i)) } t.CaptureEventsGet(), t.CaptureEvents(e, "load") }, t.ajax.__runOnload = function () { null != t.ajax["onload_" + i] && (t.ajax["onload_" + i].apply(e), t.ajax["onload_" + i] = null); var n = t.CaptureEventsGet(); if (n) for (var r = 0; r < n.length; r++)n[r].apply(e) }, t.ajax.__run = function (e, n) { e.processData ? n = t.ajax.processRequestData(n, e) : (e.onsuccess && e.onsuccess(n), t.onCustomEvent(e.xhr, "onAjaxSuccess", [n, e])) }, t.ajax._onParseJSONFailure = function (e) { this.jsonFailure = !0, this.jsonResponse = e, this.jsonProactive = /^\[WAF\]/.test(e) }, t.ajax.processRequestData = function (e, n) { var r, o = [], s = []; switch (n.dataType.toUpperCase()) { case "JSON": var a = n.xhr || {}; if (t.addCustomEvent(a, "onParseJSONFailure", t.proxy(t.ajax._onParseJSONFailure, n)), r = t.parseJSON(e, a), t.removeCustomEvent(a, "onParseJSONFailure", t.proxy(t.ajax._onParseJSONFailure, n)), r && t.type.isArray(r.bxjs)) for (var u = 0; u < r.bxjs.length; u++)t.type.isNotEmptyString(r.bxjs[u]) ? o.push({ isInternal: !1, JS: r.bxjs[u], bRunFirst: n.scriptsRunFirst }) : o.push(r.bxjs[u]); r && t.type.isArray(r.bxcss) && (s = r.bxcss); break; case "SCRIPT": o.push({ isInternal: !0, JS: e, bRunFirst: n.scriptsRunFirst }), r = e; break; default: var l = t.processHTML(e, n.scriptsRunFirst); r = l.HTML, o = l.SCRIPT, s = l.STYLE }var c = !1; null == i && (i = parseInt(1e6 * Math.random()), c = !0), s.length > 0 && t.loadCSS(s), n.emulateOnload && t.ajax.__prepareOnload(o); var f = t.DoNothing; (n.emulateOnload || c) && (f = t.defer((function () { n.emulateOnload && t.ajax.__runOnload(), c && (i = null), t.onCustomEvent(n.xhr, "onAjaxSuccessFinish", [n]) }))); try { if (n.jsonFailure) throw { type: "json_failure", data: n.jsonResponse, bProactive: n.jsonProactive }; n.scripts = o, t.ajax.processScripts(n.scripts, !0), n.onsuccess && n.onsuccess(r), t.onCustomEvent(n.xhr, "onAjaxSuccess", [r, n]), t.ajax.processScripts(n.scripts, !1, f) } catch (e) { n.onfailure && n.onfailure("processing", e), t.onCustomEvent(n.xhr, "onAjaxFailure", ["processing", e, n]) } }, t.ajax.processScripts = function (e, n, r) { var i = [], o = ""; r = r || t.DoNothing; for (var s = 0, a = e.length; s < a; s++)void 0 !== n && n != !!e[s].bRunFirst || (e[s].isInternal ? o += ";" + e[s].JS : i.push(e[s].JS)); i = t.util.array_unique(i); var u = o.length > 0 ? function () { t.evalGlobal(o) } : t.DoNothing; i.length > 0 ? t.load(i, (function () { u(), r() })) : (u(), r()) }, t.ajax.prepareData = function (e, n) { var r = ""; if (t.type.isString(e)) r = e; else if (null != e) for (var i in e) if (e.hasOwnProperty(i)) { r.length > 0 && (r += "&"); var o = t.util.urlencode(i); n && (o = n + "[" + o + "]"), "object" == typeof e[i] ? r += t.ajax.prepareData(e[i], o) : r += o + "=" + t.util.urlencode(e[i]) } return r }, t.ajax.xhrSuccess = function (e) { return e.status >= 200 && e.status < 300 || 304 === e.status || 1223 === e.status || 0 === e.status }, t.ajax.Setup = function (e, t) { for (var i in t = !!t, e) t ? n[i] = e[i] : r[i] = e[i] }, t.ajax.replaceLocalStorageValue = function (e, n, r) { t.localStorage && t.localStorage.set("ajax-" + e, n, r) }, t.ajax._uncache = function (e) { return e + (-1 !== e.indexOf("?") ? "&" : "?") + "_=" + (new Date).getTime() }, t.ajax.get = function (e, n, r) { return t.type.isFunction(n) && (r = n, n = ""), (n = t.ajax.prepareData(n)) && (e += (-1 !== e.indexOf("?") ? "&" : "?") + n, n = ""), t.ajax({ method: "GET", dataType: "html", url: e, data: "", onsuccess: r }) }, t.ajax.getCaptcha = function (e) { return t.ajax.loadJSON("/bitrix/tools/ajax_captcha.php", e) }, t.ajax.insertToNode = function (e, r) { if (r = t(r)) { var i = { cancel: !1 }; if (t.onCustomEvent("onAjaxInsertToNode", [{ url: e, node: r, eventArgs: i }]), !0 === i.cancel) return; var o = null; return n.denyShowWait || (o = t.showWait(r), delete n.denyShowWait), t.ajax.get(e, (function (e) { r.innerHTML = e, t.closeWait(r, o) })) } }, t.ajax.post = function (e, n, r) { return n = t.ajax.prepareData(n), t.ajax({ method: "POST", dataType: "html", url: e, data: n, onsuccess: r }) }, t.ajax.promise = function (e) { var n = new t.Promise; e.onsuccess = function (e) { n.fulfill(e) }, e.onfailure = function (e, t, r) { n.reject({ reason: e, data: t, ajaxConfig: r, xhr: r.xhr }) }; var r = t.ajax(e); return r ? "function" == typeof e.onrequeststart && e.onrequeststart(r) : n.reject({ reason: "init", data: !1 }), n }, t.ajax.loadScriptAjax = function (e, n, r) { if (t.type.isArray(e)) for (var i = 0, a = e.length; i < a; i++)t.ajax.loadScriptAjax(e[i], n, r); else { var u = e.replace(/\.js\?.*/, ".js"); if (s.script_self.test(u)) return; if (s.script_self_window.test(u) && t.CWindow) return; if (s.script_self_admin.test(u) && t.admin) return; if (void 0 === o[u]) return r ? (o[u] = "", t.loadScript(e)) : t.ajax({ url: e, method: "GET", dataType: "script", processData: !0, emulateOnload: !1, scriptsRunFirst: !0, async: !1, start: !0, onsuccess: function (e) { o[u] = e, n && n(e) } }); n && n(o[u]) } }, t.ajax.loadJSON = function (e, n, r, i) { return t.type.isFunction(n) && (i = r, r = n, n = ""), (n = t.ajax.prepareData(n)) && (e += (-1 !== e.indexOf("?") ? "&" : "?") + n, n = ""), t.ajax({ method: "GET", dataType: "json", url: e, onsuccess: r, onfailure: i }) }; var a = function (e) { if (!t.Type.isArray(e)) return null; var n = e.filter((function (e) { return "Content-Type" === e.name })).pop(); return n ? n.value : null }, u = function (e) { var n = e.getParameters || {}; return (t.type.isNotEmptyString(e.analyticsLabel) || t.type.isNotEmptyObject(e.analyticsLabel)) && (n.analyticsLabel = e.analyticsLabel), void 0 !== e.mode && (n.mode = e.mode), e.navigation && (e.navigation.page && (n.nav = "page-" + e.navigation.page), e.navigation.size && (n.nav ? n.nav += "-" : n.nav = "", n.nav += "size-" + e.navigation.size)), n }, l = function (e) { if ((e = t.type.isPlainObject(e) ? e : {}).headers = e.headers || [], e.headers.push({ name: "X-Bitrix-Csrf-Token", value: t.bitrix_sessid() }), t.message.SITE_ID && e.headers.push({ name: "X-Bitrix-Site-Id", value: t.message.SITE_ID }), void 0 !== e.json) { if (!t.type.isPlainObject(e.json)) throw new Error("Wrong `config.json`, plain object expected."); e.headers.push({ name: "Content-Type", value: "application/json" }), e.data = e.json, e.preparePost = !1 } else e.data instanceof FormData ? (e.preparePost = !1, void 0 !== e.signedParameters && e.data.append("signedParameters", e.signedParameters)) : (t.type.isPlainObject(e.data) || t.Type.isNil(e.data)) && (e.data = t.type.isPlainObject(e.data) ? e.data : {}, void 0 !== e.signedParameters && (e.data.signedParameters = e.signedParameters)); return e.method || (e.method = "POST"), e }, c = function (e, n) { n = n || !1; var r = t.clone(e), i = null, o = e.onrequeststart; e.onrequeststart = function (e) { i = e, t.type.isFunction(o) && o(e) }; var s = r.onrequeststart; return r.onrequeststart = function (e) { i = e, t.type.isFunction(s) && s(e) }, t.ajax.promise(e).then((function (e) { if (!n && t.type.isPlainObject(e) && t.type.isArray(e.errors)) { var i = !1; if (e.errors.forEach((function (e) { "invalid_csrf" === e.code && e.customData.csrf && (t.message({ bitrix_sessid: e.customData.csrf }), r.headers = r.headers || [], r.headers = r.headers.filter((function (e) { return e && "X-Bitrix-Csrf-Token" !== e.name })), r.headers.push({ name: "X-Bitrix-Csrf-Token", value: t.bitrix_sessid() }), i = !0) })), i) return c(r, !0) } if (!t.type.isPlainObject(e) || "success" !== e.status) { var o = new t.Promise; return o.reject(e), o } return e })).catch((function (e) { var n = new t.Promise; if (t.type.isPlainObject(e) && e.xhr && e.xhr.responseText) try { e = JSON.parse(e.xhr.responseText) } catch (e) { } return t.type.isPlainObject(e) && e.status && e.hasOwnProperty("data") ? n.reject(e) : n.reject({ status: "error", data: { ajaxRejectData: e }, errors: [{ code: "NETWORK_ERROR", message: "Network error" }] }), n })).then((function (e) { var n = new t.Promise, r = i.getAllResponseHeaders().trim().split(/[\r\n]+/), o = {}; if (r.forEach((function (e) { var t = e.split(": "), n = t.shift().toLowerCase(); o[n] = t.join(": ") })), !o["x-process-assets"]) return n.fulfill(e), n; var s = t.prop.getObject(t.prop.getObject(e, "data", {}), "assets", {}); return new Promise((function (e, n) { var r = t.prop.getArray(s, "css", []); t.load(r, (function () { t.loadScript(t.prop.getArray(s, "js", []), e) })) })).then((function () { var r = t.prop.getArray(s, "string", []).join("\n"); t.html(document.head, r, { useAdjacentHTML: !0 }).then((function () { n.fulfill(e) })) })), n })) }; t.ajax.runAction = function (e, n) { n = l(n); var r = u(n); r.action = e; var i = "/bitrix/services/main/ajax.php?" + t.ajax.prepareData(r); return c({ method: n.method, dataType: "json", url: i, data: n.data, timeout: n.timeout, preparePost: n.preparePost, headers: n.headers, onrequeststart: n.onrequeststart, onprogress: n.onprogress, onprogressupload: n.onprogressupload }) }, t.ajax.runComponentAction = function (e, n, r) { (r = l(r)).mode = r.mode || "ajax"; var i = u(r); i.c = e, i.action = n; var o = "/bitrix/services/main/ajax.php?" + t.ajax.prepareData(i); return c({ method: r.method, dataType: "json", url: o, data: r.data, timeout: r.timeout, preparePost: r.preparePost, headers: r.headers, onrequeststart: r.onrequeststart ? r.onrequeststart : null, onprogress: r.onprogress, onprogressupload: r.onprogressupload }) }, t.ajax.load = function (e, n) { t.type.isArray(e) || (e = [e]); var r = 0; t.type.isFunction(n) || (n = t.DoNothing); for (var i = function (e) { t.type.isFunction(this.callback) && this.callback(e), ++r >= s && n() }, o = 0, s = e.length; o < s; o++)switch (e[o].type.toUpperCase()) { case "SCRIPT": t.loadScript([e[o].url], t.proxy(i, e[o])); break; case "CSS": t.loadCSS([e[o].url]), ++r >= s && n(); break; case "JSON": t.ajax.loadJSON(e[o].url, t.proxy(i, e[o])); break; default: t.ajax.get(e[o].url, "", t.proxy(i, e[o])) } }, t.ajax.submit = function (e, n) { if (!e.target) { if (null == e.BXFormTarget) { var r = "formTarget_" + Math.random(); e.BXFormTarget = document.body.appendChild(t.create("IFRAME", { props: { name: r, id: r, src: "javascript:void(0)" }, style: { display: "none" } })) } e.target = e.BXFormTarget.name } return e.BXFormCallback = n, t.bind(e.BXFormTarget, "load", t.proxy(t.ajax._submit_callback, e)), t.submit(e), !1 }, t.ajax.submitComponentForm = function (n, r, i) { if (!n.target) { if (null == n.BXFormTarget) { var o = "formTarget_" + Math.random(); n.BXFormTarget = document.body.appendChild(t.create("IFRAME", { props: { name: o, id: o, src: "javascript:void(0)" }, style: { display: "none" } })) } n.target = n.BXFormTarget.name } if (i) var s = t.showWait(r); return n.BXFormCallback = function (n) { i && t.closeWait(s); t(r).innerHTML = n, t.onCustomEvent("onAjaxSuccess", [null, null, function () { e.bxcompajaxframeonload && setTimeout((function () { e.bxcompajaxframeonload(), e.bxcompajaxframeonload = null }), 10) }]) }, t.bind(n.BXFormTarget, "load", t.proxy(t.ajax._submit_callback, n)), !0 }, t.ajax._submit_callback = function () { try { if (0 != this.BXFormTarget.contentWindow.location.href.indexOf("http")) return } catch (e) { return } this.BXFormCallback && this.BXFormCallback.apply(this, [this.BXFormTarget.contentWindow.document.body.innerHTML]), t.unbindAll(this.BXFormTarget) }, t.ajax.prepareForm = function (e, t) { t = t || {}; var n, r, i, o = [], s = e.elements.length, a = 0, u = 0; if (e) { for (n = 0; n < s; n++)if (!(i = e.elements[n]).disabled && i.type) switch (i.type.toLowerCase()) { case "text": case "textarea": case "password": case "number": case "hidden": case "select-one": o.push({ name: i.name, value: i.value }), u += i.name.length + i.value.length; break; case "file": if (i.files) for (r = 0; r < i.files.length; r++)a++, o.push({ name: i.name, value: i.files[r], file: !0 }), u += i.files[r].size; break; case "radio": case "checkbox": i.checked && (o.push({ name: i.name, value: i.value }), u += i.name.length + i.value.length); break; case "select-multiple": for (var l = 0; l < i.options.length; l++)i.options[l].selected && (o.push({ name: i.name, value: i.options[l].value }), u += i.name.length + i.options[l].length) }n = 0, u = 0; for (var c, f, p, h, d = t; n < o.length;) { var y = o[n].name.indexOf("["); h ? (d[o[n].name] = {}, d[o[n].name][h.replace(/\[|\]/gi, "")] = o[n].value, d = t, h = null, n++) : -1 == y ? (d[o[n].name] = o[n].value, d = t, n++) : (c = o[n].name.substring(0, y), -1 == (p = (f = o[n].name.substring(y + 1)).indexOf("]")) ? (d[c] || (d[c] = []), d = t, n++) : 0 == p ? (d[c] || (d[c] = []), d = d[c], o[n].name = "" + d.length, 0 === f.substring(p + 1).indexOf("[") && (h = f.substring(0, p) + f.substring(p + 1))) : (d[c] || (d[c] = {}), d = d[c], o[n].name = f.substring(0, p) + f.substring(p + 1))) } } return { data: t, filesCount: a, roughSize: u } }, t.ajax.submitAjax = function (n, r) { (r = null !== r && "object" == typeof r ? r : {}).url = r.url || n.getAttribute("action"); var i = r.data || {}; for (var o in r.data = t.ajax.prepareForm(n).data, i) i.hasOwnProperty(o) && (r.data[o] = i[o]); if (e.FormData) { var s = function (e, t, n) { if (n && "object" == typeof n && (i = n, "[object File]" != (o = Object.prototype.toString.call(i)) && "[object Blob]" != o)) for (var r in n) n.hasOwnProperty(r) && s(e, "" == t ? r : t + "[" + r + "]", n[r]); else e.append(t, n || ""); var i, o }, a = function (e) { var n = {}; if (null != e) if ("object" == typeof e) { for (var r in e) if (e.hasOwnProperty(r)) { var i = t.util.urlencode(r); "object" == typeof e[r] && !0 !== e[r].file ? n[i] = a(e[r]) : !0 === e[r].file ? n[i] = e[r].value : n[i] = t.util.urlencode(e[r]) } } else n = t.util.urlencode(e); return n }, u = new e.FormData; "POST" !== r.method ? (r.data = t.ajax.prepareData(r.data), r.data && (r.url += (-1 !== r.url.indexOf("?") ? "&" : "?") + r.data, r.data = "")) : (!0 === r.preparePost && (r.data = a(r.data)), s(u, "", r.data), r.data = u), r.preparePost = !1, r.start = !1; var l = t.ajax(r); r.onprogress && l.upload.addEventListener("progress", (function (e) { var t = null; e.lengthComputable && (e.total || e.totalSize) && (t = 100 * e.loaded / (e.total || e.totalSize)), r.onprogress(e, t) })), l.send(u) } else t.ajax(r) }, t.ajax.UpdatePageData = function (e) { if (e.TITLE && t.ajax.UpdatePageTitle(e.TITLE), (e.WINDOW_TITLE || e.TITLE) && t.ajax.UpdateWindowTitle(e.WINDOW_TITLE || e.TITLE), e.NAV_CHAIN && t.ajax.UpdatePageNavChain(e.NAV_CHAIN), e.CSS && e.CSS.length > 0 && t.loadCSS(e.CSS), e.SCRIPTS && e.SCRIPTS.length > 0) { var n = function (r, i, o) { if (i && t.type.isArray(i.scripts)) for (var s = 0, a = e.SCRIPTS.length; s < a; s++)i.scripts.push({ isInternal: !1, JS: e.SCRIPTS[s] }); else t.loadScript(e.SCRIPTS, o); t.removeCustomEvent("onAjaxSuccess", n) }; t.addCustomEvent("onAjaxSuccess", n) } else { var r = function (e, n, i) { t.type.isFunction(i) && i(), t.removeCustomEvent("onAjaxSuccess", r) }; t.addCustomEvent("onAjaxSuccess", r) } }, t.ajax.UpdatePageTitle = function (e) { var n = t("pagetitle"); n && (t.remove(n.firstChild), n.firstChild ? n.insertBefore(document.createTextNode(e), n.firstChild) : n.appendChild(document.createTextNode(e))) }, t.ajax.UpdateWindowTitle = function (e) { document.title = e }, t.ajax.UpdatePageNavChain = function (e) { var n = t("navigation"); n && (n.innerHTML = e) }, t.userOptions = { options: null, bSend: !1, delay: 5e3, path: "/bitrix/admin/user_options.php?" }, t.userOptions.setAjaxPath = function (e) { t.userOptions.path = -1 == e.indexOf("?") ? e + "?" : e + "&" }, t.userOptions.save = function (e, n, r, i, o) { null == t.userOptions.options && (t.userOptions.options = {}), o = !!o, t.userOptions.options[e + "." + n + "." + r] = [e, n, r, i, o]; var s = t.userOptions.__get(); "" != s && (document.cookie = t.message("COOKIE_PREFIX") + "_LAST_SETTINGS=" + encodeURIComponent(s) + "&sessid=" + t.bitrix_sessid() + "; expires=Thu, 31 Dec " + ((new Date).getFullYear() + 1) + " 23:59:59 GMT; path=/;"), t.userOptions.bSend || (t.userOptions.bSend = !0, setTimeout((function () { t.userOptions.send(null) }), t.userOptions.delay)) }, t.userOptions.send = function (e) { var n = t.userOptions.__get(); t.userOptions.options = null, t.userOptions.bSend = !1, "" != n && (document.cookie = t.message("COOKIE_PREFIX") + "_LAST_SETTINGS=; path=/;", t.ajax({ method: "GET", dataType: "html", processData: !1, cache: !1, url: t.userOptions.path + n + "&sessid=" + t.bitrix_sessid(), onsuccess: e })) }, t.userOptions.del = function (e, n, r, i) { t.ajax.get(t.userOptions.path + "action=delete&c=" + e + "&n=" + n + (1 == r ? "&common=Y" : "") + "&sessid=" + t.bitrix_sessid(), i) }, t.userOptions.__get = function () { if (!t.userOptions.options) return ""; var e, n, r = "", i = -1, o = ""; for (n in t.userOptions.options) if (t.userOptions.options.hasOwnProperty(n)) { o != (e = t.userOptions.options[n])[0] + "." + e[1] && (r += "&p[" + ++i + "][c]=" + t.util.urlencode(e[0]), r += "&p[" + i + "][n]=" + t.util.urlencode(e[1]), 1 == e[4] && (r += "&p[" + i + "][d]=Y"), o = e[0] + "." + e[1]); var s = e[2], a = e[3]; r += null === s ? "&p[" + i + "][v]=" + t.util.urlencode(a) : "&p[" + i + "][v][" + t.util.urlencode(s) + "]=" + t.util.urlencode(a) } return r.substr(1) }, t.ajax.history = { expected_hash: "", obParams: null, obFrame: null, obImage: null, obTimer: null, bInited: !1, bHashCollision: !1, bPushState: !(!history.pushState || !t.type.isFunction(history.pushState)), startState: null, init: function (n) { if (!t.ajax.history.bInited) { this.obParams = n; var r = this.obParams.getState(); t.ajax.history.bPushState ? (t.ajax.history.expected_hash = e.location.pathname, e.location.search && (t.ajax.history.expected_hash += e.location.search), t.ajax.history.put(r, t.ajax.history.expected_hash, "", !0), setTimeout((function () { t.bind(e, "popstate", t.ajax.history.__hashListener) }), 500)) : (t.ajax.history.expected_hash = e.location.hash, t.ajax.history.expected_hash && "#" != t.ajax.history.expected_hash || (t.ajax.history.expected_hash = "__bx_no_hash__"), f.put(t.ajax.history.expected_hash, r), t.ajax.history.obTimer = setTimeout(t.ajax.history.__hashListener, 500), t.browser.IsIE() ? (t.ajax.history.obFrame = document.createElement("IFRAME"), t.hide_object(t.ajax.history.obFrame), document.body.appendChild(t.ajax.history.obFrame), t.ajax.history.obFrame.contentWindow.document.open(), t.ajax.history.obFrame.contentWindow.document.write(t.ajax.history.expected_hash), t.ajax.history.obFrame.contentWindow.document.close()) : t.browser.IsOpera() && (t.ajax.history.obImage = document.createElement("IMG"), t.hide_object(t.ajax.history.obImage), document.body.appendChild(t.ajax.history.obImage), t.ajax.history.obImage.setAttribute("src", "javascript:location.href = 'javascript:BX.ajax.history.__hashListener();';"))), t.ajax.history.bInited = !0 } }, __hashListener: function (n) { if (n = n || e.event || { state: !1 }, t.ajax.history.bPushState) t.ajax.history.obParams.setState(n.state || t.ajax.history.startState); else { var r; if (t.ajax.history.obTimer && (e.clearTimeout(t.ajax.history.obTimer), t.ajax.history.obTimer = null), (r = null != t.ajax.history.obFrame ? t.ajax.history.obFrame.contentWindow.document.body.innerText : e.location.hash) && "#" != r || (r = "__bx_no_hash__"), 0 == r.indexOf("#") && (r = r.substring(1)), r != t.ajax.history.expected_hash) { var i = f.get(r); if (i && (t.ajax.history.obParams.setState(i), t.ajax.history.expected_hash = r, null != t.ajax.history.obFrame)) { var o = "__bx_no_hash__" == r ? "" : r; e.location.hash != o && e.location.hash != "#" + o && (e.location.hash = o) } } t.ajax.history.obTimer = setTimeout(t.ajax.history.__hashListener, 500) } }, put: function (n, r, i, o) { this.bPushState ? o ? t.ajax.history.startState = n : history.pushState(n, "", r) : (r = void 0 !== i ? i : "view" + r, f.put(r, n), t.ajax.history.expected_hash = r, e.location.hash = t.util.urlencode(r), null != t.ajax.history.obFrame && (t.ajax.history.obFrame.contentWindow.document.open(), t.ajax.history.obFrame.contentWindow.document.write(r), t.ajax.history.obFrame.contentWindow.document.close())) }, checkRedirectStart: function (n, r) { var i = e.location.hash; "#" == i.substring(0, 1) && (i = i.substring(1)); var o = i.substring(0, 5); "view/" != o && "view%" != o || (t.ajax.history.bHashCollision = !0, document.write('<div id="__ajax_hash_collision_' + r + '" style="display: none;">')) }, checkRedirectFinish: function (n, r) { document.write("</div>"); var i = e.location.hash; "#" == i.substring(0, 1) && (i = i.substring(1)), t.ready((function () { var e = i.substring(0, 5); if ("view/" == e || "view%" == e) { var o = t("__ajax_hash_collision_" + r), s = o.firstChild; t.cleanNode(s), o.style.display = "block", "view%" != e && (i = t.util.urlencode(i)); var a = "/bitrix/tools/ajax_redirector.php?hash=" + (i += (-1 == i.indexOf("%3F") ? "%3F" : "%26") + n + "=" + r); t.ajax.insertToNode(a, s) } })) } }, t.ajax.component = function (e) { this.node = e }, t.ajax.component.prototype.getState = function () { var n = { node: this.node, title: e.document.title, data: t(this.node).innerHTML }, r = t("navigation"); return null != r && (n.nav_chain = r.innerHTML), t.onCustomEvent(t(n.node), "onComponentAjaxHistoryGetState", [n]), n }, t.ajax.component.prototype.setState = function (e) { t(e.node).innerHTML = e.data, t.ajax.UpdatePageTitle(e.title), e.nav_chain && t.ajax.UpdatePageNavChain(e.nav_chain), t.onCustomEvent(t(e.node), "onComponentAjaxHistorySetState", [e]) }; var f = { arHistory: {}, put: function (e, t) { this.arHistory[e] = t }, get: function (e) { return this.arHistory[e] } }; t.ajax.FormData = function () { this.elements = [], this.files = [], this.features = {}, this.isSupported(), this.log("BX FormData init") }, t.ajax.FormData.isSupported = function () { var e = new t.ajax.FormData, n = e.features.supported; return e = null, n }, t.ajax.FormData.prototype.log = function (e) { 0 }, t.ajax.FormData.prototype.isSupported = function () { var t = {}; return t.fileReader = e.FileReader && e.FileReader.prototype.readAsBinaryString, t.readFormData = t.sendFormData = !!e.FormData, t.supported = !(!t.readFormData || !t.sendFormData), this.features = t, this.log("features:"), this.log(t), t.supported }, t.ajax.FormData.prototype.append = function (e, t) { "object" == typeof t ? this.files.push({ name: e, value: t }) : this.elements.push({ name: e, value: t }) }, t.ajax.FormData.prototype.send = function (e, n, r, i) { if (this.log("FD send"), this.xhr = t.ajax({ method: "POST", dataType: "html", url: e, onsuccess: n, onfailure: i, start: !1, preparePost: !1 }), r && this.xhr.upload.addEventListener("progress", (function (e) { e.lengthComputable && r(e.loaded / (e.total || e.totalSize)) }), !1), this.features.readFormData && this.features.sendFormData) { var o = new FormData; for (var s in this.log("use browser formdata"), this.elements) this.elements.hasOwnProperty(s) && o.append(this.elements[s].name, this.elements[s].value); for (s in this.files) this.files.hasOwnProperty(s) && o.append(this.files[s].name, this.files[s].value); this.xhr.send(o) } return this.xhr }, t.addCustomEvent("onAjaxFailure", t.debug) } }(window), function (e, t) { "use strict"; var n = { observer: null, images: {}, imageStatus: { hidden: -2, error: -1, undefined: 0, inited: 1, loaded: 2 }, imageTypes: { image: 1, background: 2 }, initObserver: function () { this.observer = new IntersectionObserver(this.onIntersection.bind(this), { rootMargin: "20% 0% 20% 0%", threshold: .1 }) }, onIntersection: function (e) { e.forEach(function (e) { e.isIntersecting && this.showImage(e.target) }.bind(this)) }, registerImage: function (e, n, r) { if (null === this.observer && this.initObserver(), r = r || {}, t.Type.isStringFilled(e) && !t.Type.isObject(this.images[e])) { var i = document.getElementById(e); t.Type.isDomNode(i) && (this.observer.observe(i), this.images[e] = { id: e, node: null, src: null, dataSrcName: r.dataSrcName || "src", type: null, func: t.Type.isFunction(n) ? n : null, status: this.imageStatus.undefined }) } }, registerImages: function (e, n, r) { if (t.Type.isArray(e)) for (var i = 0, o = e.length; i < o; i++)this.registerImage(e[i], n, r) }, showImage: function (e) { var n = e.id; if (t.Type.isStringFilled(n)) { var r = this.images[n]; if (t.Type.isPlainObject(r) && (r.status == this.imageStatus.undefined && this.initImage(r), r.status === this.imageStatus.inited)) { if (!r.node || !r.node.parentNode) return r.node = null, void (r.status = this.imageStatus.error); r.type == this.imageTypes.image ? r.node.src = r.src : r.node.style.backgroundImage = "url('" + r.src + "')", r.node.dataset[r.dataSrcName] = "", r.status = this.imageStatus.loaded } } }, showImages: function (e) { for (var n in e = !1 !== e, this.images) if (this.images.hasOwnProperty(n)) { var r = this.images[n]; if (r.status == this.imageStatus.undefined && this.initImage(r), r.status === this.imageStatus.inited) if (r.node && r.node.parentNode) { var i = !0; e && t.Type.isFunction(r.func) && (i = r.func(r)), !0 === i && this.isElementVisibleOnScreen(r.node) && (r.type == this.imageTypes.image ? r.node.src = r.src : r.node.style.backgroundImage = "url('" + r.src + "')", r.node.dataset[r.dataSrcName] = "", r.status = this.imageStatus.loaded) } else r.node = null, r.status = this.imageStatus.error } }, initImage: function (e) { e.status = this.imageStatus.error; var n = document.getElementById(e.id); if (t.Type.isDomNode(n)) { var r = n.dataset[e.dataSrcName]; t.Type.isStringFilled(r) && (e.node = n, e.src = r, e.status = this.imageStatus.inited, e.type = "img" == e.node.tagName.toLowerCase() ? this.imageTypes.image : this.imageTypes.background) } }, isElementVisibleOnScreen: function (e) { var t = this.getElementCoords(e), n = window.pageYOffset || document.documentElement.scrollTop, r = n + document.documentElement.clientHeight; return t.bottom = t.top + e.offsetHeight, t.top > n && t.top < r || t.bottom < r && t.bottom > n }, isElementVisibleOn2Screens: function (e) { var t = document.documentElement.clientHeight, n = window.pageYOffset || document.documentElement.scrollTop, r = n + t, i = this.getElementCoords(e); return i.bottom = i.top + e.offsetHeight, n -= t, r += t, i.top > n && i.top < r || i.bottom < r && i.bottom > n }, getElementCoords: function (e) { var t = e.getBoundingClientRect(); return { originTop: t.top, originLeft: t.left, top: t.top + window.pageYOffset, left: t.left + window.pageXOffset } }, onScroll: function () { }, clearImages: function () { this.images = [] } }; e.LazyLoad = n }(this.BX = this.BX || {}, BX), function (e) { "use strict"; var t = function () { function e() { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; babelHelpers.classCallCheck(this, e), t && "object" === babelHelpers.typeof(t) ? this.params = new Map(Object.entries(t)) : this.params = new Map } return babelHelpers.createClass(e, [{ key: "getParam", value: function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null; return this.params.has(e) ? this.params.get(e) : t } }, { key: "setParam", value: function (e, t) { this.params.set(e, t) } }, { key: "clear", value: function () { this.params.clear() } }], [{ key: "create", value: function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; return new e(t) } }]), e }(); e.ParamBag = t }(this.BX = this.BX || {}), BX.FixFontSize = function (e) { var t, n; this.node = null, this.prevWindowSize = 0, this.prevWrapperSize = 0, this.mainWrapper = null, this.textWrapper = null, this.objList = e.objList, this.minFontSizeList = [], this.minFontSize = 0, e.onresize && (this.prevWindowSize = window.innerWidth || document.documentElement.clientWidth, BX.bind(window, "resize", BX.throttle(this.onResize, 350, this))), e.onAdaptiveResize && (t = this.objList[0].scaleBy || this.objList[0].node, n = getComputedStyle(t), this.prevWrapperSize = parseInt(n.width) - parseInt(n.paddingLeft) - parseInt(n.paddingRight), BX.bind(window, "resize", BX.throttle(this.onAdaptiveResize, 350, this))), this.createTestNodes(), this.decrease() }, BX.FixFontSize.prototype = { createTestNodes: function () { this.textWrapper = BX.create("div", { style: { display: "inline-block", whiteSpace: "nowrap" } }), this.mainWrapper = BX.create("div", { style: { height: 0, overflow: "hidden" }, children: [this.textWrapper] }) }, insertTestNodes: function () { document.body.appendChild(this.mainWrapper) }, removeTestNodes: function () { document.body.removeChild(this.mainWrapper) }, decrease: function () { var e, t, n, r; this.insertTestNodes(); for (var i = this.objList.length - 1; i >= 0; i--)if (n = this.objList[i].scaleBy || this.objList[i].node, r = getComputedStyle(n), e = parseInt(r.width) - parseInt(r.paddingLeft) - parseInt(r.paddingRight), t = parseInt(getComputedStyle(this.objList[i].node)["font-size"]), this.textWrapperSetStyle(this.objList[i].node), this.textWrapperInsertText(this.objList[i].node)) { for (; this.textWrapper.offsetWidth > e && t > 0;)this.textWrapper.style.fontSize = --t + "px"; this.objList[i].smallestValue ? (this.minFontSize = this.minFontSize ? Math.min(this.minFontSize, t) : t, this.minFontSizeList.push(this.objList[i].node)) : this.objList[i].node.style.fontSize = t + "px" } this.minFontSizeList.length > 0 && this.setMinFont(), this.removeTestNodes() }, increase: function () { var e, t, n, r; this.insertTestNodes(), this.insertTestNodes(); for (var i = this.objList.length - 1; i >= 0; i--)if (n = this.objList[i].scaleBy || this.objList[i].node, r = getComputedStyle(n), e = parseInt(r.width) - parseInt(r.paddingLeft) - parseInt(r.paddingRight), t = parseInt(getComputedStyle(this.objList[i].node)["font-size"]), this.textWrapperSetStyle(this.objList[i].node), this.textWrapperInsertText(this.objList[i].node)) { for (; this.textWrapper.offsetWidth < e && t < this.objList[i].maxFontSize;)this.textWrapper.style.fontSize = ++t + "px"; t--, this.objList[i].smallestValue ? (this.minFontSize = this.minFontSize ? Math.min(this.minFontSize, t) : t, this.minFontSizeList.push(this.objList[i].node)) : this.objList[i].node.style.fontSize = t + "px" } this.minFontSizeList.length > 0 && this.setMinFont(), this.removeTestNodes() }, setMinFont: function () { for (var e = this.minFontSizeList.length - 1; e >= 0; e--)this.minFontSizeList[e].style.fontSize = this.minFontSize + "px"; this.minFontSize = 0 }, onResize: function () { var e = window.innerWidth || document.documentElement.clientWidth; this.prevWindowSize > e ? this.decrease() : this.prevWindowSize < e && this.increase(), this.prevWindowSize = e }, onAdaptiveResize: function () { var e = this.objList[0].scaleBy || this.objList[0].node, t = getComputedStyle(e), n = parseInt(t.width) - parseInt(t.paddingLeft) - parseInt(t.paddingRight); this.prevWrapperSize > n ? this.decrease() : this.prevWrapperSize < n && this.increase(), this.prevWrapperSize = n }, textWrapperInsertText: function (e) { return e.textContent ? (this.textWrapper.textContent = e.textContent, !0) : !!e.innerText && (this.textWrapper.innerText = e.innerText, !0) }, textWrapperSetStyle: function (e) { this.textWrapper.style.fontFamily = getComputedStyle(e)["font-family"], this.textWrapper.style.fontSize = getComputedStyle(e)["font-size"], this.textWrapper.style.fontStyle = getComputedStyle(e)["font-style"], this.textWrapper.style.fontWeight = getComputedStyle(e)["font-weight"], this.textWrapper.style.lineHeight = getComputedStyle(e)["line-height"] } }, BX.FixFontSize.init = function (e) { return new BX.FixFontSize(e) })
})();